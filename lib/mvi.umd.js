var __defProp=Object.defineProperty,__defNormalProp=(e,t,i)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,__publicField=(e,t,i)=>(__defNormalProp(e,"symbol"!=typeof t?t+"":t,i),i);!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).mvi={},e.Vue)}(this,(function(e,t){"use strict";const i={formatNumber(e){return this.isNumber(e)?e.toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,"):e},isNumber:e=>"number"==typeof e&&!isNaN(e),add:(...e)=>e.reduce(((e,t)=>{let i=0,s=0,o=0;try{i=e.toString().split(".")[1].length}catch(n){}try{s=t.toString().split(".")[1].length}catch(n){}return o=Math.pow(10,Math.max(i,s)),(e*o+t*o)/o})),subtract:(...e)=>e.reduce(((e,t)=>{let i=0,s=0,o=0;try{i=e.toString().split(".")[1].length}catch(n){}try{s=t.toString().split(".")[1].length}catch(n){}return o=Math.pow(10,Math.max(i,s)),(e*o-t*o)/o})),mutiply:(...e)=>e.reduce(((e,t)=>{let i=0,s=e.toString(),o=t.toString();try{i+=s.split(".")[1].length}catch(n){}try{i+=o.split(".")[1].length}catch(n){}return Number(s.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,i)})),divide:(...e)=>e.reduce(((e,t)=>{let i=0,s=0,o=e.toString(),n=t.toString();try{i=o.split(".")[1].length}catch(l){}try{s=n.split(".")[1].length}catch(l){}return o=Number(o.replace(".","")),n=Number(n.replace(".","")),o/n*Math.pow(10,s-i)}))},s={insert(e,t,s){if(!e||"string"!=typeof e)throw new TypeError("The first argument must be a string");if("string"!=typeof t)throw new TypeError("The second argument must be a string");if(!i.isNumber(s))throw new TypeError("The third argument must be a number");if(s<0)throw new Error("The third argument cannot be less than 0");return e.substring(0,s)+t+e.substring(s,e.length)},delete(e,t,s){if(!e||"string"!=typeof e)throw new TypeError("The first argument must be a string");if(!i.isNumber(t))throw new TypeError("The second argument must be a number");if(t<0)throw new Error("The second argument cannot be less than 0");if(!i.isNumber(s))throw new TypeError("The third argument must be a number");if(s<0)throw new Error("The third argument cannot be less than 0");return e.substring(0,t)+e.substring(t+s,e.length)},replace(e,t,s,o){if(!e||"string"!=typeof e)throw new TypeError("The first argument must be a string");if(!i.isNumber(t))throw new TypeError("The second argument must be a number");if(t<0)throw new Error("The second argument cannot be less than 0");if(!i.isNumber(s))throw new TypeError("The third argument must be a number");if(s<0)throw new Error("The third argument cannot be less than 0");if("string"!=typeof o)throw new TypeError("The fourth argument must be a string");return e.substring(0,t)+o+e.substring(s,e.length)},trim(e,t){if("string"!=typeof e)throw new TypeError("The first argument must be a string");let i=e.replace(/(^\s+)|(\s+$)/g,"");return t&&(i=i.replace(/\s/g,"")),i}},o={isWindow:e=>e&&e instanceof Window,getElementPoint(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(this.isElement(t)||(t=document.body),!this.isContains(t,e))throw new Error("The second argument and the first argument have no hierarchical relationship");let i=e,s=0,o=0;for(;this.isElement(e)&&this.isContains(t,e)&&t!==e;)s+=e.offsetTop,o+=e.offsetLeft,e=e.offsetParent;return{top:s,left:o,right:t.offsetWidth-o-i.offsetWidth,bottom:t.offsetHeight-s-i.offsetHeight}},isContains(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(!this.isElement(t,!0))throw new TypeError("The second argument must be an element");return e===t||(e.contains?e.contains(t):e.compareDocumentPosition?!!(16&e.compareDocumentPosition(t)):void 0)},isParentNode(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(!this.isElement(t,!0))throw new TypeError("The second argument must be an element");return e!==t&&t.parentNode===e},children(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(t&&"string"!=typeof t)throw new TypeError("The second argument must be a string");return[...e.querySelectorAll(t||"*")].filter((t=>t.parentNode===e))},siblings(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(t&&"string"!=typeof t)throw new TypeError("The second argument must be a string");if(!e.parentNode)return[];return[...e.parentNode.querySelectorAll(t||"*")].filter((t=>t.parentNode===e.parentNode&&t!=e))},rem2px(e){if(!i.isNumber(e))throw new TypeError("The argument must be a number");let t=this.getCssStyle(document.documentElement,"font-size");return i.mutiply(e,parseFloat(t))},px2rem(e){if(!i.isNumber(e))throw new TypeError("The argument must be a number");let t=this.getCssStyle(document.documentElement,"font-size");return i.divide(e,parseFloat(t))},width(e){"string"==typeof e&&e&&(e=document.body.querySelector(e)),this.isElement(e)||(e=document.body);let t=e.clientWidth,s=parseFloat(this.getCssStyle(e,"padding-left")),o=parseFloat(this.getCssStyle(e,"padding-right"));return i.subtract(t,s,o)},height(e){"string"==typeof e&&e&&(e=document.body.querySelector(e)),this.isElement(e)||(e=document.body);let t=e.clientHeight,s=parseFloat(this.getCssStyle(e,"padding-top")),o=parseFloat(this.getCssStyle(e,"padding-bottom"));return i.subtract(t,s,o)},removeClass(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(!t||"string"!=typeof t)throw new TypeError("The second argument must be a string");let i=e.classList;s.trim(t).split(/\s+/).forEach(((e,t)=>{i.remove(e)}))},addClass(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(!t||"string"!=typeof t)throw new TypeError("The second argument must be a string");let i=e.classList;s.trim(t).split(/\s+/).forEach(((e,t)=>{i.add(e)}))},hasClass(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(!t||"string"!=typeof t)throw new TypeError("The second argument must be a string");let i=e.classList;return s.trim(t).split(/\s+/).every(((e,t)=>i.contains(e)))},scrollTopBottomTrigger(e,t){"string"==typeof e&&e&&(e=document.body.querySelector(e));let s=window;this.isElement(e)&&e!=document.body&&e!=document.documentElement&&(s=e),"function"==typeof e&&(t=e);let o=!0;s.addEventListener("scroll",(e=>{if(this.getScrollTop(s)<=0){if(!o)return;"function"==typeof t&&(o=!1,t({state:"top",target:s}))}else{let e={state:"bottom",target:s},n=0;if(n=s==window?window.innerHeight:s.clientHeight,i.add(this.getScrollTop(s),n)+1>=this.getScrollHeight(s)&&n!=this.getScrollHeight(s)){if(!o)return;"function"==typeof t&&(o=!1,t(e))}else o=!0}}))},getScrollWidth(e){"string"==typeof e&&e&&(e=document.body.querySelector(e));let t=0;return t=this.isElement(e)&&e!=document.documentElement&&e!=document.body?e.scrollWidth:0==document.documentElement.scrollWidth||0==document.body.scrollWidth?document.documentElement.scrollWidth||document.body.scrollWidth:document.documentElement.scrollWidth>document.body.scrollWidth?document.documentElement.scrollWidth:document.body.scrollWidth,t},getScrollHeight(e){"string"==typeof e&&e&&(e=document.body.querySelector(e));let t=0;return t=this.isElement(e)&&e!=document.documentElement&&e!=document.body?e.scrollHeight:0==document.documentElement.scrollHeight||0==document.body.scrollHeight?document.documentElement.scrollHeight||document.body.scrollHeight:document.documentElement.scrollHeight>document.body.scrollHeight?document.documentElement.scrollHeight:document.body.scrollHeight,t},setScrollTop(e){let t=!1,s=e.el;"string"==typeof s&&s&&(s=document.body.querySelector(s));let o=e.number||0,n=e.time||0;return this.isElement(s)&&s!=document.body&&s!=document.documentElement&&s!=window||(t=!0),new Promise(((e,l)=>{if(n<=0)t?document.documentElement.scrollTop=document.body.scrollTop=o:s.scrollTop=o,e();else{let l=10,r=i.divide(n,l),a=this.getScrollTop(s),h=i.divide(i.subtract(o,a),r),c=setInterval((()=>{r>0?(r--,t?document.documentElement.scrollTop=document.body.scrollTop=a=i.add(a,h):s.scrollTop=a=i.add(a,h)):(clearInterval(c),e())}),l)}}))},getScrollTop(e){"string"==typeof e&&e&&(e=document.body.querySelector(e));let t=0;return t=this.isElement(e)&&e!=document.body&&e!=document.documentElement&&e!=window?e.scrollTop:0==document.documentElement.scrollTop||0==document.body.scrollTop?document.documentElement.scrollTop||document.body.scrollTop:document.documentElement.scrollTop>document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,t},getScrollLeft(e){"string"==typeof e&&e&&(e=document.body.querySelector(e));let t=0;return t=this.isElement(e)&&e!=document.body&&e!=document.documentElement&&e!=window?e.scrollLeft:0==document.documentElement.scrollLeft||0==document.body.scrollLeft?document.documentElement.scrollLeft||document.body.scrollLeft:document.documentElement.scrollLeft>document.body.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,t},setScrollLeft(e){let t=!1,s=e.el;"string"==typeof s&&s&&(s=document.body.querySelector(s));let o=e.number||0,n=e.time||0;return this.isElement(s)&&s!=document.body&&s!=document.documentElement&&s!=window||(t=!0),new Promise(((e,l)=>{if(n<=0)t?document.documentElement.scrollLeft=document.body.scrollLeft=o:s.scrollLeft=o,e();else{let l=10,r=i.divide(n,l),a=this.getScrollLeft(s),h=i.divide(i.subtract(o,a),r),c=setInterval((()=>{r>0?(r--,t?document.documentElement.scrollLeft=document.body.scrollLeft=a=i.add(a,h):s.scrollLeft=a=i.add(a,h)):(clearInterval(c),e())}),l)}}))},getCssStyle(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(!t||"string"!=typeof t)throw new TypeError("The second argument must be a string");let i="";return i=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e)[t]:e.currentStyle[t],i},getCssSelector(e){if(!e||"string"!=typeof e)throw new TypeError("The argument must be a selector string");if(/^#{1}/.test(e))return{type:"id",value:e.substr(1)};if(/^\./.test(e))return{type:"class",value:e.substr(1)};if(/^\[(.+)\]$/.test(e)){let t="attribute",i="",o=s.trim(e,!0).substring(1,s.trim(e,!0).length-1).split("=");return 1==o.length&&(i=o[0]),2==o.length&&(i={attributeName:o[0],attributeValue:o[1].replace(/\'/g,"").replace(/\"/g,"")}),{type:t,value:i}}return{type:"tag",value:e}},getElementBounding(e){"string"==typeof e&&e&&(e=document.body.querySelector(e)),this.isElement(e)||(e=document.body);let t=e.getBoundingClientRect();return{top:t.top,bottom:i.subtract(document.documentElement.clientHeight||window.innerHeight,t.bottom),left:t.left,right:i.subtract(document.documentElement.clientWidth||window.innerWidth,t.right)}},isElement:e=>e&&e instanceof Node&&1===e.nodeType,string2dom(e,t="div"){if(!e||"string"!=typeof e)throw new TypeError("The argument must be an HTML string");let i=document.createElement(t);return i.innerHTML=e,1==i.children.length?i.children[0]:i.children}},n="_dap-datas",l={remove(e,t){if(!(e instanceof Document||o.isElement(e)||o.isWindow(e)))throw new TypeError("The first argument must be an element node or window or document");let i=e[n]||{};null==t||""===t?e[n]={}:(delete i[t],e[n]=i)},has(e,t){if(!(e instanceof Document||o.isElement(e)||o.isWindow(e)))throw new TypeError("The first argument must be an element node or window or document");if(null==t||""===t)throw new TypeError("The second parameter must be a unique key");return(e[n]||{}).hasOwnProperty(t)},get(e,t){if(!(e instanceof Document||o.isElement(e)||o.isWindow(e)))throw new TypeError("The first argument must be an element node or window or document");let i=e[n]||{};return null==t||""===t?i:i[t]},set(e,t,i){if(!(e instanceof Document||o.isElement(e)||o.isWindow(e)))throw new TypeError("The first argument must be an element node or window or document");if(null==t||""===t)throw new TypeError("The second parameter must be a unique key");let s=e[n]||{};s[t]=i,e[n]=s}},r={matchingText(e,t){if(!e||"string"!=typeof e)throw new TypeError("The first argument must be a string");if(!t||"string"!=typeof t)throw new TypeError("The second argument must be a string");let i=null;if("Chinese"==t&&(i=/^[\u4e00-\u9fa5]+$/),"chinese"==t&&(i=/[\u4e00-\u9fa5]/),"email"==t&&(i=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/),"userName"==t&&(i=/^[a-zA-Z0-9_]{4,16}$/),"int+"==t&&(i=/^\d+$/),"int-"==t&&(i=/^-\d+$/),"int"==t&&(i=/^-?\d+$/),"pos"==t&&(i=/^\d*\.?\d+$/),"neg"==t&&(i=/^-\d*\.?\d+$/),"number"==t&&(i=/^-?\d*\.?\d+$/),"phone"==t&&(i=/^1[0-9]\d{9}$/),"idCard"==t&&(i=/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/),"url"==t&&(i=/^((https?|ftp|file):\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/),"IPv4"==t&&(i=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/),"hex"==t&&(i=/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/),"QQ"==t&&(i=/^[1-9][0-9]{4,10}$/),"weixin"==t&&(i=/^[a-zA-Z]([-_a-zA-Z0-9]{5,19})+$/),"plate"==t&&(i=/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/),!i)throw new Error("The second parameter is out of scope");return i.test(e)},getUrlParams(e){if(!e||"string"!=typeof e)throw new TypeError("The argument must be a string");let t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=window.location.search.substr(1);if(!i){let e=window.location.hash.split("?");2==e.length&&(i=e[1])}let s=i.match(t);return s?decodeURIComponent(s[2]):null},isEmptyObject(e){return!!this.isObject(e)&&0==Object.keys(e).length},equal(e,t){if(typeof e!=typeof t)return!1;if(this.isObject(e)&&this.isObject(t)){e=Object.assign({},e),t=Object.assign({},t);let i=Object.getOwnPropertyNames(e),s=Object.getOwnPropertyNames(t);if(i.length!=s.length)return!1;let o=i.length;for(let n=0;n<o;n++){let s=i[n],o=e[s],l=t[s];if(this.isObject(o))return!!this.equal(o,l);if(o!==l)return!1}return!0}return e===t},isObject:e=>!("object"!=typeof e||!e),copyText(e){if(!e||"string"!=typeof e)throw new TypeError("No text to copy is defined");if(!navigator.clipboard)throw new Error("navigator.clipboard must be obtained in a secure environment, such as localhost, 127.0.0.1, or https, so the editor's copy, paste, and cut functions cannot be used");return navigator.clipboard.writeText(e)}},a=e=>{let t=e.split(/[\s]+/g),i=[];return t.forEach((e=>{let t=e.split("."),s={eventName:t[0]};t.length>1&&(s.guid=t[1]),i.push(s)})),i},h=(e,t,i)=>{let s=l.get(e,"dap-defined-events")||{},o=Object.keys(s),n=o.length;for(let l=0;l<n;l++){let n=o[l];s[n].type==t&&(i?n==t+"."+i&&(e.removeEventListener(s[n].type,s[n].fn,s[n].options),s[n]=void 0):(e.removeEventListener(s[n].type,s[n].fn,s[n].options),s[n]=void 0))}s=(e=>{let t={};return Object.keys(e).forEach((i=>{e[i]&&(t[i]=e[i])})),t})(s),l.set(e,"dap-defined-events",s)},c={on(e,t,i,s){if(!(e instanceof Document||o.isElement(e)||o.isWindow(e)))throw new TypeError("The first argument must be an element node or window or document");if(!t||"string"!=typeof t)throw new TypeError("The second argument must be a string");if(!i||"function"!=typeof i)throw new TypeError("The third argument must be a function");r.isObject(s)||(s={});a(t).forEach((t=>{((e,t,i,s,o)=>{let n=l.get(e,"dap-defined-events")||{};i||(i=l.get(e,"dap-event-guid")||0,l.set(e,"dap-event-guid",i+1)),n[i=t+"."+i]&&n[i].type==t&&e.removeEventListener(t,n[i].fn,n[i].options),e.addEventListener(t,s,o),n[i]={type:t,fn:s,options:o},l.set(e,"dap-defined-events",n)})(e,t.eventName,t.guid,i.bind(e),s)}))},off(e,t){if(!(e instanceof Document||o.isElement(e)||o.isWindow(e)))throw new TypeError("The first argument must be an element node or window or document");let i=l.get(e,"dap-defined-events");if(!i)return;if(!t){let t=Object.keys(i),s=t.length;for(let o=0;o<s;o++){let s=t[o];e.removeEventListener(i[s].type,i[s].fn,i[s].options)}return l.remove(e,"dap-defined-events"),void l.remove(e,"dap-event-guid")}a(t).forEach((t=>{h(e,t.eventName,t.guid)}))},get(e){if(!(e instanceof Document||o.isElement(e)||o.isWindow(e)))throw new TypeError("The first argument must be an element node or window or document");let t=l.get(e,"dap-defined-events");if(t)return t}},d={rgb2hsv(e){if(!Array.isArray(e)||3!=e.length)throw new TypeError("Invalid argument");let t=0,i=0,s=0,o=e[0]>=255?255:e[0],n=e[1]>=255?255:e[1],l=e[2]>=255?255:e[2];o=o<=0?0:o,n=n<=0?0:n,l=l<=0?0:l;let r=Math.max(o,n,l),a=Math.min(o,n,l);return s=r/255,i=0===r?0:1-a/r,r===a?t=0:r===o&&n>=l?t=(n-l)/(r-a)*60+0:r===o&&n<l?t=(n-l)/(r-a)*60+360:r===n?t=(l-o)/(r-a)*60+120:r===l&&(t=(o-n)/(r-a)*60+240),[t,100*i,100*s]},hsv2rgb(e){if(!Array.isArray(e)||3!=e.length)throw new TypeError("Invalid argument");let t=e[0]>=360||e[0]<=0?0:e[0],i=e[1]>=100?100:e[1];i=i<=0?0:i;let s=e[2]>=100?100:e[2];s=s<=0?0:s,i/=100,s/=100;let o=0,n=0,l=0,r=parseInt(t/60%6),a=t/60-r,h=s*(1-i),c=s*(1-a*i),d=s*(1-(1-a)*i);switch(r){case 0:o=s,n=d,l=h;break;case 1:o=c,n=s,l=h;break;case 2:o=h,n=s,l=d;break;case 3:o=h,n=c,l=s;break;case 4:o=d,n=h,l=s;break;case 5:o=s,n=h,l=c}return o=parseInt(255*o),n=parseInt(255*n),l=parseInt(255*l),[o,n,l]},rgb2hex(e){if(!Array.isArray(e)||3!=e.length)throw new TypeError("Invalid argument");return"#"+((1<<24)+(e[0]<<16)+(e[1]<<8)+e[2]).toString(16).slice(1)},hex2rgb(e){if(!e||"string"!=typeof e)throw new TypeError("The argument must be a string");let t=e.toLowerCase();if(!r.matchingText(t,"hex"))throw new TypeError("The argument must be a hexadecimal color value");if(4===t.length){let e="#";for(let i=1;i<4;i+=1)e+=t.slice(i,i+1).concat(t.slice(i,i+1));t=e}let i=[];for(let s=1;s<7;s+=2)i.push(parseInt("0x"+t.slice(s,s+2)));return i}},m={start(e,t){if(!window.SpeechSynthesisUtterance||!window.speechSynthesis)throw new Error("The current browser does not support this syntax");let s={pitch:.8,rate:1,volume:1,start:function(){},end:function(){},pause:function(){},resume:function(){},error:function(){}};r.isObject(t)||(t={}),i.isNumber(t.pitch)&&(s.pitch=t.pitch),i.isNumber(t.rate)&&(s.rate=t.rate),i.isNumber(t.volume)&&(s.volume=t.volume),"function"==typeof t.start&&(s.start=t.start),"function"==typeof t.end&&(s.end=t.end),"function"==typeof t.pause&&(s.pause=t.pause),"function"==typeof t.resume&&(s.resume=t.resume),"function"==typeof t.error&&(s.error=t.error);const o=new SpeechSynthesisUtterance;o.text=e,o.pitch=s.pitch,o.rate=s.rate,o.volume=s.volume,o.lang="zh-CN",o.onstart=t=>{s.start.apply(o,[t,{text:e,pitch:s.pitch,rate:s.rate,volume:s.volume}])},o.onend=t=>{s.end.apply(o,[t,{text:e,pitch:s.pitch,rate:s.rate,volume:s.volume}])},o.onpause=t=>{s.pause.apply(o,[t,{text:e,pitch:s.pitch,rate:s.rate,volume:s.volume}])},o.onresume=t=>{s.resume.apply(o,[t,{text:e,pitch:s.pitch,rate:s.rate,volume:s.volume}])},o.onerror=t=>{s.error.apply(o,[t,{text:e,pitch:s.pitch,rate:s.rate,volume:s.volume}])},window.speechSynthesis.speak(o)},stop(){if(!window.SpeechSynthesisUtterance||!window.speechSynthesis)throw new Error("The current browser does not support this syntax");window.speechSynthesis.cancel()},pause(){if(!window.SpeechSynthesisUtterance||!window.speechSynthesis)throw new Error("The current browser does not support this syntax");window.speechSynthesis.pause()},resume(){if(!window.SpeechSynthesisUtterance||!window.speechSynthesis)throw new Error("The current browser does not support this syntax");window.speechSynthesis.resume()}},u={number:i,data:l,element:o,event:c,common:r,color:d,file:{getImageUrl(e){if(!(e&&e instanceof File))throw new TypeError("The argument must be a File object");return window.URL.createObjectURL(e)},dataFileToBase64:e=>new Promise(((t,i)=>{e&&e instanceof File||i(new TypeError("The argument must be a File object"));let s=new FileReader;s.readAsDataURL(e),s.onloadend=()=>{let e=s.result;t(e)}})),dataBase64toFile(e,t){if(!e||"string"!=typeof e)throw new TypeError("The first argument must be a string");if(!t||"string"!=typeof t)throw new TypeError("The second argument must be a string");let i=e.split(","),s=i[0].match(/:(.*?);/)[1],o=atob(i[1]),n=o.length,l=new Uint8Array(n);for(;n--;)l[n]=o.charCodeAt(n);return new File([l],t,{type:s})}},string:s,platform:{language:()=>window.navigator.browserLanguage||window.navigator.language,device(){const e=window.navigator.userAgent;return{PC:!e.match(/AppleWebKit.*Mobile.*/),Mobile:!!e.match(/AppleWebKit.*Mobile.*/),iPhone:e.includes("iPhone"),Phone:e.includes("Android")&&/(?:Mobile)/.test(e)||e.includes("iPhone")||/(?:Windows Phone)/.test(e),iPad:e.includes("iPad"),Tablet:e.includes("iPad")||e.includes("Android")&&!/(?:Mobile)/.test(e)||e.includes("Firefox")&&/(?:Tablet)/.test(e),WindowsPhone:/(?:Windows Phone)/.test(e)}},browser(){const e=window.navigator.userAgent;return{Edge:!!e.match(/Edg\/([\d.]+)/),weixin:e.includes("MicroMessenger"),QQ:e.includes("QQ"),QQBrowser:e.includes("MQQBrowser"),UC:e.includes("UCBrowser"),Chrome:e.includes("Chrome"),Firefox:e.includes("Firefox"),sougou:e.toLocaleLowerCase().includes("se 2.x")||e.toLocaleLowerCase().includes("metasr")||e.toLocaleLowerCase().includes("sogou"),Safari:e.includes("Safari")&&!e.includes("Chrome")}},browserKernel(){const e=window.navigator.userAgent;return e.includes("Presto")?"opera":e.includes("AppleWebKit")?"webkit":e.includes("Gecko")&&!e.includes("KHTML")?"gecko":""},os(){const e=window.navigator.userAgent;return{Windows:e.includes("Windows"),Windows_CPU:e.toLocaleLowerCase().includes("win64")||e.toLocaleLowerCase().includes("wow64")?"x64":e.toLocaleLowerCase().includes("win32")||e.toLocaleLowerCase().includes("wow32")?"x32":"",Windows_Version:e.includes("Windows NT 6.1")||e.includes("Windows 7")?"Win7":e.includes("Windows NT 6.3")||e.includes("Windows NT 6.2")||e.includes("Windows NT 8")?"Win8":e.includes("Windows NT 10")||e.includes("Windows NT 6.4")?"Win10":"",Mac:e.includes("Macintosh"),Mac_Version:function(){if(e.includes("Macintosh")){const t=e.match(/Mac OS X ([^\s]+)\)/);if(t&&t[1])return t[1].split(/_|\./).join(".")}return""}(),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),ios_Version:function(){if(e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)){const t=e.match(/CPU.+OS ([^\s]+) like Mac OS X/);if(t&&t[1])return t[1].split(/_|\./).join(".")}return""}(),Android:e.includes("Android"),Android_Version:function(){const t=e.match(/Android ([^\s]+);/);return t&&t[1]?t[1].split(/_|\./).join("."):""}(),Linux:e.includes("Linux"),HarmonyOS:e.includes("HarmonyOS"),Ubuntu:e.includes("Ubuntu")}}},speech:m,install:e=>{e.config.globalProperties.$dap=u,e.provide("$dap",u)}};u.event.on(window,"touchstart.ios",(e=>{}));const p=class{constructor(e,t){this.$el=e,t=u.common.isObject(t)?t:{},this.$target=t.target,this.$root=t.root,this.callback=t.callback,this.time=t.time,this.distance=t.distance,this.hasInit=!1}init(){if(!this.hasInit){if(this.hasInit=!0,"string"==typeof this.$root&&this.$root&&(this.$root=document.documentElement.querySelector(this.$root)),"string"==typeof this.$target&&this.$target&&(this.$target=document.documentElement.querySelector(this.$target)),!u.element.isElement(this.$el))throw new TypeError("The element you click on is not a node element");if(!u.element.isElement(this.$target))throw new TypeError("Anchor element is not a node element");u.number.isNumber(this.time)||(this.time=0),"function"!=typeof this.callback&&(this.callback=function(){}),u.number.isNumber(this.distance)||(this.distance=.1),u.element.isElement(this.$root)?u.event.on(this.$el,"click.anchor",(e=>{let t=u.element.getElementPoint(this.$target,this.$root).top;u.element.setScrollTop({el:this.$root,number:t-u.element.rem2px(this.distance),time:this.time}).then((()=>{let e=t-u.element.rem2px(this.distance)<=0?0:t-u.element.rem2px(this.distance);this.callback(e)}))})):u.event.on(this.$el,"click.anchor",(e=>{let t=u.element.getElementPoint(this.$target).top;u.element.setScrollTop({number:t-u.element.rem2px(this.distance),time:this.time}).then((()=>{let e=t-u.element.rem2px(this.distance)<=0?0:t-u.element.rem2px(this.distance);this.callback(e)}))}))}}};p.install=e=>{e.directive("anchor",{mounted(e,t){let i={};u.common.isObject(t.value)&&Object.assign(i,t.value),new p(e,i).init()}})};class f{constructor(e,t){this.$el=e,t=u.common.isObject(t)?t:{},this.draggableX=t.draggableX,this.draggableY=t.draggableY,this.mode=t.mode,this.beforeResize=t.beforeResize,this.resize=t.resize,this.trigger=t.trigger,this.end=t.end,this.ready=t.ready,this.range=t.range,this.draggable=!1,this.leftRange={},this.rightRange={},this.topRange={},this.bottomRange={},this.leftTopRange={},this.rightTopRange={},this.leftBottomRange={},this.rightBottomRange={},this.startX=0,this.satrtY=0,this._width=0,this._height=0,this._left=0,this._right=0,this.hasInit=!1,this.cursor="",this.guid=this.createGuid()}getIsInRange(e,t,i){let s=e>=i.x[0]&&e<=i.x[1],o=t>=i.y[0]&&t<=i.y[1];return!(!s||!o)}down(e){this._width=this.$el.offsetWidth,this._height=this.$el.offsetHeight,this._left=this.$el.offsetLeft,this._top=this.$el.offsetTop,this.cursor=u.element.getCssStyle(this.$el,"cursor"),this.draggableX&&this.draggableY?this.getIsInRange(this.startX,this.startY,this.leftTopRange)?(this.mode.left||this.mode.top)&&(this.draggable=!0,this.$el.style.cursor="nw-resize",this.trigger.apply(this,[{event:e,area:f.AREA.LEFTTOP}])):this.getIsInRange(this.startX,this.startY,this.leftBottomRange)?(this.mode.left||this.mode.bottom)&&(this.draggable=!0,this.$el.style.cursor="sw-resize",this.trigger.apply(this,[{event:e,area:f.AREA.LEFTBOTTOM}])):this.getIsInRange(this.startX,this.startY,this.rightTopRange)?(this.mode.right||this.mode.top)&&(this.draggable=!0,this.$el.style.cursor="ne-resize",this.trigger.apply(this,[{event:e,area:f.AREA.RIGHTTOP}])):this.getIsInRange(this.startX,this.startY,this.rightBottomRange)?(this.mode.right||this.mode.bottom)&&(this.draggable=!0,this.$el.style.cursor="se-resize",this.trigger.apply(this,[{event:e,area:f.AREA.RIGHTBOTTOM}])):this.getIsInRange(this.startX,this.startY,this.leftRange)?this.mode.left&&(this.draggable=!0,this.$el.style.cursor="w-resize",this.trigger.apply(this,[{event:e,area:f.AREA.LEFT}])):this.getIsInRange(this.startX,this.startY,this.rightRange)?this.mode.right&&(this.draggable=!0,this.$el.style.cursor="e-resize",this.trigger.apply(this,[{event:e,area:f.AREA.RIGHT}])):this.getIsInRange(this.startX,this.startY,this.topRange)?this.mode.top&&(this.draggable=!0,this.$el.style.cursor="n-resize",this.trigger.apply(this,[{event:e,area:f.AREA.TOP}])):this.getIsInRange(this.startX,this.startY,this.bottomRange)&&this.mode.bottom&&(this.draggable=!0,this.$el.style.cursor="s-resize",this.trigger.apply(this,[{event:e,area:f.AREA.BOTTOM}])):this.draggableX?this.getIsInRange(this.startX,this.startY,this.leftRange)?this.mode.left&&(this.draggable=!0,this.$el.style.cursor="w-resize",this.trigger.apply(this,[{event:e,area:f.AREA.LEFT}])):this.getIsInRange(this.startX,this.startY,this.rightRange)&&this.mode.right&&(this.draggable=!0,this.$el.style.cursor="e-resize",this.trigger.apply(this,[{event:e,area:f.AREA.RIGHT}])):this.draggableY&&(this.getIsInRange(this.startX,this.startY,this.topRange)?this.mode.top&&(this.draggable=!0,this.$el.style.cursor="n-resize",this.trigger.apply(this,[{event:e,area:f.AREA.TOP}])):this.getIsInRange(this.startX,this.startY,this.bottomRange)&&this.mode.bottom&&(this.draggable=!0,this.$el.style.cursor="s-resize",this.trigger.apply(this,[{event:e,area:f.AREA.BOTTOM}])))}move(e,t,i){if(this.draggable){let s=t-this.startX,o=i-this.startY;if(this.draggableX&&this.draggableY){if(this.getIsInRange(this.startX,this.startY,this.leftTopRange)){if((this.mode.left||this.mode.top)&&!1===this.beforeResize.apply(this,[{event:e,area:f.AREA.LEFTTOP,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}]))return;this.mode.left&&(this.$el.style.width=this._width-s+"px",this.$el.style.left=this._left+s+"px"),this.mode.top&&(this.$el.style.height=this._height-o+"px",this.$el.style.top=this._top+o+"px"),(this.mode.left||this.mode.top)&&this.resize.apply(this,[{area:f.AREA.LEFTTOP,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}])}else if(this.getIsInRange(this.startX,this.startY,this.leftBottomRange)){if((this.mode.left||this.mode.bottom)&&!1===this.beforeResize.apply(this,[{area:f.AREA.LEFTBOTTOM,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}]))return;this.mode.left&&(this.$el.style.width=this._width-s+"px",this.$el.style.left=this._left+s+"px"),this.mode.bottom&&(this.$el.style.height=this._height+o+"px"),(this.mode.left||this.mode.bottom)&&this.resize.apply(this,[{area:f.AREA.LEFTBOTTOM,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}])}else if(this.getIsInRange(this.startX,this.startY,this.rightTopRange)){if((this.mode.right||this.mode.top)&&!1===this.beforeResize.apply(this,[{area:f.AREA.RIGHTTOP,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}]))return;this.mode.right&&(this.$el.style.width=this._width+s+"px"),this.mode.top&&(this.$el.style.height=this._height-o+"px",this.$el.style.top=this._top+o+"px"),(this.mode.top||this.mode.right)&&this.resize.apply(this,[{area:f.AREA.RIGHTTOP,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}])}else if(this.getIsInRange(this.startX,this.startY,this.rightBottomRange)){if((this.mode.right||this.mode.bottom)&&!1===this.beforeResize.apply(this,[{area:f.AREA.RIGHTBOTTOM,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}]))return;this.mode.right&&(this.$el.style.width=this._width+s+"px"),this.mode.bottom&&(this.$el.style.height=this._height+o+"px"),(this.mode.right||this.mode.bottom)&&this.resize.apply(this,[{area:f.AREA.RIGHTBOTTOM,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}])}else if(this.getIsInRange(this.startX,this.startY,this.leftRange)){if(this.mode.left){if(!1===this.beforeResize.apply(this,[{area:f.AREA.LEFT,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}]))return;this.$el.style.width=this._width-s+"px",this.$el.style.left=this._left+s+"px",this.resize.apply(this,[{area:f.AREA.LEFT,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}])}}else if(this.getIsInRange(this.startX,this.startY,this.rightRange)){if(this.mode.right){if(!1===this.beforeResize.apply(this,[{area:f.AREA.RIGHT,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}]))return;this.$el.style.width=this._width+s+"px",this.resize.apply(this,[{area:f.AREA.RIGHT,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}])}}else if(this.getIsInRange(this.startX,this.startY,this.topRange)){if(this.mode.top){if(!1===this.beforeResize.apply(this,[{area:f.AREA.TOP,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}]))return;this.$el.style.height=this._height-o+"px",this.$el.style.top=this._top+o+"px",this.resize.apply(this,[{area:f.AREA.TOP,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}])}}else if(this.getIsInRange(this.startX,this.startY,this.bottomRange)&&this.mode.bottom){if(!1===this.beforeResize.apply(this,[{area:f.AREA.BOTTOM,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}]))return;this.$el.style.height=this._height+o+"px",this.resize.apply(this,[{area:f.AREA.BOTTOM,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}])}}else if(this.draggableX){if(this.getIsInRange(this.startX,this.startY,this.leftRange)){if(this.mode.left){if(!1===this.beforeResize.apply(this,[{area:f.AREA.LEFT,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}]))return;this.$el.style.width=this._width-s+"px",this.$el.style.left=this._left+s+"px",this.resize.apply(this,[{area:f.AREA.LEFT,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}])}}else if(this.getIsInRange(this.startX,this.startY,this.rightRange)&&this.mode.right){if(!1===this.beforeResize.apply(this,[{area:f.AREA.RIGHT,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}]))return;this.$el.style.width=this._width+s+"px",this.resize.apply(this,[{area:f.AREA.RIGHT,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}])}}else if(this.draggableY)if(this.getIsInRange(this.startX,this.startY,this.topRange)){if(this.mode.top){if(!1===this.beforeResize.apply(this,[{area:f.AREA.TOP,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}]))return;this.$el.style.height=this._height-o+"px",this.$el.style.top=this._top+o+"px",this.resize.apply(this,[{area:f.AREA.TOP,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}])}}else if(this.getIsInRange(this.startX,this.startY,this.bottomRange)&&this.mode.bottom){if(!1===this.beforeResize.apply(this,[{area:f.AREA.BOTTOM,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}]))return;this.$el.style.height=this._height+o+"px",this.resize.apply(this,[{area:f.AREA.BOTTOM,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:o}])}}}leave(e){this.draggable&&(this.$el.style.cursor=this.cursor,this.draggable=!1,this.draggableX&&this.draggableY?this.getIsInRange(this.startX,this.startY,this.leftTopRange)?this.end.apply(this,[{event:e,area:f.AREA.LEFTTOP}]):this.getIsInRange(this.startX,this.startY,this.leftBottomRange)?this.end.apply(this,[{event:e,area:f.AREA.LEFTBOTTOM}]):this.getIsInRange(this.startX,this.startY,this.rightTopRange)?this.end.apply(this,[{event:e,area:f.AREA.RIGHTTOP}]):this.getIsInRange(this.startX,this.startY,this.rightBottomRange)?this.end.apply(this,[{event:e,area:f.AREA.RIGHTBOTTOM}]):this.getIsInRange(this.startX,this.startY,this.leftRange)?this.end.apply(this,[{event:e,area:f.AREA.LEFT}]):this.getIsInRange(this.startX,this.startY,this.rightRange)?this.end.apply(this,[{event:e,area:f.AREA.RIGHT}]):this.getIsInRange(this.startX,this.startY,this.topRange)?this.end.apply(this,[{event:e,area:f.AREA.TOP}]):this.getIsInRange(this.startX,this.startY,this.bottomRange)&&this.end.apply(this,[{event:e,area:f.AREA.BOTTOM}]):this.draggableX?this.getIsInRange(this.startX,this.startY,this.leftRange)?this.end.apply(this,[{event:e,area:f.AREA.LEFT}]):this.getIsInRange(this.startX,this.startY,this.rightRange)&&this.end.apply(this,[{event:e,area:f.AREA.RIGHT}]):this.draggableY&&(this.getIsInRange(this.startX,this.startY,this.topRange)?this.end.apply(this,[{event:e,area:f.AREA.TOP}]):this.getIsInRange(this.startX,this.startY,this.bottomRange)&&this.end.apply(this,[{event:e,area:f.AREA.BOTTOM}])),this.setRange())}setOn(){u.event.on(this.$el,"touchstart.resize",(e=>{this.startX=e.targetTouches[0].pageX,this.startY=e.targetTouches[0].pageY,this.down(e)})),u.event.on(this.$el,"touchmove.resize",(e=>{e.cancelable&&e.preventDefault();let t=e.targetTouches[0].pageX,i=e.targetTouches[0].pageY;this.move(e,t,i)})),u.event.on(this.$el,"touchend.resize",(e=>{this.leave(e)})),u.event.on(this.$el,"mousedown.resize",(e=>{this.startX=e.pageX,this.startY=e.pageY,this.down(e)})),u.event.on(document.documentElement,`mousemove.resize_${this.guid}`,(e=>{let t=e.pageX,i=e.pageY;this.move(e,t,i)})),u.event.on(document.documentElement,`mouseup.resize_${this.guid}`,(e=>{this.leave(e)}))}createGuid(){let e=u.data.get(document.body,"mvi-directives-resize-guid")||0;return e++,u.data.set(document.body,"mvi-directives-resize-guid",e),e}init(){if(!this.hasInit){if(this.hasInit=!0,!u.element.isElement(this.$el))throw new TypeError("The element that needs to be resized is not a node element");"boolean"!=typeof this.draggableX&&(this.draggableX=!0),"boolean"!=typeof this.draggableY&&(this.draggableY=!0),u.common.isObject(this.mode)?("boolean"!=typeof this.mode.left&&(this.mode.left=f.MODE.LEFT),"boolean"!=typeof this.mode.top&&(this.mode.top=f.MODE.TOP),"boolean"!=typeof this.mode.bottom&&(this.mode.bottom=f.MODE.BOTTOM),"boolean"!=typeof this.mode.right&&(this.mode.right=f.MODE.RIGHT)):this.mode={left:f.MODE.LEFT,top:f.MODE.TOP,bottom:f.MODE.BOTTOM,right:f.MODE.RIGHT},"function"!=typeof this.beforeResize&&(this.beforeResize=function(){}),"function"!=typeof this.resize&&(this.resize=function(){}),"function"!=typeof this.trigger&&(this.trigger=function(){}),"function"!=typeof this.end&&(this.end=function(){}),"function"!=typeof this.ready&&(this.ready=function(){}),u.number.isNumber(this.range)||(this.range=.4),this.setRange(),this.setOn(),this.ready.apply(this,[this])}}setRange(){let e=this.$el.getBoundingClientRect();this.draggableX&&this.draggableY?(this.leftRange={x:[e.left,e.left+u.element.rem2px(this.range)],y:[e.top+u.element.rem2px(this.range),e.bottom-u.element.rem2px(this.range)]},this.rightRange={x:[e.right-u.element.rem2px(this.range),e.right],y:[e.top+u.element.rem2px(this.range),e.bottom-u.element.rem2px(this.range)]},this.topRange={x:[e.left+u.element.rem2px(this.range),e.right-u.element.rem2px(this.range)],y:[e.top,e.top+u.element.rem2px(this.range)]},this.bottomRange={x:[e.left+u.element.rem2px(this.range),e.right-u.element.rem2px(this.range)],y:[e.bottom-u.element.rem2px(this.range),e.bottom]},this.leftTopRange={x:[e.left,e.left+u.element.rem2px(this.range)],y:[e.top,e.top+u.element.rem2px(this.range)]},this.leftBottomRange={x:[e.left,e.left+u.element.rem2px(this.range)],y:[e.bottom-u.element.rem2px(this.range),e.bottom]},this.rightTopRange={x:[e.right-u.element.rem2px(this.range),e.right],y:[e.top,e.top+u.element.rem2px(this.range)]},this.rightBottomRange={x:[e.right-u.element.rem2px(this.range),e.right],y:[e.bottom-u.element.rem2px(this.range),e.bottom]}):this.draggableX?(this.leftRange={x:[e.left,e.left+u.element.rem2px(this.range)],y:[e.top,e.bottom]},this.rightRange={x:[e.right-u.element.rem2px(this.range),e.right],y:[e.top,e.bottom]}):this.draggableY&&(this.topRange={x:[e.left,e.right],y:[e.top,e.top+u.element.rem2px(this.range)]},this.bottomRange={x:[e.left,e.right],y:[e.bottom-u.element.rem2px(this.range),e.bottom]})}destroy(){u.event.off(document.documentElement,`mousemove.resize_${this.guid} mouseup.resize_${this.guid}`)}disabledDragX(){this.draggableX=!1,this.setRange()}disabledDragY(){this.draggableY=!1,this.setRange()}enabledDragX(){this.draggableX=!0,this.setRange()}enabledDragY(){this.draggableY=!0,this.setRange()}}f.AREA={LEFT:"left",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFTTOP:"left-top",LEFTBOTTOM:"left-bottom",RIGHTTOP:"right-top",RIGHTBOTTOM:"right-bottom"},f.MODE={LEFT:!0,TOP:!0,BOTTOM:!0,RIGHT:!0};const g=f;g.install=e=>{e.directive("resize",{mounted(e,t){let i={};u.common.isObject(t.value)&&Object.assign(i,t.value);let s=new g(e,i);s.init(),u.data.set(e,"directive:resize",s)},beforeUnmount(e){let t=u.data.get(e,"directive:resize");t&&t.destroy()}})};const y=class{constructor(e,t){this.$el=e,t=u.common.isObject(t)?t:{},this.$container=t.container,this.draggableX=t.draggableX,this.draggableY=t.draggableY,this.mode=t.mode,this.cursor=t.cursor,this.drag=t.drag,this.beforeDrag=t.beforeDrag,this.dragged=t.dragged,this.ready=t.ready,this.draggable=!1,this.hasInit=!1,this.pageX=0,this.pageY=0,this.guid=this.createGuid()}setOn(){u.event.on(this.$el,"touchstart.drag",(e=>{(this.draggableX||this.draggableY)&&(this.pageX=e.targetTouches[0].pageX-u.element.getElementPoint(this.$el,this.$container).left,this.pageY=e.targetTouches[0].pageY-u.element.getElementPoint(this.$el,this.$container).top,this.draggable=!0,this.cursor&&(this.$el.style.cursor="move"),this.beforeDrag.apply(this,[this.$el,this.$container,u.element.getElementPoint(this.$el,this.$container),e]))})),u.event.on(this.$el,"touchmove.drag",(e=>{if(this.draggable){if(!this.draggableX&&!this.draggableY)return;e.cancelable&&e.preventDefault();let t=e.targetTouches[0].pageX-this.pageX,i=e.targetTouches[0].pageY-this.pageY;this.draggableX&&(this.$el.style.left=t+"px",this.$el.style.right="auto"),this.draggableY&&(this.$el.style.top=i+"px",this.$el.style.bottom="auto"),this.resize(),(this.draggableX||this.draggableY)&&this.drag.apply(this,[this.$el,this.$container,u.element.getElementPoint(this.$el,this.$container),e])}})),u.event.on(this.$el,"touchend.drag",(e=>{if(this.draggable){if(!this.draggableX&&!this.draggableY)return;this.draggable=!1,this.cursor&&(this.$el.style.cursor=""),this.dragged.apply(this,[this.$el,this.$container,u.element.getElementPoint(this.$el,this.$container),e])}})),u.event.on(this.$el,"mousedown.drag",(e=>{(this.draggableX||this.draggableY)&&(this.pageX=e.pageX-u.element.getElementPoint(this.$el,this.$container).left,this.pageY=e.pageY-u.element.getElementPoint(this.$el,this.$container).top,this.draggable=!0,this.cursor&&(this.$el.style.cursor="move"),this.beforeDrag.apply(this,[this.$el,this.$container,u.element.getElementPoint(this.$el,this.$container),e]))})),u.event.on(document.documentElement,`mousemove.drag_${this.guid}`,(e=>{if(this.draggable){if(!this.draggableX&&!this.draggableY)return;let t=e.pageX-this.pageX,i=e.pageY-this.pageY;this.draggableX&&(this.$el.style.left=t+"px",this.$el.style.right="auto"),this.draggableY&&(this.$el.style.top=i+"px",this.$el.style.bottom="auto"),this.resize(),(this.draggableX||this.draggableY)&&this.drag.apply(this,[this.$el,this.$container,u.element.getElementPoint(this.$el,this.$container),e])}})),u.event.on(document.documentElement,`mouseup.drag_${this.guid}`,(e=>{if(this.draggable){if(!this.draggableX&&!this.draggableY)return;this.draggable=!1,this.cursor&&(this.$el.style.cursor=""),this.dragged.apply(this,[this.$el,this.$container,u.element.getElementPoint(this.$el,this.$container),e])}}))}resize(){"in"==this.mode?(this.draggableX&&(u.element.getElementPoint(this.$el,this.$container).left<=0&&(this.$el.style.left=0),u.element.getElementPoint(this.$el,this.$container).left>=this.$container.offsetWidth-this.$el.offsetWidth&&(this.$el.style.left=this.$container.offsetWidth-this.$el.offsetWidth+"px")),this.draggableY&&(u.element.getElementPoint(this.$el,this.$container).top<=0&&(this.$el.style.top=0),u.element.getElementPoint(this.$el,this.$container).top>=this.$container.offsetHeight-this.$el.offsetHeight&&(this.$el.style.top=this.$container.offsetHeight-this.$el.offsetHeight+"px"))):"on"==this.mode?(this.draggableX&&(u.element.getElementPoint(this.$el,this.$container).left<=-this.$el.offsetWidth/2&&(this.$el.style.left=-this.$el.offsetWidth/2+"px"),u.element.getElementPoint(this.$el,this.$container).left>=this.$container.offsetWidth-this.$el.offsetWidth/2&&(this.$el.style.left=this.$container.offsetWidth-this.$el.offsetWidth/2+"px")),this.draggableY&&(u.element.getElementPoint(this.$el,this.$container).top<=-this.$el.offsetHeight/2&&(this.$el.style.top=-this.$el.offsetHeight/2+"px"),u.element.getElementPoint(this.$el,this.$container).top>=this.$container.offsetHeight-this.$el.offsetHeight/2&&(this.$el.style.top=this.$container.offsetHeight-this.$el.offsetHeight/2+"px"))):"out"==this.mode&&(this.draggableX&&(u.element.getElementPoint(this.$el,this.$container).left<=-this.$el.offsetWidth&&(this.$el.style.left=-this.$el.offsetWidth+"px"),u.element.getElementPoint(this.$el,this.$container).left>=this.$container.offsetWidth&&(this.$el.style.left=this.$container.offsetWidth+"px")),this.draggableY&&(u.element.getElementPoint(this.$el,this.$container).top<=-this.$el.offsetHeight&&(this.$el.style.top=-this.$el.offsetHeight+"px"),u.element.getElementPoint(this.$el,this.$container).top>=this.$container.offsetHeight&&(this.$el.style.top=this.$container.offsetHeight+"px")))}createGuid(){let e=u.data.get(document.body,"mvi-directives-drag-guid")||0;return e++,u.data.set(document.body,"mvi-directives-drag-guid",e),e}init(){if(!this.hasInit){if(this.hasInit=!0,!u.element.isElement(this.$el))throw new TypeError("The element that needs to be dragged is not a node element");if("string"==typeof this.$container&&this.$container&&(this.$container=document.body.querySelector(this.$container)),u.element.isElement(this.$container)||(this.$container=document.body),!u.element.isContains(this.$container,this.$el))throw new Error("Elements that need to be dragged are not descendants of container elements");if("static"==u.element.getCssStyle(this.$container,"position")&&this.$container!=document.body)throw new Error("The container element cannot be static positioning");if("static"==u.element.getCssStyle(this.$el,"position")||"relative"==u.element.getCssStyle(this.$el,"position"))throw new Error("The element that need to be dragged cannot be static and relative positioning");"boolean"!=typeof this.draggableY&&(this.draggableY=!0),"boolean"!=typeof this.draggableX&&(this.draggableX=!0),"on"!=this.mode&&"in"!=this.mode&&"over"!=this.mode&&"out"!=this.mode&&(this.mode=""),"boolean"!=typeof this.cursor&&(this.cursor=!0),"function"!=typeof this.drag&&(this.drag=function(){}),"function"!=typeof this.beforeDrag&&(this.beforeDrag=function(){}),"function"!=typeof this.dragged&&(this.dragged=function(){}),"function"!=typeof this.ready&&(this.ready=function(){}),this.setOn(),this.ready.apply(this,[this])}}destroy(){u.event.off(document.documentElement,`mousemove.drag_${this.guid} mouseup.drag_${this.guid}`)}};y.install=e=>{e.directive("drag",{mounted(e,t){let i={};u.common.isObject(t.value)&&Object.assign(i,t.value);let s=new y(e,i);s.init(),u.data.set(e,"directive:drag",s)},beforeUnmount(e){let t=u.data.get(e,"directive:drag");t&&t.destroy()}})};const b=class{constructor(e,t){this.$el=e,this.ratio=t,this.width=0,this.height=0,this.hasInit=!1,this.guid=this.createGuid()}createGuid(){let e=u.data.get(document.body,"mvi-directives-prop-guid")||0;return e++,u.data.set(document.body,"mvi-directives-prop-guid",e),e}set(e){"number"==typeof e&&!isNaN(e)&&e>=0&&(this.ratio=e),this.width=Number(parseFloat(u.element.getCssStyle(this.$el,"width")).toFixed(2)),this.height=this.width*this.ratio,this.$el.style.height=this.height+"px"}init(){if(!this.hasInit){if(this.hasInit=!0,!u.element.isElement(this.$el))throw new TypeError("The bound element is not a node element");("number"!=typeof this.ratio||isNaN(this.ratio))&&(this.ratio=0),this.set(),u.event.on(window,`resize.prop_${this.guid}`,(e=>{this.set()}))}}destroy(){u.event.off(window,`resize.prop_${this.guid}`)}};b.install=e=>{e.directive("prop",{mounted(e,t){let i=new b(e,t.value);i.init(),u.data.set(e,"directive:prop",i)},updated(e,t){let i=u.data.get(e,"directive:prop");i&&i.set(t.value)},beforeUnmount(e){let t=u.data.get(e,"directive:prop");t&&t.destroy()}})};const v=class{constructor(e,t){this.$el=e,t=u.common.isObject(t)?t:{},this.top=t.top,this.bottom=t.bottom,this.hasInit=!1}init(){this.hasInit||(this.hasInit=!0,u.element.isElement(this.$el)||(this.$el=window),"function"!=typeof this.top&&(this.top=function(){}),"function"!=typeof this.bottom&&(this.bottom=function(){}),u.element.scrollTopBottomTrigger(this.$el,(e=>{"top"==e.state?this.top.apply(this,[e.target]):this.bottom.apply(this,[e.target])})))}};v.install=e=>{e.directive("scroll",{mounted(e,t){let i={};u.common.isObject(t.value)&&Object.assign(i,t.value),new v(e,i).init()}})};const k=class{constructor(e,t){this.$el=e,t=u.common.isObject(t)?t:{},this.$root=t.el,this.beforeEnter=t.beforeEnter,this.enter=t.enter,this.beforeLeave=t.beforeLeave,this.leave=t.leave,this.hasInit=!1,this.triggerTag={before:!1,after:!1},this.guid=this.createGuid()}scrollHandle(){let e=u.element.getCssStyle(this.$root,"overflow-x"),t=u.element.getCssStyle(this.$root,"overflow-y"),i="auto"==e||"scroll"==e,s="auto"==t||"scroll"==t,o=this.$el.getBoundingClientRect().left-this.$root.getBoundingClientRect().left,n=this.$el.getBoundingClientRect().right-this.$root.getBoundingClientRect().left,l=this.$el.getBoundingClientRect().top-this.$root.getBoundingClientRect().top,r=this.$el.getBoundingClientRect().bottom-this.$root.getBoundingClientRect().top;i&&s?(n>=0&&o<=this.$root.offsetWidth&&r>=0&&l<=this.$root.offsetHeight?this.triggerTag.before||(this.beforeEnter(this.$el),this.triggerTag.before=!0):this.triggerTag.before&&(this.leave(this.$el),this.triggerTag.before=!1),o>=0&&n<=this.$root.offsetWidth&&l>=0&&r<=this.$root.offsetHeight?this.triggerTag.after||(this.enter(this.$el),this.triggerTag.after=!0):this.triggerTag.after&&(this.beforeLeave(this.$el),this.triggerTag.after=!1)):i?(n>=0&&o<=this.$root.offsetWidth?this.triggerTag.before||(this.beforeEnter(this.$el),this.triggerTag.before=!0):this.triggerTag.before&&(this.leave(this.$el),this.triggerTag.before=!1),o>=0&&n<=this.$root.offsetWidth?this.triggerTag.after||(this.enter(this.$el),this.triggerTag.after=!0):this.triggerTag.after&&(this.beforeLeave(this.$el),this.triggerTag.after=!1)):s&&(r>=0&&l<=this.$root.offsetHeight?this.triggerTag.before||(this.beforeEnter(this.$el),this.triggerTag.before=!0):this.triggerTag.before&&(this.leave(this.$el),this.triggerTag.before=!1),l>=0&&r<=this.$root.offsetHeight?this.triggerTag.after||(this.enter(this.$el),this.triggerTag.after=!0):this.triggerTag.after&&(this.beforeLeave(this.$el),this.triggerTag.after=!1))}createGuid(){let e=u.data.get(document.body,"mvi-directives-spy-guid")||0;return e++,u.data.set(document.body,"mvi-directives-spy-guid",e),e}init(){if(!this.hasInit){if(this.hasInit=!0,!u.element.isElement(this.$el))throw new TypeError("The bound element is not a node element");"string"==typeof this.$root&&this.$root&&(this.$root=document.documentElement.querySelector(this.$root)),u.element.isElement(this.$root)||(this.$root=document.body),"function"!=typeof this.beforeEnter&&(this.beforeEnter=function(){}),"function"!=typeof this.enter&&(this.enter=function(){}),"function"!=typeof this.beforeLeave&&(this.beforeLeave=function(){}),"function"!=typeof this.leave&&(this.leave=function(){}),this.scrollHandle(),u.event.on(this.$root,`scroll.spy_${this.guid}`,(e=>{this.scrollHandle()}))}}destroy(){u.event.off(this.$root,`scroll.spy_${this.guid}`)}};k.install=e=>{e.directive("spy",{mounted(e,t){let i={};u.common.isObject(t.value)&&Object.assign(i,t.value);let s=new k(e,i);s.init(),u.data.set(e,"directive:spy",s)},beforeUnmount(e){let t=u.data.get(e,"directive:spy");t&&t.destroy()}})};const w=class{constructor(e,t){this.$el=e,u.common.isObject(t)||(t={}),this.attributes=t.attributes,this.childList=t.childList,this.subtree=t.subtree,this.attributeNames=t.attributeNames,this.attributesChange=t.attributesChange,this.childNodesChange=t.childNodesChange,this.hasInit=!1}init(){if(!this.hasInit){if(this.hasInit=!0,!u.element.isElement(this.$el))throw new TypeError("The element that needs to be observed is not a node element");try{"boolean"!=typeof this.attributes&&(this.attributes=!1),"boolean"!=typeof this.childList&&(this.childList=!1),"boolean"!=typeof this.subtree&&(this.subtree=!1),this.attributeNames instanceof Array||(this.attributeNames=[]),"function"!=typeof this.attributesChange&&(this.attributesChange=function(){}),"function"!=typeof this.childNodesChange&&(this.childNodesChange=function(){});let e=new(window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)((e=>{let t=e.length;for(let i=0;i<t;i++)if("attributes"==e[i].type&&this.attributes)this.attributesChange.apply(this,[e[i].attributeName,this.$el.getAttribute(e[i].attributeName),e[i].oldValue]);else if("childList"==e[i].type&&this.childList){for(let t of e[i].addedNodes)u.element.isElement(t)&&this.childNodesChange.apply(this,[t,null]);for(let t of e[i].removedNodes)u.element.isElement(t)&&this.childNodesChange.apply(this,[null,t])}}));this.attributes?this.attributeNames.length>0?e.observe(this.$el,{attributes:this.attributes,attributeFilter:this.attributeNames,attributeOldValue:!0,childList:this.childList,subtree:this.subtree}):e.observe(this.$el,{attributes:this.attributes,attributeOldValue:!0,childList:this.childList,subtree:this.subtree}):e.observe(this.$el,{attributes:this.attributes,childList:this.childList,subtree:this.subtree})}catch(e){throw new Error("Listening failed. Your browser may not support it, or childList and attributes are false, meaning there are no objects to listen on")}}}};w.install=e=>{e.directive("observe",{mounted(e,t){let i={};u.common.isObject(t.value)&&Object.assign(i,t.value),new w(e,i).init()}})};class C{constructor(e,t){this.$el=e,t=u.common.isObject(t)?t:{},this.$selectInput=null,this.files=[],this.accept=t.accept,this.capture=t.capture,this.allowedFileType=t.allowedFileType,this.minSize=t.minSize,this.maxSize=t.maxSize,this.maxLength=t.maxLength,this.minLength=t.minLength,this.multiple=t.multiple,this.append=t.append,this.error=t.error,this.select=t.select,this.disabled=t.disabled,this.ready=t.ready,this.extraData=t.extraData,this.hasInit=!1}judgeSuffix(e){let t=e.substr(e.lastIndexOf(".")+1);if(0==this.allowedFileType.length)return!0;t=t.toLocaleLowerCase();for(let i=0;i<this.allowedFileType.length;i++)this.allowedFileType[i]=this.allowedFileType[i].toLocaleLowerCase();return this.allowedFileType.includes(t)}init(){if(!this.hasInit){if(this.hasInit=!0,!u.element.isElement(this.$el))throw new TypeError("The upload element is not specified");this.allowedFileType instanceof Array||(this.allowedFileType=[]),(!u.number.isNumber(this.minSize)||this.minSize<=0)&&(this.minSize=-1),(!u.number.isNumber(this.maxSize)||this.maxSize<=0)&&(this.maxSize=-1),(!u.number.isNumber(this.maxLength)||this.maxLength<=0)&&(this.maxLength=-1),(!u.number.isNumber(this.minLength)||this.minLength<=0)&&(this.minLength=-1),"boolean"!=typeof this.multiple&&(this.multiple=!1),"boolean"!=typeof this.capture&&(this.capture=!1),"boolean"!=typeof this.append&&(this.append=!1),"boolean"!=typeof this.disabled&&(this.disabled=!1),"function"!=typeof this.error&&(this.error=function(){}),"function"!=typeof this.select&&(this.select=function(){}),"function"!=typeof this.ready&&(this.ready=function(){}),u.common.isObject(this.extraData)||(this.extraData={}),this.$selectInput=u.element.string2dom("<input type='file' />"),"rar"===this.accept?this.$selectInput.setAttribute("accept","application/x-rar-compressed"):"zip"===this.accept?this.$selectInput.setAttribute("accept","application/x-zip-compressed"):"txt"===this.accept?this.$selectInput.setAttribute("accept","text/plain"):"image"===this.accept?(this.$selectInput.setAttribute("accept","image/*"),this.capture&&this.$selectInput.setAttribute("capture","camera")):"video"===this.accept?(this.$selectInput.setAttribute("accept","video/*"),this.capture&&this.$selectInput.setAttribute("capture","camcorder")):"audio"===this.accept?this.$selectInput.setAttribute("accept","aduio/*"):"html"===this.accept?this.$selectInput.setAttribute("accept","text/html"):"doc"===this.accept?this.$selectInput.setAttribute("accept","application/msword"):"xml"===this.accept?this.$selectInput.setAttribute("accept","text/xml"):"js"===this.accept?this.$selectInput.setAttribute("accept","text/javascript"):"json"===this.accept?this.$selectInput.setAttribute("accept","application/json"):"ppt"===this.accept?this.$selectInput.setAttribute("accept","application/vnd.ms-powerpoint"):"pdf"===this.accept&&this.$selectInput.setAttribute("accept","application/pdf"),this.multiple&&this.$selectInput.setAttribute("multiple","multiple"),this.disabled&&this.$el.setAttribute("disabled","disabled"),this.$el.onclick=e=>{this.disabled||this.$selectInput.click()},this.$selectInput.onchange=e=>{if(this.disabled)return;let t=[...this.$selectInput.files];this.$selectInput.value="",this.append||(this.files=[]);let i=t.length,s=!0;for(let o=0;o<i;o++){if(!this.judgeSuffix(t[o].name)){this.error.apply(this,[C.ERRORTYPE.FILE_SUFFIX_ERROR,t[o]]),s=!1;break}if(t[o].size/1024>this.maxSize&&this.maxSize>0){this.error.apply(this,[C.ERRORTYPE.FILE_MAXSIZE_ERROR,t[o]]),s=!1;break}if(t[o].size/1024<this.minSize&&this.minSize>0){this.error.apply(this,[C.ERRORTYPE.FILE_MINSIZE_ERROR,t[o]]),s=!1;break}if(this.files.length+i>this.maxLength&&this.maxLength>0){this.error.apply(this,[C.ERRORTYPE.FILE_MAXLENGTH_ERROR]),s=!1;break}}s&&(this.files.length+i<this.minLength&&this.minLength>0?this.error.apply(this,[C.ERRORTYPE.FILE_MINLENGTH_ERROR]):(this.files=[...this.files,...t],this.select.apply(this,[[...this.files],{...this.extraData}])))},this.ready.apply(this,[this])}}getFiles(){return{files:[...this.files],extraData:{...this.extraData}}}clear(){this.files=[],this.$selectInput.value="",this.select.apply(this,[[...this.files],{...this.extraData}])}setDisabled(){this.disabled=!0,this.$el.setAttribute("disabled","disabled")}setEnabled(){this.disabled=!1,this.$el.removeAttribute("disabled")}}C.ERRORTYPE={FILE_SUFFIX_ERROR:"suffixError",FILE_MAXSIZE_ERROR:"maxSizeError",FILE_MINSIZE_ERROR:"minSizeError",FILE_MAXLENGTH_ERROR:"maxLengthError",FILE_MINLENGTH_ERROR:"minLengthError"};const E=C;E.install=e=>{e.directive("upload",{mounted(e,t){let i={};u.common.isObject(t.value)&&Object.assign(i,t.value),u.common.isObject(t.modifiers)&&Object.assign(i,t.modifiers),new E(e,i).init()}})};const x=class{constructor(e,t){this.$el=e,t=u.common.isObject(t)?t:{},this.attrName=t.attrName,this.isAfter=t.after,this.isBefore=t.before,this.hasInit=!1}handle(){let e=Math.round(window.devicePixelRatio||1),t=Number((1/e).toFixed(2));if(this.isBefore||this.isAfter){let e=`mvi-directives-px_${this.createGuid()}`;u.element.addClass(this.$el,e);let i=document.createElement("style");i.type="text/css",this.isBefore&&(i.innerHTML=`.${e}::before {${this.attrName}:${t}px !important;}`),this.isAfter&&(i.innerHTML=`.${e}::after {${this.attrName}:${t}px !important;}`),document.querySelector("head").appendChild(i)}else this.$el.style.setProperty(this.attrName,t+"px","important")}createGuid(){let e=u.data.get(document.body,"mvi-directives-px-guid")||0;return e++,u.data.set(document.body,"mvi-directives-px-guid",e),e}init(){if(!this.hasInit){if(this.hasInit=!0,!u.element.isElement(this.$el))throw new TypeError("The bound element is not a node element");if("string"!=typeof this.attrName||!this.attrName)throw new Error("The attribute name is not set");"boolean"!=typeof this.isAfter&&(this.isAfter=!1),"boolean"!=typeof this.isBefore&&(this.isBefore=!1),this.handle()}}};x.install=e=>{e.directive("px",{mounted(e,t){let i={};u.common.isObject(t.value)&&Object.assign(i,t.value),u.common.isObject(t.modifiers)&&Object.assign(i,t.modifiers),t.arg&&(i.attrName=t.arg),new x(e,i).init()}})};const $=class{constructor(e,t){this.$el=e,t=u.common.isObject(t)?t:{},this.color=t.color,this.duration=t.duration,this.finalOpacity=t.finalOpacity,this.initialOpacity=t.initialOpacity,this.delay=t.delay,this.disabled=t.disabled,this.hasInit=!1,this.guid=this.createGuid(),this.rippleContainers=[]}endDeal(e){const t=u.data.get(e,"ripple-up"),i=u.data.get(e,"ripple-animation-end");if(t&&i){const t=100,i=u.element.children(e)[0];i.style.transition=`opacity ${t}ms ease-in-out`,i.offsetWidth,i.style.opacity=0,setTimeout((()=>{this.rippleContainers=this.rippleContainers.filter((t=>t!=e)),e.remove()}),t)}}createRippleElement(e,t){const i=u.element.getElementBounding(this.$el),{x1:s,x2:o,y1:n,y2:l,r:r}=this.getRadius(e,t,i),a=u.element.string2dom("<div></div>");return a.style.width=2*r+"px",a.style.height=2*r+"px",a.style.position="absolute",a.style.background=this.color,a.style.top=n-r+"px",a.style.left=s-r+"px",a.style.zIndex=1,a.style.borderRadius="50%",a.style.transform="scale(0)",a.style.opacity=this.initialOpacity,a.style.transition=`transform ${this.duration}ms cubic-bezier(0, 0.5, 0.25, 1), opacity ${this.duration}ms cubic-bezier(0.0, 0, 0.2, 1)`,a}createRippleContainer(){const e=u.element.string2dom("<div></div>");return e.style.position="absolute",e.style.left="0px",e.style.top="0px",e.style.width=u.element.getCssStyle(this.$el,"width"),e.style.height=u.element.getCssStyle(this.$el,"height"),e.style.background="transparent",e.style.borderRadius=u.element.getCssStyle(this.$el,"border-radius"),e.style.overflow="hidden",e.style.pointerEvents="none",e.style.transform="rotate(0deg)",e}getRadius(e,t,i){const s=e-i.left,o=t-i.top,n=this.$el.offsetWidth-s,l=this.$el.offsetHeight-o,r=Math.sqrt(s*s+o*o),a=Math.sqrt(n*n+o*o),h=Math.sqrt(s*s+l*l),c=Math.sqrt(n*n+l*l);return{r:Math.round(Math.max(r,a,h,c)),x1:s,x2:n,y1:o,y2:l}}createGuid(){let e=u.data.get(document.documentElement,"mvi-directives-ripple-guid")||0;return e++,u.data.set(document.documentElement,"mvi-directives-ripple-guid",e),e}init(){if(this.hasInit)return;if(this.hasInit=!0,!u.element.isElement(this.$el))throw new TypeError("The bound element is not a node element");"string"!=typeof this.color&&(this.color="#9f9f9f"),u.number.isNumber(this.duration)||(this.duration=600),u.number.isNumber(this.finalOpacity)||(this.finalOpacity=.1),u.number.isNumber(this.initialOpacity)||(this.initialOpacity=.1),u.number.isNumber(this.delay)||(this.delay=80),"boolean"!=typeof this.disabled&&(this.disabled=!1),"relative"!=u.element.getCssStyle(this.$el,"position")&&"absolute"!=u.element.getCssStyle(this.$el,"position")&&"fixed"!=u.element.getCssStyle(this.$el,"position")&&(this.$el.style.position="relative");const e=(e,t)=>{if(this.disabled)return;const i=this.createRippleContainer(),s=this.createRippleElement(e,t);this.$el.appendChild(i),i.appendChild(s),this.rippleContainers.push(i),setTimeout((()=>{s.style.transform="scale(1)",s.style.opacity=this.finalOpacity,setTimeout((()=>{u.data.set(i,"ripple-animation-end",!0),this.endDeal(i)}),this.duration)}),this.delay)},t=()=>{this.rippleContainers.length&&this.rippleContainers.forEach((e=>{u.data.set(e,"ripple-up",!0),this.endDeal(e)}))};u.event.on(this.$el,"mousedown.ripple",(t=>{e(t.pageX,t.pageY)})),u.event.on(this.$el,"touchstart.ripple",(t=>{e(t.targetTouches[0].pageX,t.targetTouches[0].pageY)})),u.event.on(document.documentElement,`mouseup.ripple_${this.guid}`,t),u.event.on(this.$el,"touchend.ripple",t)}destroy(){u.event.off(document.documentElement,`mouseup.ripple_${this.guid}`)}};$.install=e=>{e.directive("ripple",{mounted(e,t){let i={};u.common.isObject(t.value)&&Object.assign(i,t.value);let s=new $(e,i);s.init(),u.data.set(e,"directive:ripple",s)},beforeUnmount(e){let t=u.data.get(e,"directive:ripple");t&&t.destroy()}})};const S=(e,t)=>{const i=e.__vccOpts||e;for(const[s,o]of t)i[s]=o;return i};const T=S({name:"m-icon",props:{type:{type:String,default:""},spin:{type:Boolean,default:!1},url:{type:String,default:null},size:{type:String,default:null},color:{type:String,default:null}},computed:{iconStyle(){let e={};return this.url?(e.backgroundImage="url("+this.url+")",this.size&&(e.width=this.size,e.height=this.size)):(this.size&&(e.fontSize=this.size),this.color&&(e.color=this.color)),e}}},[["render",function(e,i,s,o,n,l){return s.url?(t.openBlock(),t.createElementBlock("i",{key:0,class:t.normalizeClass(["mvi-icon-url",s.spin?"spin":""]),style:t.normalizeStyle(l.iconStyle)},null,6)):(t.openBlock(),t.createElementBlock("i",{key:1,class:t.normalizeClass(["mvi-icon","icon-"+s.type,s.spin?"spin":""]),style:t.normalizeStyle(l.iconStyle)},null,6))}],["__scopeId","data-v-cf01b528"]]);T.install=e=>{e.component(T.name,T)};const B={name:"m-button",props:{type:{type:String,default:"default",validator:e=>["default","info","success","error","warn","primary"].includes(e)},size:{type:String,default:"medium",validator:e=>["mini","small","medium","large"].includes(e)},disabled:{type:Boolean,default:!1},nativeType:{type:String,default:"button"},loading:{type:Boolean,default:!1},loadText:{type:String,default:"loading..."},block:{type:Boolean,default:!1},tag:{type:String,default:"button"},plain:{type:Boolean,default:!1},color:{type:String,default:null},subColor:{type:String,default:null},round:{type:Boolean,default:!1},square:{type:Boolean,default:!1},active:{type:Boolean,default:!0},loadIcon:{type:[String,Object],default:function(){return{type:"load-e",spin:!0}}}},computed:{parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},btnStyle(){let e={};return this.plain?this.color&&(e.color=this.color,e.borderColor=this.color,e.background=this.subColor||"#fff"):this.color&&(e.background=this.color,e.borderColor=this.color,e.color=this.subColor||"#fff"),e},btnClass(){let e=["mvi-button"];return this.type&&e.push(this.type),this.size&&e.push(this.size),this.round?e.push("round"):this.square&&e.push("square"),this.block&&e.push("block"),this.plain&&e.push("plain"),this.active&&!this.disabled&&e.push("active"),this.loading&&e.push("loading"),e}},components:{Button:{render(){let e={};return"BUTTON"==this.$parent.tag.toLocaleUpperCase()&&(e.type=this.$parent.nativeType),t.h(this.$parent.tag,e,{default:this.$slots.default})}},Icon:T}},I={key:0,class:"mvi-button-load-text"};const P=S(B,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon"),a=t.resolveComponent("Button",!0);return t.openBlock(),t.createBlock(a,{disabled:s.disabled||null,class:t.normalizeClass(l.btnClass),style:t.normalizeStyle(l.btnStyle)},{default:t.withCtx((()=>[s.loading&&e.$slots.loading?t.renderSlot(e.$slots,"loading",{key:0},void 0,!0):s.loading?(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.createVNode(r,{type:l.parseIcon(s.loadIcon).type,color:l.parseIcon(s.loadIcon).color,url:l.parseIcon(s.loadIcon).url,spin:l.parseIcon(s.loadIcon).spin,size:l.parseIcon(s.loadIcon).size},null,8,["type","color","url","spin","size"]),s.loadText?(t.openBlock(),t.createElementBlock("span",I,t.toDisplayString(s.loadText),1)):t.createCommentVNode("",!0)],64)):t.renderSlot(e.$slots,"default",{key:2},void 0,!0)])),_:3},8,["disabled","class","style"])}],["__scopeId","data-v-5d238045"]]);P.install=e=>{e.component(P.name,P)};const V={name:"m-cell",props:{icon:{type:[String,Object],default:null},title:{type:String,default:null},content:{type:String,default:null},label:{type:String,default:null},border:{type:Boolean,default:null},arrow:{type:[String,Object],default:null},active:{type:Boolean,default:null},ellipsis:{type:[Boolean,Number],default:null},noWrap:{type:Boolean,default:!1}},computed:{parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},cmpActive(){return"boolean"==typeof this.active?this.active:"m-cell-group"!=this.$parent.$options.name||"boolean"!=typeof this.$parent.active||this.$parent.active},cmpBorder(){return"boolean"==typeof this.border?this.border:"boolean"==typeof this.$parent.border&&this.$parent.border},labelTextStyle(){let e={};return this.ellipsis&&(e.display="-webkit-box",e.textOverflow="ellipsis",e.webkitBoxOrient="vertical",e.overflow="hidden","boolean"==typeof this.ellipsis?e.webkitLineClamp=3:e.webkitLineClamp=this.ellipsis),e},cellClass(){let e=["mvi-cell"];return this.cmpBorder&&e.push("border"),this.cmpActive&&e.push("active"),e}},components:{Icon:T}},z={class:"mvi-cell-item"},N=["textContent"],_=["textContent"],D=["textContent"];const R=S(V,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(l.cellClass)},[t.createElementVNode("div",z,[l.parseIcon(s.icon).type||l.parseIcon(s.icon).url?(t.openBlock(),t.createBlock(r,{key:0,class:"mvi-cell-icon",type:l.parseIcon(s.icon).type,url:l.parseIcon(s.icon).url,spin:l.parseIcon(s.icon).spin,size:l.parseIcon(s.icon).size,color:l.parseIcon(s.icon).color},null,8,["type","url","spin","size","color"])):t.createCommentVNode("",!0),t.createElementVNode("div",{class:t.normalizeClass(["mvi-cell-title",s.noWrap?"nowrap":""])},[e.$slots.title?t.renderSlot(e.$slots,"title",{key:0},void 0,!0):(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(s.title)},null,8,N))],2),e.$slots.content||s.content?(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(["mvi-cell-content",s.noWrap?"nowrap":""])},[e.$slots.content?t.renderSlot(e.$slots,"content",{key:0},void 0,!0):s.content?(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(s.content)},null,8,_)):t.createCommentVNode("",!0)],2)):t.createCommentVNode("",!0),l.parseIcon(s.arrow).type||l.parseIcon(s.arrow).url?(t.openBlock(),t.createBlock(r,{key:2,class:"mvi-cell-arrow",type:l.parseIcon(s.arrow).type,url:l.parseIcon(s.arrow).url,spin:l.parseIcon(s.arrow).spin,size:l.parseIcon(s.arrow).size,color:l.parseIcon(s.arrow).color},null,8,["type","url","spin","size","color"])):t.createCommentVNode("",!0)]),s.label||e.$slots.label?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-cell-label",style:t.normalizeStyle(l.labelTextStyle)},[e.$slots.label?t.renderSlot(e.$slots,"label",{key:0},void 0,!0):s.label?(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(s.label)},null,8,D)):t.createCommentVNode("",!0)],4)):t.createCommentVNode("",!0)],2)}],["__scopeId","data-v-06d4a735"]]);R.install=e=>{e.component(R.name,R)};const A={name:"m-cell-group",props:{title:{type:String,default:null},border:{type:Boolean,default:!0},active:{type:Boolean,default:!0}}},O=["textContent"];const L=S(A,[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-cell-group",s.border?"border":""])},[s.title?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-cell-group-title",textContent:t.toDisplayString(s.title)},null,8,O)):t.createCommentVNode("",!0),t.renderSlot(e.$slots,"default",{},void 0,!0)],2)}],["__scopeId","data-v-bad36ebb"]]);L.install=e=>{e.component(L.name,L)};const M={name:"m-navbar",props:{title:{type:String,default:null},leftText:{type:String,default:null},rightText:{type:String,default:null},leftIcon:{type:[String,Object],default:null},rightIcon:{type:[String,Object],default:null},fixed:{type:Boolean,default:!1},border:{type:Boolean,default:!1},zIndex:{type:Number,default:400}},emits:["left-click","right-click","title-click"],computed:{showLeft(){return this.parseIcon(this.leftIcon).type||this.parseIcon(this.leftIcon).url||this.$slots.left||this.leftText},showRight(){return this.parseIcon(this.rightIcon).type||this.parseIcon(this.rightIcon).url||this.$slots.right||this.rightText},leftStyle(){let e={};return this.title||this.$slots.title?e.width="20%":this.showRight?e.width="50%":e.width="100%",e},rightStyle(){let e={};return this.title||this.$slots.title?e.width="20%":this.showLeft?e.width="50%":e.width="100%",e},parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},navbarClass(){let e=["mvi-navbar"];return this.fixed&&e.push("fixed"),this.border&&e.push("border"),e},centerStyle(){let e={};return this.showLeft||this.showRight?e.width="60%":e.width="100%",e}},components:{Icon:T},methods:{leftClick(){this.$emit("left-click")},rightClick(){this.$emit("right-click")},titleClick(){this.$emit("title-click")}}},W=["textContent"],H={class:"mvi-navbar-title"},F=["textContent"],j=["textContent"];const Y=S(M,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(l.navbarClass),style:t.normalizeStyle("z-index:"+(s.fixed?s.zIndex:""))},[l.showLeft?(t.openBlock(),t.createElementBlock("div",{key:0,onClick:i[0]||(i[0]=(...e)=>l.leftClick&&l.leftClick(...e)),class:"mvi-navbar-left",style:t.normalizeStyle(l.leftStyle)},[e.$slots.left?t.renderSlot(e.$slots,"left",{key:0},void 0,!0):t.createCommentVNode("",!0),!l.parseIcon(s.leftIcon).type&&!l.parseIcon(s.leftIcon).url||e.$slots.left?t.createCommentVNode("",!0):(t.openBlock(),t.createBlock(r,{key:1,class:t.normalizeClass([s.leftText?"mvi-navbar-left-icon":""]),type:l.parseIcon(s.leftIcon).type,url:l.parseIcon(s.leftIcon).url,spin:l.parseIcon(s.leftIcon).spin,size:l.parseIcon(s.leftIcon).size,color:l.parseIcon(s.leftIcon).color},null,8,["class","type","url","spin","size","color"])),s.leftText&&!e.$slots.left?(t.openBlock(),t.createElementBlock("span",{key:2,class:"mvi-navbar-left-text",textContent:t.toDisplayString(s.leftText)},null,8,W)):t.createCommentVNode("",!0)],4)):t.createCommentVNode("",!0),e.$slots.title||s.title?(t.openBlock(),t.createElementBlock("div",{key:1,onClick:i[1]||(i[1]=(...e)=>l.titleClick&&l.titleClick(...e)),class:"mvi-navbar-center",style:t.normalizeStyle(l.centerStyle)},[t.createElementVNode("div",H,[e.$slots.title?t.renderSlot(e.$slots,"title",{key:0},void 0,!0):s.title?(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(s.title)},null,8,F)):t.createCommentVNode("",!0)])],4)):t.createCommentVNode("",!0),l.showRight?(t.openBlock(),t.createElementBlock("div",{key:2,onClick:i[2]||(i[2]=(...e)=>l.rightClick&&l.rightClick(...e)),class:"mvi-navbar-right",style:t.normalizeStyle(l.rightStyle)},[e.$slots.right?t.renderSlot(e.$slots,"right",{key:0},void 0,!0):t.createCommentVNode("",!0),s.rightText&&!e.$slots.right?(t.openBlock(),t.createElementBlock("span",{key:1,class:"mvi-navbar-right-text",textContent:t.toDisplayString(s.rightText)},null,8,j)):t.createCommentVNode("",!0),!l.parseIcon(s.rightIcon).type&&!l.parseIcon(s.rightIcon).url||e.$slots.right?t.createCommentVNode("",!0):(t.openBlock(),t.createBlock(r,{key:2,class:t.normalizeClass([s.rightText?"mvi-navbar-right-icon":""]),type:l.parseIcon(s.rightIcon).type,url:l.parseIcon(s.rightIcon).url,spin:l.parseIcon(s.rightIcon).spin,size:l.parseIcon(s.rightIcon).size,color:l.parseIcon(s.rightIcon).color},null,8,["class","type","url","spin","size","color"]))],4)):t.createCommentVNode("",!0)],6)}],["__scopeId","data-v-774307d7"]]);Y.install=e=>{e.component(Y.name,Y)};const q={name:"m-badge",props:{content:{type:[String,Number],default:null},placement:{type:String,default:"top-right",validator:e=>["top-right","top-left","bottom-left","bottom-right"].includes(e)},dot:{type:Boolean,default:!1},show:{type:Boolean,default:!0},offset:{type:Array,default:function(){return null}},background:{type:String,default:null},color:{type:String,default:null}},computed:{badgeStyle(){let e={};return this.background&&(e.background=this.background),this.color&&(e.color=this.color),this.offset&&(this.offset[0]&&("top-right"==this.placement||"bottom-right"==this.placement?e.marginRight=this.offset[0]:"top-left"!=this.placement&&"bottom-left"!=this.placement||(e.marginLeft=this.offset[0])),this.offset[1]&&("top-right"==this.placement||"top-left"==this.placement?e.marginTop=this.offset[1]:"bottom-right"!=this.placement&&"bottom-left"!=this.placement||(e.marginBottom=this.offset[1]))),e},badgeShow(){return!(!u.number.isNumber(this.content)&&!this.content||!this.show)}}},X={class:"mvi-badge"},U=["data-placement"],K=["data-placement"];const G=S(q,[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createElementBlock("div",X,[t.renderSlot(e.$slots,"default",{},void 0,!0),s.dot&&s.show?(t.openBlock(),t.createElementBlock("span",{key:0,class:"mvi-badge-el mvi-badge-dot","data-placement":s.placement,style:t.normalizeStyle(l.badgeStyle)},null,12,U)):l.badgeShow?(t.openBlock(),t.createElementBlock("span",{key:1,class:"mvi-badge-el","data-placement":s.placement,style:t.normalizeStyle(l.badgeStyle)},t.toDisplayString(s.content),13,K)):t.createCommentVNode("",!0)])}],["__scopeId","data-v-094b2095"]]);G.install=e=>{e.component(G.name,G)};const Z={name:"m-tabbar-item",inject:["tabbar"],props:{route:{type:[String,Object],default:null},icon:{type:[String,Object],default:null},name:{type:String,default:null},value:{type:[Object,Number,String,Array],default:null},disabled:{type:Boolean,default:!1},badge:{type:Object,default:null}},computed:{parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},cmpClass(){let e=["mvi-tabbar-item"];return u.common.equal(this.value,this.tabbar.modelValue)&&e.push("item-active"),!this.tabbar.active||this.disabled||u.common.equal(this.value,this.tabbar.modelValue)||e.push("active"),e},cmpStyle(){let e={};return u.common.equal(this.value,this.tabbar.modelValue)?this.tabbar.activeColor&&(e.color=this.tabbar.activeColor):this.tabbar.inactiveColor&&(e.color=this.tabbar.inactiveColor),e},cmpRoute(){if(!this.route)return null;let e={};return"string"==typeof this.route?e={path:this.route}:u.common.isObject(this.route)&&("string"==typeof this.route.path&&this.route.path&&(e.path=this.route.path),"string"==typeof this.route.name&&this.route.name&&(e.name=this.route.name),u.common.isObject(this.route.query)?e.query=this.route.query:e.query={},u.common.isObject(this.route.params)?e.params=this.route.params:e.params={},"boolean"==typeof this.route.replace?e.replace=this.route.replace:e.replace=!1),e.query||(e.query={}),e.params||(e.params={}),e}},components:{Icon:T,Badge:G},methods:{setActive(){this.tabbar.$emit("item-click",JSON.parse(JSON.stringify(this.$props))),this.disabled||u.common.equal(this.tabbar.modelValue,this.value)||(this.cmpRoute&&this.$router&&this.$router.replace&&this.$router.push&&(this.cmpRoute.path?this.cmpRoute.replace?this.$router.replace({path:this.cmpRoute.path,query:this.cmpRoute.query,params:this.cmpRoute.params}):this.$router.push({path:this.cmpRoute.path,query:this.cmpRoute.query,params:this.cmpRoute.params}):this.cmpRoute.name&&(this.cmpRoute.replace?this.$router.replace({name:this.cmpRoute.name,query:this.cmpRoute.query,params:this.cmpRoute.params}):this.$router.push({name:this.cmpRoute.name,query:this.cmpRoute.query,params:this.cmpRoute.params}))),this.tabbar.$emit("update:modelValue",this.value),this.tabbar.$emit("change",JSON.parse(JSON.stringify(this.$props))))}}},J=["disabled"],Q={class:"mvi-tabbar-item-child"},ee=["textContent"];const te=S({name:"m-tabbar",components:{TabbarItem:S(Z,[["render",function(e,i,s,o,n,l){var r,a,h,c,d,m,u;const p=t.resolveComponent("Icon"),f=t.resolveComponent("Badge");return t.openBlock(),t.createElementBlock("div",{disabled:s.disabled||null,class:t.normalizeClass(l.cmpClass),style:t.normalizeStyle(l.cmpStyle),onClick:i[0]||(i[0]=(...e)=>l.setActive&&l.setActive(...e))},[t.createVNode(f,{show:null==(r=s.badge)?void 0:r.show,class:"mvi-tabbar-badge",content:null==(a=s.badge)?void 0:a.content,background:null==(h=s.badge)?void 0:h.background,color:null==(c=s.badge)?void 0:c.color,dot:null==(d=s.badge)?void 0:d.dot,placement:null==(m=s.badge)?void 0:m.placement,offset:null==(u=s.badge)?void 0:u.offset},{default:t.withCtx((()=>[t.createElementVNode("div",Q,[l.parseIcon(s.icon).type||l.parseIcon(s.icon).url?(t.openBlock(),t.createElementBlock("span",{key:0,class:"mvi-tabbar-icon",style:t.normalizeStyle({marginBottom:s.name?"":"0px"})},[t.createVNode(p,{type:l.parseIcon(s.icon).type,url:l.parseIcon(s.icon).url,spin:l.parseIcon(s.icon).spin,size:l.parseIcon(s.icon).size,color:l.parseIcon(s.icon).color},null,8,["type","url","spin","size","color"])],4)):t.createCommentVNode("",!0),t.createElementVNode("span",{class:t.normalizeClass(["mvi-tabbar-name",l.parseIcon(s.icon).type||l.parseIcon(s.icon).url?"small":""]),textContent:t.toDisplayString(s.name)},null,10,ee)])])),_:1},8,["show","content","background","color","dot","placement","offset"])],14,J)}],["__scopeId","data-v-d638e245"]])},emits:["update:modelValue","item-click","change"],provide(){return{tabbar:this}},props:{modelValue:{type:[Object,Number,String,Array],default:null},tabs:{type:Array,default:function(){return[]}},fixed:{type:Boolean,default:!1},border:{type:Boolean,default:!1},zIndex:{type:Number,default:400},activeColor:{type:String,default:null},inactiveColor:{type:String,default:null},active:{type:Boolean,default:!0},flex:{type:String,default:null},offset:{type:String,default:null}},computed:{tabbarItemStyle(){return e=>{let t={};return 0!=e&&this.offset&&(t.marginLeft=this.offset),t}},tabbarStyle(){let e={};return this.fixed&&u.number.isNumber(this.zIndex)&&(e.zIndex=this.zIndex),this.flex&&(e.justifyContent=this.flex),e}}},[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("TabbarItem");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-tabbar",s.border?"border":"",s.fixed?"fixed":""]),style:t.normalizeStyle(l.tabbarStyle)},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(s.tabs,((e,i)=>(t.openBlock(),t.createBlock(r,{name:e.name,value:e.value,icon:e.icon,disabled:e.disabled,badge:e.badge,route:e.route,style:t.normalizeStyle(l.tabbarItemStyle(i))},null,8,["name","value","icon","disabled","badge","route","style"])))),256))],6)}],["__scopeId","data-v-258fb90e"]]);te.install=e=>{e.component(te.name,te)};const ie={name:"m-image",data:()=>({error:!1,loading:!0,lazySrc:"",lazying:!1,spy:null}),emits:["success","error"],props:{src:{type:String,default:""},fit:{type:String,default:"fill",validator:e=>["fill","cover","contain","response","none"].includes(e)},alt:{type:String,default:""},showError:{type:Boolean,default:!0},showLoading:{type:Boolean,default:!0},lazyLoad:{type:Boolean,default:!1},root:{type:String,default:null},loadIcon:{type:[String,Object],default:"image-alt"},errorIcon:{type:[String,Object],default:"image-error"},round:{type:Boolean,default:!1},width:{type:String,default:null},height:{type:String,default:null}},computed:{parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},imageStyle(){let e={};return this.round&&(e.borderRadius="50%"),this.width&&(e.width=this.width),this.height&&(e.height=this.height),e},imgClass(){return"contain"==this.fit?"mvi-image-contain":"cover"==this.fit?"mvi-image-cover":"none"==this.fit?"mvi-image-none":"response"==this.fit?"mvi-image-response":"mvi-image-fill"},cmpSrc(){return this.lazyLoad?this.lazySrc:this.src}},components:{Icon:T},watch:{cmpSrc(){this.loading=!0}},mounted(){this.lazyLoad&&this.lazyloadFun()},methods:{lazyloadFun(){this.lazying=!0,this.spy=new k(this.$el,{el:this.root,beforeEnter:()=>{this.lazying=!1,this.lazySrc=this.src}}),this.spy.init()},loadSuccess(e){this.error=!1,this.loading=!1,this.$emit("success",e.target)},loadError(e){this.loading=!1,this.error=!0,this.$emit("error",e.target)}},beforeUnmount(){this.spy&&this.spy.destroy()}},se={key:0,class:"mvi-image-loading"},oe={key:1,class:"mvi-image-error",ref:"error"},ne=["src","alt"];const le=S(ie,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",{class:"mvi-image",style:t.normalizeStyle(l.imageStyle)},[(n.loading||n.lazying)&&s.showLoading?(t.openBlock(),t.createElementBlock("div",se,[e.$slots.loading?t.renderSlot(e.$slots,"loading",{key:0},void 0,!0):(t.openBlock(),t.createBlock(r,{key:1,type:l.parseIcon(s.loadIcon).type,url:l.parseIcon(s.loadIcon).url,spin:l.parseIcon(s.loadIcon).spin,size:l.parseIcon(s.loadIcon).size,color:l.parseIcon(s.loadIcon).color},null,8,["type","url","spin","size","color"]))])):n.error&&s.showError?(t.openBlock(),t.createElementBlock("div",oe,[e.$slots.error?t.renderSlot(e.$slots,"error",{key:0},void 0,!0):(t.openBlock(),t.createBlock(r,{key:1,type:l.parseIcon(s.errorIcon).type,url:l.parseIcon(s.errorIcon).url,spin:l.parseIcon(s.errorIcon).spin,size:l.parseIcon(s.errorIcon).size,color:l.parseIcon(s.errorIcon).color},null,8,["type","url","spin","size","color"]))],512)):t.createCommentVNode("",!0),t.createElementVNode("img",{onLoad:i[0]||(i[0]=(...e)=>l.loadSuccess&&l.loadSuccess(...e)),onError:i[1]||(i[1]=(...e)=>l.loadError&&l.loadError(...e)),src:l.cmpSrc,alt:s.showError?"":s.alt,class:t.normalizeClass(l.imgClass)},null,42,ne)],4)}],["__scopeId","data-v-b39a2f4f"]]);le.install=e=>{e.component(le.name,le)};const re=S({name:"m-overlay",data:()=>({overlayShow:!1,scrollTop:0,scrollLeft:0,overflowX:"",overflowY:"",paddingRight:0,paddingBottom:0,hasHorizontalScroll:!1,hasVerticalScroll:!1,offsetParent:null}),emits:["update:modelValue","show","showing","shown","hide","hidding","hidden"],inheritAttrs:!1,props:{mountEl:{type:String,default:null},zIndex:{type:Number,default:800},color:{type:String,default:null},modelValue:{type:Boolean,default:!1},fade:{type:Boolean,default:!0},timeout:{type:Number,default:200,validator:e=>e>=0},closable:{type:Boolean,default:!1},usePadding:{type:Boolean,default:!1}},watch:{modelValue(e){this.overlayShow=e}},computed:{overlayStyle(){let e={};return u.number.isNumber(this.zIndex)&&(e.zIndex=this.zIndex),this.color&&(e.background=this.color),e},$$el(){return this.$refs.overlay}},mounted(){this.overlayShow=this.modelValue},methods:{beforeEnter(e){this.fade&&(e.style.transition="opacity "+this.timeout+"ms",e.style.webkitTransition="opacity "+this.timeout+"ms"),this.$emit("show",e),"function"==typeof this.overlayComponentWatch&&this.overlayComponentWatch.apply(this,["show",e])},enter(e){if(this.$$el.offsetParent){if(this.offsetParent=this.$$el.offsetParent,u.element.getScrollHeight(this.offsetParent)>this.offsetParent.clientHeight){if(this.usePadding){let e=this.offsetParent.offsetWidth-this.offsetParent.clientWidth-parseFloat(u.element.getCssStyle(this.offsetParent,"border-right-width"))-parseFloat(u.element.getCssStyle(this.offsetParent,"border-left-width"));this.paddingRight=parseFloat(u.element.getCssStyle(this.offsetParent,"padding-right")),this.offsetParent.style.setProperty("padding-right",this.paddingRight+e+"px","important")}this.scrollTop=u.element.getScrollTop(this.offsetParent),this.overflowY=u.element.getCssStyle(this.offsetParent,"overflow-y"),this.offsetParent.style.setProperty("overflow-y","hidden","important"),this.$$el.style.top=this.scrollTop+"px",this.hasVerticalScroll=!0}if(u.element.getScrollWidth(this.offsetParent)>this.offsetParent.clientWidth){if(this.usePadding){let e=this.offsetParent.offsetHeight-this.offsetParent.clientHeight-parseFloat(u.element.getCssStyle(this.offsetParent,"border-bottom-width"))-parseFloat(u.element.getCssStyle(this.offsetParent,"border-top-width"));this.paddingBottom=parseFloat(u.element.getCssStyle(this.offsetParent,"padding-bottom")),this.offsetParent.style.setProperty("padding-bottom",this.paddingBottom+e+"px","important")}this.scrollLeft=u.element.getScrollLeft(this.offsetParent),this.overflowX=u.element.getCssStyle(this.offsetParent,"overflow-x"),this.offsetParent.style.setProperty("overflow-x","hidden","important"),this.$$el.style.left=this.scrollLeft+"px",this.hasHorizontalScroll=!0}}this.$emit("showing",e),"function"==typeof this.overlayComponentWatch&&this.overlayComponentWatch.apply(this,["showing",e])},afterEnter(e){this.fade&&(e.style.transition="",e.style.webkitTransition=""),this.$emit("shown",e),"function"==typeof this.overlayComponentWatch&&this.overlayComponentWatch.apply(this,["shown",e])},beforeLeave(e){this.fade&&(e.style.transition="opacity "+this.timeout+"ms",e.style.webkitTransition="opacity "+this.timeout+"ms"),this.$emit("hide",e),"function"==typeof this.overlayComponentWatch&&this.overlayComponentWatch.apply(this,["hide",e])},leave(e){this.$emit("hidding",e),"function"==typeof this.overlayComponentWatch&&this.overlayComponentWatch.apply(this,["hidding",e])},afterLeave(e){this.offsetParent&&(this.hasVerticalScroll&&(this.usePadding&&this.offsetParent.style.setProperty("padding-right",this.paddingRight+"px","important"),this.offsetParent.style.setProperty("overflow-y",this.overflowY,"important"),this.hasVerticalScroll=!1),this.hasHorizontalScroll&&(this.usePadding&&this.offsetParent.style.setProperty("padding-bottom",this.paddingBottom+"px","important"),this.offsetParent.style.setProperty("overflow-x",this.overflowX,"important"),this.hasHorizontalScroll=!1)),this.fade&&(e.style.transition="",e.style.webkitTransition=""),this.$emit("hidden",e),"function"==typeof this.overlayComponentWatch&&this.overlayComponentWatch.apply(this,["hidden",e])},closeOverlay(){this.closable&&this.$emit("update:modelValue",!1)}}},[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createBlock(t.Teleport,{disabled:!s.mountEl,to:s.mountEl},[t.createVNode(t.Transition,{name:"mvi-overlay-fade",onBeforeEnter:l.beforeEnter,onEnter:l.enter,onAfterEnter:l.afterEnter,onBeforeLeave:l.beforeLeave,onLeave:l.leave,onAfterLeave:l.afterLeave},{default:t.withCtx((()=>[t.withDirectives(t.createElementVNode("div",t.mergeProps({onClick:i[0]||(i[0]=t.withModifiers(((...e)=>l.closeOverlay&&l.closeOverlay(...e)),["self"])),ref:"overlay",class:"mvi-overlay",style:l.overlayStyle},e.$attrs),[t.renderSlot(e.$slots,"default",{},void 0,!0)],16),[[t.vShow,n.overlayShow]])])),_:3},8,["onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])],8,["disabled","to"])}],["__scopeId","data-v-a0d7b0dd"]]);re.install=e=>{e.component(re.name,re)};const ae=S({name:"m-popup",data:()=>({popupShow:!1,firstShow:!1}),emits:["update:modelValue","show","showing","shown","hide","hidding","hidden"],inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},closable:{type:Boolean,default:!1},overlayColor:{type:String,default:null},zIndex:{type:Number,default:900},timeout:{type:Number,default:200},placement:{type:String,default:"bottom",validator:e=>["left","top","bottom","right"].includes(e)},round:{type:Boolean,default:!1},width:{type:String,default:null},showTimes:{type:Boolean,default:!1},timesPlacement:{type:String,default:"top-right",validator:e=>["top-right","top-left","bottom-right","bottom-left"].includes(e)},mountEl:{type:String,default:null},usePadding:{type:Boolean,default:!1},__contentPadding:{type:Boolean,default:!0}},computed:{$$el(){return this.$refs.overlay.$$el},show:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},popupClass(){let e=["mvi-popup",this.placement];return this.round&&e.push("round"),this.showTimes&&("top-right"==this.timesPlacement||"top-left"==this.timesPlacement?e.push("padding-top"):"bottom-right"!=this.timesPlacement&&"bottom-left"!=this.timesPlacement||e.push("padding-bottom")),e},popupStyle(){let e={};return"left"==this.placement||"right"==this.placement?this.width&&(e.width=this.width):"top"!=this.placement&&"bottom"!=this.placement||this.width&&(e.height=this.width),u.number.isNumber(this.zIndex)&&(e.zIndex=this.zIndex+10),e.transition="all "+this.timeout+"ms",e}},components:{Icon:T,Overlay:re},methods:{overlayShow(){this.firstShow||(this.firstShow=!0),this.popupShow=!0},overlayHide(){this.popupShow=!1},beforeEnter(e){u.data.get(e,"mvi-popup-beforeEnter-trigger")||(u.data.set(e,"mvi-popup-beforeEnter-trigger",!0),this.$emit("show",e),"function"==typeof this.popupComponentWatch&&this.popupComponentWatch.apply(this,["show",e]))},enter(e){u.data.get(e,"mvi-popup-enter-trigger")||(u.data.set(e,"mvi-popup-enter-trigger",!0),this.$emit("showing",e),"function"==typeof this.popupComponentWatch&&this.popupComponentWatch.apply(this,["showing",e]))},afterEnter(e){this.$emit("shown",e),"function"==typeof this.popupComponentWatch&&this.popupComponentWatch.apply(this,["shown",e])},beforeLeave(e){u.data.remove(e,"mvi-popup-beforeEnter-trigger"),u.data.remove(e,"mvi-popup-enter-trigger"),this.$emit("hide",e),"function"==typeof this.popupComponentWatch&&this.popupComponentWatch.apply(this,["hide",e])},leave(e){this.$emit("hidding",e),"function"==typeof this.popupComponentWatch&&this.popupComponentWatch.apply(this,["hidding",e])},afterLeave(e){this.$emit("hidden",e),"function"==typeof this.popupComponentWatch&&this.popupComponentWatch.apply(this,["hidden",e])}}},[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon"),a=t.resolveComponent("Overlay");return t.openBlock(),t.createBlock(a,{ref:"overlay",modelValue:l.show,"onUpdate:modelValue":i[1]||(i[1]=e=>l.show=e),onShow:l.overlayShow,onHide:l.overlayHide,"use-padding":s.usePadding,"z-index":s.zIndex,color:s.overlayColor,timeout:s.timeout,"mount-el":s.mountEl,closable:s.closable},{default:t.withCtx((()=>[t.createVNode(t.Transition,{name:"mvi-slide-"+s.placement,onBeforeEnter:l.beforeEnter,onEnter:l.enter,onAfterEnter:l.afterEnter,onBeforeLeave:l.beforeLeave,onLeave:l.leave,onAfterLeave:l.afterLeave},{default:t.withCtx((()=>[n.firstShow?t.withDirectives((t.openBlock(),t.createElementBlock("div",t.mergeProps({key:0,class:l.popupClass,style:l.popupStyle},e.$attrs),[s.showTimes?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["mvi-popup-times",s.timesPlacement])},[t.createVNode(r,{onClick:i[0]||(i[0]=e=>l.show=!1),type:"times"})],2)):t.createCommentVNode("",!0),t.createElementVNode("div",{class:"mvi-popup-content",style:t.normalizeStyle({padding:s.__contentPadding?"":0})},[t.renderSlot(e.$slots,"default",{},void 0,!0)],4)],16)),[[t.vShow,n.popupShow]]):t.createCommentVNode("",!0)])),_:3},8,["name","onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])])),_:3},8,["modelValue","onShow","onHide","use-padding","z-index","color","timeout","mount-el","closable"])}],["__scopeId","data-v-d8d0a44a"]]);ae.install=e=>{e.component(ae.name,ae)};const he={name:"m-checkbox",emits:["update:modelValue","change"],props:{disabled:{type:Boolean,default:!1},modelValue:{type:[Boolean,Array],default:!1},label:{type:String,default:null},value:{type:[Object,Number,String,Array],default:""},round:{type:Boolean,default:!1},name:{type:String,default:null},placement:{type:String,default:"right",validator:e=>["left","right"].includes(e)},size:{type:String,default:null},color:{type:String,default:null}},computed:{check(){return"boolean"==typeof this.modelValue?this.modelValue:!!Array.isArray(this.modelValue)&&this.modelValue.some((e=>u.common.equal(e,this.value)))},itemStyle(){let e={};return this.color&&this.check&&!this.disabled&&(e.backgroundColor=this.color,e.borderColor=this.color),this.size&&(e.fontSize=this.size),e}},components:{Icon:T},methods:{change(e){if(Array.isArray(this.modelValue)){let t=[...this.modelValue];e.target.checked&&!this.check?t.push(this.value):this.check&&(t=t.filter((e=>!u.common.equal(e,this.value)))),this.$emit("update:modelValue",t),this.$emit("change",t)}else"boolean"==typeof this.modelValue&&(this.$emit("update:modelValue",e.target.checked),this.$emit("change",e.target.checked))}}},ce=["disabled"],de=["data-placement","textContent"],me=["value","disabled","checked","name"],ue=["data-placement","textContent"];const pe=S(he,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("label",{class:"mvi-checkbox",disabled:s.disabled||null},["left"==s.placement&&s.label?(t.openBlock(),t.createElementBlock("span",{key:0,class:"mvi-checkbox-label","data-placement":s.placement,textContent:t.toDisplayString(s.label)},null,8,de)):t.createCommentVNode("",!0),t.createElementVNode("input",{onChange:i[0]||(i[0]=(...e)=>l.change&&l.change(...e)),value:s.value,disabled:s.disabled,checked:l.check,type:"checkbox",name:s.name},null,40,me),t.createElementVNode("span",{class:t.normalizeClass(["mvi-checkbox-item",l.check?"check":"",s.round?"round":""]),style:t.normalizeStyle(l.itemStyle)},[t.createVNode(r,{type:"success",style:t.normalizeStyle({opacity:this.check?"":0})},null,8,["style"])],6),"right"==s.placement&&s.label?(t.openBlock(),t.createElementBlock("span",{key:1,class:"mvi-checkbox-label","data-placement":s.placement,textContent:t.toDisplayString(s.label)},null,8,ue)):t.createCommentVNode("",!0)],8,ce)}],["__scopeId","data-v-33305a01"]]);pe.install=e=>{e.component(pe.name,pe)};const fe={name:"m-radio",emits:["update:modelValue","change"],props:{disabled:{type:Boolean,default:!1},modelValue:{type:[Boolean,String,Number,Object],default:!1},label:{type:String,default:null},value:{type:[Object,Number,String],default:""},round:{type:Boolean,default:!0},name:{type:String,default:null},placement:{type:String,default:"right",validator:e=>["left","right"].includes(e)},size:{type:String,default:null},color:{type:String,default:null}},computed:{check(){return"boolean"==typeof this.modelValue?this.modelValue:u.common.equal(this.modelValue,this.value)},itemStyle(){let e={};return this.color&&this.check&&!this.disabled&&(e.backgroundColor=this.color,e.borderColor=this.color),this.size&&(e.fontSize=this.size),e}},components:{Icon:T},methods:{change(e){"boolean"==typeof this.modelValue?(this.$emit("update:modelValue",e.target.checked),this.$emit("change",e.target.checked)):e.target.checked&&(this.$emit("update:modelValue",this.value),this.$emit("change",this.value))}}},ge=["disabled"],ye=["data-placement","textContent"],be=["value","disabled","checked","name"],ve=["data-placement","textContent"];const ke=S(fe,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("label",{class:"mvi-radio",disabled:s.disabled||null},["left"==s.placement&&s.label?(t.openBlock(),t.createElementBlock("span",{key:0,class:"mvi-radio-label","data-placement":s.placement,textContent:t.toDisplayString(s.label)},null,8,ye)):t.createCommentVNode("",!0),t.createElementVNode("input",{onChange:i[0]||(i[0]=(...e)=>l.change&&l.change(...e)),value:s.value,disabled:s.disabled,checked:l.check,type:"radio",name:s.name},null,40,be),t.createElementVNode("span",{class:t.normalizeClass(["mvi-radio-item",l.check?"check":"",s.round?"round":""]),style:t.normalizeStyle(l.itemStyle)},[t.createVNode(r,{type:"success",style:t.normalizeStyle({opacity:this.check?"":0})},null,8,["style"])],6),"right"==s.placement&&s.label?(t.openBlock(),t.createElementBlock("span",{key:1,class:"mvi-radio-label","data-placement":s.placement,textContent:t.toDisplayString(s.label)},null,8,ve)):t.createCommentVNode("",!0)],8,ge)}],["__scopeId","data-v-6d82c302"]]);ke.install=e=>{e.component(ke.name,ke)};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var we={exports:{}};we.exports=function(){var e=1e3,t=6e4,i=36e5,s="millisecond",o="second",n="minute",l="hour",r="day",a="week",h="month",c="quarter",d="year",m="date",u="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],i=e%100;return"["+e+(t[(i-20)%10]||t[i]||t[0])+"]"}},y=function(e,t,i){var s=String(e);return!s||s.length>=t?e:""+Array(t+1-s.length).join(i)+e},b={s:y,z:function(e){var t=-e.utcOffset(),i=Math.abs(t),s=Math.floor(i/60),o=i%60;return(t<=0?"+":"-")+y(s,2,"0")+":"+y(o,2,"0")},m:function e(t,i){if(t.date()<i.date())return-e(i,t);var s=12*(i.year()-t.year())+(i.month()-t.month()),o=t.clone().add(s,h),n=i-o<0,l=t.clone().add(s+(n?-1:1),h);return+(-(s+(i-o)/(n?o-l:l-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:h,y:d,w:a,d:r,D:m,h:l,m:n,s:o,ms:s,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",k={};k[v]=g;var w=function(e){return e instanceof $},C=function e(t,i,s){var o;if(!t)return v;if("string"==typeof t){var n=t.toLowerCase();k[n]&&(o=n),i&&(k[n]=i,o=n);var l=t.split("-");if(!o&&l.length>1)return e(l[0])}else{var r=t.name;k[r]=t,o=r}return!s&&o&&(v=o),o||!s&&v},E=function(e,t){if(w(e))return e.clone();var i="object"==typeof t?t:{};return i.date=e,i.args=arguments,new $(i)},x=b;x.l=C,x.i=w,x.w=function(e,t){return E(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var $=function(){function g(e){this.$L=C(e.locale,null,!0),this.parse(e)}var y=g.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,i=e.utc;if(null===t)return new Date(NaN);if(x.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var s=t.match(p);if(s){var o=s[2]-1||0,n=(s[7]||"0").substring(0,3);return i?new Date(Date.UTC(s[1],o,s[3]||1,s[4]||0,s[5]||0,s[6]||0,n)):new Date(s[1],o,s[3]||1,s[4]||0,s[5]||0,s[6]||0,n)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return x},y.isValid=function(){return!(this.$d.toString()===u)},y.isSame=function(e,t){var i=E(e);return this.startOf(t)<=i&&i<=this.endOf(t)},y.isAfter=function(e,t){return E(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<E(e)},y.$g=function(e,t,i){return x.u(e)?this[t]:this.set(i,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var i=this,s=!!x.u(t)||t,c=x.p(e),u=function(e,t){var o=x.w(i.$u?Date.UTC(i.$y,t,e):new Date(i.$y,t,e),i);return s?o:o.endOf(r)},p=function(e,t){return x.w(i.toDate()[e].apply(i.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(t)),i)},f=this.$W,g=this.$M,y=this.$D,b="set"+(this.$u?"UTC":"");switch(c){case d:return s?u(1,0):u(31,11);case h:return s?u(1,g):u(0,g+1);case a:var v=this.$locale().weekStart||0,k=(f<v?f+7:f)-v;return u(s?y-k:y+(6-k),g);case r:case m:return p(b+"Hours",0);case l:return p(b+"Minutes",1);case n:return p(b+"Seconds",2);case o:return p(b+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var i,a=x.p(e),c="set"+(this.$u?"UTC":""),u=(i={},i[r]=c+"Date",i[m]=c+"Date",i[h]=c+"Month",i[d]=c+"FullYear",i[l]=c+"Hours",i[n]=c+"Minutes",i[o]=c+"Seconds",i[s]=c+"Milliseconds",i)[a],p=a===r?this.$D+(t-this.$W):t;if(a===h||a===d){var f=this.clone().set(m,1);f.$d[u](p),f.init(),this.$d=f.set(m,Math.min(this.$D,f.daysInMonth())).$d}else u&&this.$d[u](p);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[x.p(e)]()},y.add=function(s,c){var m,u=this;s=Number(s);var p=x.p(c),f=function(e){var t=E(u);return x.w(t.date(t.date()+Math.round(e*s)),u)};if(p===h)return this.set(h,this.$M+s);if(p===d)return this.set(d,this.$y+s);if(p===r)return f(1);if(p===a)return f(7);var g=(m={},m[n]=t,m[l]=i,m[o]=e,m)[p]||1,y=this.$d.getTime()+s*g;return x.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this,i=this.$locale();if(!this.isValid())return i.invalidDate||u;var s=e||"YYYY-MM-DDTHH:mm:ssZ",o=x.z(this),n=this.$H,l=this.$m,r=this.$M,a=i.weekdays,h=i.months,c=i.meridiem,d=function(e,i,o,n){return e&&(e[i]||e(t,s))||o[i].slice(0,n)},m=function(e){return x.s(n%12||12,e,"0")},p=c||function(e,t,i){var s=e<12?"AM":"PM";return i?s.toLowerCase():s};return s.replace(f,(function(e,s){return s||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return x.s(t.$y,4,"0");case"M":return r+1;case"MM":return x.s(r+1,2,"0");case"MMM":return d(i.monthsShort,r,h,3);case"MMMM":return d(h,r);case"D":return t.$D;case"DD":return x.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(i.weekdaysMin,t.$W,a,2);case"ddd":return d(i.weekdaysShort,t.$W,a,3);case"dddd":return a[t.$W];case"H":return String(n);case"HH":return x.s(n,2,"0");case"h":return m(1);case"hh":return m(2);case"a":return p(n,l,!0);case"A":return p(n,l,!1);case"m":return String(l);case"mm":return x.s(l,2,"0");case"s":return String(t.$s);case"ss":return x.s(t.$s,2,"0");case"SSS":return x.s(t.$ms,3,"0");case"Z":return o}return null}(e)||o.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(s,m,u){var p,f=this,g=x.p(m),y=E(s),b=(y.utcOffset()-this.utcOffset())*t,v=this-y,k=function(){return x.m(f,y)};switch(g){case d:p=k()/12;break;case h:p=k();break;case c:p=k()/3;break;case a:p=(v-b)/6048e5;break;case r:p=(v-b)/864e5;break;case l:p=v/i;break;case n:p=v/t;break;case o:p=v/e;break;default:p=v}return u?p:x.a(p)},y.daysInMonth=function(){return this.endOf(h).$D},y.$locale=function(){return k[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var i=this.clone(),s=C(e,t,!0);return s&&(i.$L=s),i},y.clone=function(){return x.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},g}(),S=$.prototype;return E.prototype=S,[["$ms",s],["$s",o],["$m",n],["$H",l],["$W",r],["$M",h],["$y",d],["$D",m]].forEach((function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),E.extend=function(e,t){return e.$i||(e(t,$,E),e.$i=!0),E},E.locale=C,E.isDayjs=w,E.unix=function(e){return E(1e3*e)},E.en=k[v],E.Ls=k,E.p={},E}();const Ce=we.exports;const Ee=S({name:"m-loading",props:{color:{type:String,default:"#bbb"},size:{type:String,default:"0.4rem"}},computed:{loadingStyle(){let e={};return e.background=this.color,e.width="calc("+this.size+"/20)",e.height="calc("+this.size+"/4)",e.transformOrigin="calc("+this.size+"/40) calc("+this.size+"/2)",e.webkitTransformOrigin="calc("+this.size+"/40) calc("+this.size+"/2)",e}}},[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createElementBlock("div",{class:"mvi-loading",style:t.normalizeStyle({width:s.size,height:s.size})},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(new Array(12),(e=>(t.openBlock(),t.createElementBlock("div",{style:t.normalizeStyle(l.loadingStyle)},null,4)))),256))],4)}],["__scopeId","data-v-b847f63e"]]);Ee.install=e=>{e.component(Ee.name,Ee)};const xe={name:"m-picker",data:()=>({offsets:[],startY:0,startY2:0,time:0,oldActives:[],amounts:0,mouseDown:!1,columnIndex:0,StartTimeStamp:0,endTimeStamp:0,itemRefs:[]}),emits:["confirm","cancel","change"],props:{options:{type:[Array,Object],default:function(){return{values:[],defaultIndex:0}}},showToolbar:{type:Boolean,default:!0},title:{type:String,default:null},confirmText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},loading:{type:Boolean,default:!1},visibleCounts:{type:Number,default:5},selectHeight:{type:String,default:"0.88rem"}},watch:{cmpOptions(){this.init()}},computed:{cmpHeight(){return this.selectHeight.includes("px")?parseFloat(this.selectHeight):this.selectHeight.includes("rem")?u.element.rem2px(parseFloat(this.selectHeight)):void 0},loadingStyle(){let e={};return e.height=`calc(${u.number.mutiply(this.cmpHeight,this.visibleCounts)}px + 0.88rem)`,e},contentStyle(){let e={};return e.height=`${u.number.mutiply(this.cmpHeight,this.visibleCounts)}px`,e},cmpOptions(){let e=[];return e=Array.isArray(this.options)?this.options:[this.options],e},columnStyle(){return(e,t)=>{let i={};return i.transform=`translate3d(0,${this.offsets[t]||0}px,0)`,i.webkitTransform=`translate3d(0,${this.offsets[t]||0}px,0)`,i}},actives(){let e=[];for(let t=0;t<this.offsets.length;t++)e.push({index:this.getActive(this.offsets[t]),value:this.cmpOptions[t].values[this.getActive(this.offsets[t])]});return e},maskStyle(){let e={};return this.selectHeight&&(e.backgroundSize="100% "+u.number.mutiply(this.cmpHeight,u.number.divide(this.visibleCounts-1,2))+"px"),e}},components:{Loading:Ee},setup:()=>({uid:t.getCurrentInstance().uid}),mounted(){this.init(),u.event.on(document.documentElement,`mousemove.picker_${this.uid}`,this.mousemove),u.event.on(document.documentElement,`mouseup.picker_${this.uid}`,this.mouseup)},methods:{init(){this.offsets=[];for(let e=0;e<this.cmpOptions.length;e++)this.offsets.push(this.getOffset(this.cmpOptions[e].defaultIndex||0))},crisis(e){let t=u.number.divide(this.visibleCounts-1,2);t=u.number.mutiply(t,this.cmpHeight);let i=-u.number.divide(this.visibleCounts-1,2);return i=u.number.mutiply(i,this.cmpHeight),i+=u.number.mutiply(this.visibleCounts-this.cmpOptions[e].values.length,this.cmpHeight),{max:t,min:i}},getActive(e){let t=Math.abs(u.number.divide(e-u.number.mutiply(u.number.divide(this.visibleCounts-1,2),this.cmpHeight),this.cmpHeight));return Math.round(t)},getOffset(e){return u.number.mutiply(u.number.subtract(u.number.divide(this.visibleCounts-1,2),e),this.cmpHeight)},doConfirm(){1==this.actives.length?this.$emit("confirm",this.actives[0]):this.$emit("confirm",this.actives)},doCancel(){this.init(),1==this.actives.length?this.$emit("cancel",this.actives[0]):this.$emit("cancel",this.actives)},addTransition(e,t){return new Promise((i=>{this.itemRefs[e].style.transition="all "+t+"ms ease-out",this.itemRefs[e].style.webkitTransition="all "+t+"ms ease-out",setTimeout((()=>{i()}),0)}))},removeTransition(e){return new Promise((t=>{this.itemRefs[e].style.transition="",this.itemRefs[e].style.webkitTransition="",setTimeout((()=>{t()}),0)}))},touchstart(e,t){this.startY=e.targetTouches[0].pageY,this.startY2=this.startY,this.time=Date.now(),this.oldActives=this.actives,this.amounts=0,this.columnIndex=t,this.StartTimeStamp=Date.now()},mousedown(e,t){this.startY=e.pageY,this.startY2=this.startY,this.time=Date.now(),this.oldActives=this.actives,this.amounts=0,this.mouseDown=!0,this.columnIndex=t,this.StartTimeStamp=Date.now()},touchmove(e){e.cancelable&&e.preventDefault();let t=e.targetTouches[0].pageY,i=t-this.startY,s=t-this.startY2;return this.offsets[this.columnIndex]>=this.crisis(this.columnIndex).max&&s>0||this.offsets[this.columnIndex]<=this.crisis(this.columnIndex).min&&s<0?(this.amounts+=5,void(this.offsets[this.columnIndex]=this.offsets[this.columnIndex]+i/this.amounts)):(this.offsets[this.columnIndex]=this.offsets[this.columnIndex]+i/1.6,void(this.startY=t))},mousemove(e){if(!this.mouseDown)return;e.cancelable&&e.preventDefault();let t=e.pageY,i=t-this.startY,s=t-this.startY2;return this.offsets[this.columnIndex]>=this.crisis(this.columnIndex).max&&s>0||this.offsets[this.columnIndex]<=this.crisis(this.columnIndex).min&&s<0?(this.amounts+=5,void(this.offsets[this.columnIndex]=this.offsets[this.columnIndex]+i/this.amounts)):(this.offsets[this.columnIndex]=this.offsets[this.columnIndex]+i/1.6,void(this.startY=t))},touchend(e){this.endTimeStamp=Date.now();let t=e.changedTouches[0].pageY-this.startY2,i=this.endTimeStamp-this.StartTimeStamp;i<300&&Math.abs(t)>this.cmpHeight?this.addTransition(this.columnIndex,1e3).then((()=>(this.offsets[this.columnIndex]=t>0?this.offsets[this.columnIndex]+u.element.rem2px(10)*i/1e3:this.offsets[this.columnIndex]-u.element.rem2px(10)*i/1e3,this.addTransition(this.columnIndex,300)))).then((()=>{this.endDeal(t,300)})):this.addTransition(this.columnIndex,300).then((()=>{this.endDeal(t,300)}))},mouseup(e){if(!this.mouseDown)return;this.mouseDown=!1,this.endTimeStamp=Date.now();let t=e.pageY-this.startY2,i=this.endTimeStamp-this.StartTimeStamp;i<300&&Math.abs(t)>this.cmpHeight?this.addTransition(this.columnIndex,1e3).then((()=>(this.offsets[this.columnIndex]=t>0?this.offsets[this.columnIndex]+u.element.rem2px(10)*i/1e3:this.offsets[this.columnIndex]-u.element.rem2px(10)*i/1e3,this.addTransition(this.columnIndex,300)))).then((()=>{this.endDeal(t,300)})):this.addTransition(this.columnIndex,300).then((()=>{this.endDeal(t,300)}))},endDeal(e,t){if(e>0)if(this.offsets[this.columnIndex]>=this.crisis(this.columnIndex).max)this.offsets[this.columnIndex]=this.crisis(this.columnIndex).max;else{let e=this.getActive(this.offsets[this.columnIndex]);this.offsets[this.columnIndex]=this.getOffset(e)}else if(this.offsets[this.columnIndex]<=this.crisis(this.columnIndex).min)this.offsets[this.columnIndex]=this.crisis(this.columnIndex).min;else{let e=this.getActive(this.offsets[this.columnIndex]);this.offsets[this.columnIndex]=this.getOffset(e)}if(1==this.actives.length)this.actives[0].index!=this.oldActives[0].index&&this.$emit("change",this.columnIndex,this.actives[0]);else{let e=!0;for(let t=0;t<this.oldActives.length;t++)this.oldActives[t].index!=this.actives[t].index&&(e=!1);e||this.$emit("change",this.columnIndex,this.actives)}setTimeout((()=>{this.removeTransition(this.columnIndex)}),t)},contentTouchMove(e){e.cancelable&&e.preventDefault()}},beforeUnmount(){u.event.off(document.documentElement,`mousemove.picker_${this.uid} mouseup.picker_${this.uid}`)}},$e={class:"mvi-picker"},Se={key:1,class:"mvi-picker-toolbar"},Te=["textContent"],Be=["textContent"],Ie=["textContent"],Pe=["onTouchstart","onMousedown"],Ve=["textContent"];const ze=S(xe,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Loading");return t.openBlock(),t.createElementBlock("div",$e,[s.loading?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-picker-loading",style:t.normalizeStyle(l.loadingStyle)},[t.createVNode(r,{size:"0.5rem",color:"#ddd"})],4)):t.createCommentVNode("",!0),s.showToolbar&&!s.loading?(t.openBlock(),t.createElementBlock("div",Se,[t.createElementVNode("div",{class:"mvi-picker-toolbar-cancel",textContent:t.toDisplayString(s.cancelText),onClick:i[0]||(i[0]=(...e)=>l.doCancel&&l.doCancel(...e))},null,8,Te),s.title?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-picker-toolbar-title",textContent:t.toDisplayString(s.title)},null,8,Be)):t.createCommentVNode("",!0),t.createElementVNode("div",{class:"mvi-picker-toolbar-confirm",textContent:t.toDisplayString(s.confirmText),onClick:i[1]||(i[1]=(...e)=>l.doConfirm&&l.doConfirm(...e))},null,8,Ie)])):t.createCommentVNode("",!0),s.loading?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",{key:2,class:"mvi-picker-content",style:t.normalizeStyle(l.contentStyle),ref:"content",onTouchmove:i[4]||(i[4]=(...e)=>l.contentTouchMove&&l.contentTouchMove(...e))},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.cmpOptions,((e,o)=>(t.openBlock(),t.createElementBlock("div",{class:"mvi-picker-items",ref_for:!0,ref:e=>n.itemRefs[o]=e,style:t.normalizeStyle(l.columnStyle(e,o)),onTouchstart:e=>l.touchstart(e,o),onTouchmove:i[2]||(i[2]=(...e)=>l.touchmove&&l.touchmove(...e)),onTouchend:i[3]||(i[3]=(...e)=>l.touchend&&l.touchend(...e)),onMousedown:e=>l.mousedown(e,o)},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.values,((e,i)=>(t.openBlock(),t.createElementBlock("div",{class:"mvi-picker-item",textContent:t.toDisplayString(e),style:t.normalizeStyle({height:s.selectHeight||""})},null,12,Ve)))),256))],44,Pe)))),256)),t.createElementVNode("div",{class:"mvi-picker-active",style:t.normalizeStyle({height:s.selectHeight||""})},null,4),t.createElementVNode("div",{class:"mvi-picker-mask",style:t.normalizeStyle(l.maskStyle)},null,4)],36))])}],["__scopeId","data-v-4d117a98"]]);ze.install=e=>{e.component(ze.name,ze)};const Ne={name:"m-date-picker",emits:["update:modelValue","confirm","cancel","change"],props:{modelValue:{type:Date,default:function(){return new Date}},startDate:{type:Date,default:function(){return Ce("1970-01-01 00:00:00").toDate()}},endDate:{type:Date,default:function(){return Ce("2099-12-31 23:59:59").toDate()}},mode:{type:String,default:"date",validator:e=>["date","datetime","time","month","year"].includes(e)},showToolbar:{type:Boolean,default:!0},title:{type:String,default:null},confirmText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},loading:{type:Boolean,default:!1},visibleCounts:{type:Number,default:5},selectHeight:{type:String,default:"0.88rem"},formatter:{type:Function}},computed:{selectedDate:{set(e){if(e instanceof Date){const t=this.getUnit();Ce(e).isBefore(Ce(this.startDate),t)&&(e=this.startDate),Ce(e).isAfter(Ce(this.endDate),t)&&(e=this.endDate)}this.$emit("update:modelValue",e),this.$emit("change",e)},get(){if(this.modelValue instanceof Date){const e=this.getUnit();return Ce(this.modelValue).isBefore(Ce(this.startDate),e)?this.startDate:Ce(this.modelValue).isAfter(Ce(this.endDate),e)?this.endDate:this.modelValue}return new Date}},years(){let e=[],t=this.startDate.getFullYear();for(;t<=this.endDate.getFullYear();)e.push(t),t++;return e},months(){const e=Ce(this.selectedDate).format("YYYY");let t=[];for(let i=1;i<=12;i++)Ce(`${e}-${i<10?"0"+i:i}`).isBefore(Ce(this.startDate),"month")||Ce(`${e}-${i<10?"0"+i:i}`).isAfter(Ce(this.endDate),"month")||t.push(i);return t},days(){const e=Ce(this.selectedDate).format("YYYY-MM");let t=[];const i=Ce(this.selectedDate).daysInMonth();for(let s=1;s<=i;s++)Ce(`${e}-${s<10?"0"+s:s}`).isBefore(Ce(this.startDate),"date")||Ce(`${e}-${s<10?"0"+s:s}`).isAfter(Ce(this.endDate),"date")||t.push(s);return t},hours(){const e=Ce(this.selectedDate).format("YYYY-MM-DD");let t=[];for(let i=0;i<24;i++)Ce(`${e} ${i<10?"0"+i:i}`).isBefore(Ce(this.startDate),"hour")||Ce(`${e} ${i<10?"0"+i:i}`).isAfter(Ce(this.endDate),"hour")||t.push(i);return t},minutes(){const e=Ce(this.selectedDate).format("YYYY-MM-DD HH");let t=[];for(let i=0;i<60;i++)Ce(`${e}:${i<10?"0"+i:i}`).isBefore(Ce(this.startDate),"minute")||Ce(`${e}:${i<10?"0"+i:i}`).isAfter(Ce(this.endDate),"minute")||t.push(i);return t},pickerOptions(){const e={defaultIndex:this.years.findIndex((e=>e==this.selectedDate.getFullYear())),values:this.years.map((e=>"function"==typeof this.formatter?this.formatter.apply(this,["year",e]):`${e}年`))},t={defaultIndex:this.months.findIndex((e=>e==this.selectedDate.getMonth()+1)),values:this.months.map((e=>"function"==typeof this.formatter?this.formatter.apply(this,["month",e]):`${e}月`))},i={defaultIndex:this.days.findIndex((e=>e==this.selectedDate.getDate())),values:this.days.map((e=>"function"==typeof this.formatter?this.formatter.apply(this,["date",e]):`${e}日`))},s={defaultIndex:this.hours.findIndex((e=>e==this.selectedDate.getHours())),values:this.hours.map((e=>"function"==typeof this.formatter?this.formatter.apply(this,["hour",e]):`${e}时`))},o={defaultIndex:this.minutes.findIndex((e=>e==this.selectedDate.getMinutes())),values:this.minutes.map((e=>"function"==typeof this.formatter?this.formatter.apply(this,["minute",e]):`${e}分`))};return"year"==this.mode?e:"month"==this.mode?[e,t]:"date"==this.mode?[e,t,i]:"datetime"==this.mode?[e,t,i,s,o]:"time"==this.mode?[s,o]:void 0}},components:{Picker:ze},methods:{dateChange(e,t){"year"==this.mode?this.updateYear(this.years[t.index]):"month"==this.mode?0==e?this.updateYear(this.years[t[e].index]):this.updateMonth(this.months[t[e].index]):"date"==this.mode?0==e?this.updateYear(this.years[t[e].index]):1==e?this.updateMonth(this.months[t[e].index]):this.updateDay(this.days[t[e].index]):"time"==this.mode?0==e?this.updateHour(this.hours[t[e].index]):this.updateMinute(this.minutes[t[e].index]):"datetime"==this.mode&&(0==e?this.updateYear(this.years[t[e].index]):1==e?this.updateMonth(this.months[t[e].index]):2==e?this.updateDay(this.days[t[e].index]):3==e?this.updateHour(this.hours[t[e].index]):this.updateMinute(this.minutes[t[e].index]))},doConfirm(){this.$emit("confirm",this.selectedDate)},doCancel(){this.$emit("cancel",this.selectedDate)},updateYear(e){this.selectedDate=Ce(this.selectedDate).year(e).toDate()},updateMonth(e){this.selectedDate=Ce(this.selectedDate).month(e-1).toDate()},updateDay(e){this.selectedDate=Ce(this.selectedDate).date(e).toDate()},updateHour(e){this.selectedDate=Ce(this.selectedDate).hour(e).toDate()},updateMinute(e){this.selectedDate=Ce(this.selectedDate).minute(e).toDate()},getUnit(){return"year"==this.mode?"year":"month"==this.mode?"month":"date"==this.mode?"date":"time"==this.mode||"datetime"==this.mode?"minute":void 0}}},_e={class:"mvi-date-picker"};const De=S(Ne,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Picker");return t.openBlock(),t.createElementBlock("div",_e,[t.createVNode(r,{options:l.pickerOptions,"show-toolbar":s.showToolbar,title:s.title,"confirm-text":s.confirmText,"cancel-text":s.cancelText,loading:s.loading,"visible-counts":s.visibleCounts,"select-height":s.selectHeight,onChange:l.dateChange,onConfirm:l.doConfirm,onCancel:l.doCancel},null,8,["options","show-toolbar","title","confirm-text","cancel-text","loading","visible-counts","select-height","onChange","onConfirm","onCancel"])])}],["__scopeId","data-v-a1692616"]]);De.install=e=>{e.component(De.name,De)};const Re={name:"m-date-native-picker",emits:["update:modelValue","error","change"],props:{type:{type:String,default:"date",validator:e=>["date","datetime","month","time"].includes(e)},modelValue:{type:Date,default:null},max:{type:Date,default:null},min:{type:Date,default:null}},computed:{dateType(){return"datetime"==this.type?"datetime-local":this.type},defaultDate(){if(this.modelValue){if("date"==this.type)return Ce(this.modelValue).format("YYYY-MM-DD");if("datetime"==this.type)return Ce(this.modelValue).format("YYYY-MM-DD HH:mm");if("month"==this.type)return Ce(this.modelValue).format("YYYY-MM");if("time"==this.type)return Ce(this.modelValue).format("HH:mm")}return""}},data:()=>({ios:u.platform.os().ios,iPad:u.platform.device().iPad}),methods:{trigger(){this.ios?this.$el.focus():this.$el.click()},selectDateForIOS(){this.ios&&!this.iPad&&this.selectDate()},selectDateForAndroid(){this.ios&&!this.iPad||this.selectDate()},selectDate(){if(this.$el.value){const e=Ce(this.$el.value);if(this.min&&e.isBefore(Ce(this.min)))return void this.$emit("error",0,"The date is less than min");if(this.max&&Ce(this.max).isBefore(e))return void this.$emit("error",1,"The date is greater than max");this.$emit("update:modelValue",e.toDate()),this.$emit("change",e.toDate())}else this.$emit("update:modelValue",null),this.$emit("change",null)}}},Ae=["type","value"];const Oe=S(Re,[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createElementBlock("input",{onBlur:i[0]||(i[0]=(...e)=>l.selectDateForIOS&&l.selectDateForIOS(...e)),onChange:i[1]||(i[1]=(...e)=>l.selectDateForAndroid&&l.selectDateForAndroid(...e)),class:"mvi-date-native-picker",type:l.dateType,value:l.defaultDate},null,40,Ae)}],["__scopeId","data-v-646ce916"]]);Oe.install=e=>{e.component(Oe.name,Oe)};const Le={name:"m-input",data:()=>({focus:!1}),emits:["update:modelValue","left-click","right-click","focus","blur","input","clear"],props:{modelValue:{type:[String,Number],default:""},placeholder:{type:String,default:""},label:{type:String,default:null},labelWidth:{type:String,default:null},labelAlign:{type:String,default:"left",validator:e=>["left","center","right"].includes(e)},labelOffset:{type:String,default:null},type:{type:String,default:"text",validator:e=>["text","password","number","tel","textarea"].includes(e)},name:{type:String,default:null},maxlength:{type:Number,default:-1},size:{type:String,default:"medium",validator:e=>["medium","large"].includes(e)},border:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},left:{type:[String,Object],default:null},right:{type:[String,Object],default:null},rows:{type:Number,default:1},autosize:{type:[Boolean,Object],default:!1,validator:e=>!(u.common.isObject(e)&&u.number.isNumber(e.minRows)&&u.number.isNumber(e.maxRows)&&e.minRows>e.maxRows)},align:{type:String,default:"left",validator:e=>["left","center","right"].includes(e)},inputMode:{type:[String,Boolean],default:!1,validator:e=>[!1,"none","text","decimal","numeric","tel","search","email","url"].includes(e)}},computed:{inputClass(){let e=["mvi-input-container",this.size];return this.border&&e.push("border"),this.showWordLimit&&this.maxlength>0&&e.push("words"),this.required&&e.push("required"),e},showClear(){return!this.disabled&&!this.readonly&&!(!this.realValue||!this.focus)},parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},realValue:{set(e){this.modelValue!==e&&this.$emit("update:modelValue",e)},get(){let e=null===this.modelValue?"":this.modelValue.toString();return"number"==this.type&&(e=e.replace(/\D/g,"")),this.maxlength>0&&e.length>this.maxlength&&(e=e.substr(0,this.maxlength)),this.modelValue!==e&&this.$emit("update:modelValue",e),e}},cmpType(){return"number"==this.type?"text":this.type},rowsFilter(){let e=this.rows;return u.common.isObject(this.autosize)&&(u.number.isNumber(this.autosize.minRows)&&this.rows<this.autosize.minRows&&(e=this.autosize.minRows),u.number.isNumber(this.autosize.maxRows)&&this.rows>this.autosize.maxRows&&(e=this.autosize.maxRows)),e},labelStyle(){let e={};return this.labelWidth&&(e.width=this.labelWidth),this.labelAlign&&("left"==this.labelAlign?e.justifyContent="flex-start":"right"==this.labelAlign?e.justifyContent="flex-end":e.justifyContent=this.labelAlign),this.labelOffset&&(e.marginRight=this.labelOffset),e},inputStyle(){return{textAlign:this.align?this.align:""}},showLeft(){return this.$slots.left||this.parseIcon(this.left).type||this.parseIcon(this.left).url},showRight(){return this.$slots.right||this.parseIcon(this.right).type||this.parseIcon(this.right).url}},components:{Icon:T},mounted(){this.$refs.textarea&&(this.setMaxMinHeight(),(1==this.autosize||u.common.isObject(this.autosize))&&this.autosizeSet())},watch:{realValue(){this.$refs.textarea&&(1==this.autosize||u.common.isObject(this.autosize))&&this.autosizeSet()},rows(){this.$refs.textarea&&this.setMaxMinHeight()},autosize(){this.$refs.textarea&&this.setMaxMinHeight()},showClear(e){this.$nextTick((()=>{this.$refs.textarea&&(1==this.autosize||u.common.isObject(this.autosize))&&this.autosizeSet()}))}},methods:{autosizeSet(){this.$refs.textarea.style.height="auto",this.$refs.textarea.scrollTop=0,this.$refs.textarea.style.height=u.element.getScrollHeight(this.$refs.textarea)+"px"},rows2Height(e){return e*Math.floor(parseFloat(u.element.getCssStyle(this.$refs.textarea,"line-height")))},setMaxMinHeight(){if(u.common.isObject(this.autosize)){if(u.number.isNumber(this.autosize.maxRows)){let e=this.rows2Height(this.autosize.maxRows);this.$refs.textarea.style.maxHeight=e+"px"}if(u.number.isNumber(this.autosize.minRows)){let e=this.rows2Height(this.autosize.minRows);this.$refs.textarea.style.minHeight=e+"px"}}else this.$refs.textarea.style.maxHeight="",this.$refs.textarea.style.minHeight=""},inputFocus(){this.disabled||(this.focus=!0,this.$emit("focus",this.realValue))},inputBlur(){this.disabled||setTimeout((()=>{this.focus=!1,this.$emit("blur",this.realValue)}),100)},input(){this.disabled||this.$emit("input",this.realValue)},leftClick(){this.disabled||this.$emit("left-click",this.realValue)},rightClick(){this.disabled||this.$emit("right-click",this.realValue)},doClear(){this.disabled||this.clearable&&setTimeout((()=>{this.realValue="",(this.$refs.input||this.$refs.textarea).focus(),this.$emit("clear",this.realValue)}),110)}}},Me=["disabled","data-type"],We=["textContent"],He=["placeholder","maxlength","disabled","readonly","autofocus","rows","name"],Fe=["type","inputmode","placeholder","maxlength","disabled","readonly","autofocus","name"],je={key:6,class:"mvi-input-words"};const Ye=S(Le,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",{disabled:s.disabled||null,class:t.normalizeClass(l.inputClass),"data-type":s.type},[l.showLeft?(t.openBlock(),t.createElementBlock("div",{key:0,onClick:i[0]||(i[0]=(...e)=>l.leftClick&&l.leftClick(...e)),class:"mvi-input-left"},[e.$slots.left?t.renderSlot(e.$slots,"left",{key:0},void 0,!0):(t.openBlock(),t.createBlock(r,{key:1,type:l.parseIcon(s.left).type,url:l.parseIcon(s.left).url,spin:l.parseIcon(s.left).spin,size:l.parseIcon(s.left).size,color:l.parseIcon(s.left).color},null,8,["type","url","spin","size","color"]))])):t.createCommentVNode("",!0),s.label?(t.openBlock(),t.createElementBlock("div",{key:1,class:"mvi-input-label",style:t.normalizeStyle(l.labelStyle)},[t.createElementVNode("span",{textContent:t.toDisplayString(s.label)},null,8,We)],4)):t.createCommentVNode("",!0),"textarea"==s.type?t.withDirectives((t.openBlock(),t.createElementBlock("textarea",{key:2,placeholder:s.placeholder,maxlength:s.maxlength,disabled:s.disabled,readonly:s.readonly,autofocus:s.autofocus,class:"mvi-textarea","onUpdate:modelValue":i[1]||(i[1]=e=>l.realValue=e),onInput:i[2]||(i[2]=(...e)=>l.input&&l.input(...e)),ref:"textarea",rows:l.rowsFilter,name:s.name,style:t.normalizeStyle(l.inputStyle),onFocus:i[3]||(i[3]=(...e)=>l.inputFocus&&l.inputFocus(...e)),onBlur:i[4]||(i[4]=(...e)=>l.inputBlur&&l.inputBlur(...e)),autocomplete:"off"},null,44,He)),[[t.vModelText,l.realValue]]):t.withDirectives((t.openBlock(),t.createElementBlock("input",{key:3,type:l.cmpType,inputmode:s.inputMode,placeholder:s.placeholder,maxlength:s.maxlength,disabled:s.disabled,readonly:s.readonly,autofocus:s.autofocus,class:"mvi-input","onUpdate:modelValue":i[5]||(i[5]=e=>l.realValue=e),onInput:i[6]||(i[6]=(...e)=>l.input&&l.input(...e)),ref:"input",name:s.name,style:t.normalizeStyle(l.inputStyle),onFocus:i[7]||(i[7]=(...e)=>l.inputFocus&&l.inputFocus(...e)),onBlur:i[8]||(i[8]=(...e)=>l.inputBlur&&l.inputBlur(...e)),autocomplete:"off"},null,44,Fe)),[[t.vModelDynamic,l.realValue]]),s.clearable?t.withDirectives((t.openBlock(),t.createElementBlock("div",{key:4,onClick:i[9]||(i[9]=(...e)=>l.doClear&&l.doClear(...e)),class:"mvi-input-clear"},[t.createVNode(r,{type:"times-o"})],512)),[[t.vShow,l.showClear]]):t.createCommentVNode("",!0),l.showRight?(t.openBlock(),t.createElementBlock("div",{key:5,onClick:i[10]||(i[10]=(...e)=>l.rightClick&&l.rightClick(...e)),class:"mvi-input-right"},[e.$slots.right?t.renderSlot(e.$slots,"right",{key:0},void 0,!0):(t.openBlock(),t.createBlock(r,{key:1,type:l.parseIcon(s.right).type,url:l.parseIcon(s.right).url,spin:l.parseIcon(s.right).spin,size:l.parseIcon(s.right).size,color:l.parseIcon(s.right).color},null,8,["type","url","spin","size","color"]))])):t.createCommentVNode("",!0),s.showWordLimit&&s.maxlength>0?(t.openBlock(),t.createElementBlock("div",je,t.toDisplayString(l.realValue.length)+"/"+t.toDisplayString(s.maxlength),1)):t.createCommentVNode("",!0)],10,Me)}],["__scopeId","data-v-8664fc16"]]);Ye.install=e=>{e.component(Ye.name,Ye)};const qe={name:"m-modal",data:()=>({modalShow:!1,firstShow:!1}),emits:["update:modelValue","show","showing","shown","hide","hidding","hidden"],inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},mountEl:{type:String,default:null},title:{type:String,default:""},center:{type:Boolean,default:!1},ellipsis:{type:Boolean,default:!1},content:{type:String,default:""},footer:{type:String,default:null},showTimes:{type:Boolean,default:!1},timeout:{type:Number,default:200},closable:{type:Boolean,default:!1},overlayColor:{type:String,default:null},zIndex:{type:Number,default:900},width:{type:String,default:null},radius:{type:String,default:null},animation:{type:String,default:"scale"},usePadding:{type:Boolean,default:!1},fullScreen:{type:Boolean,default:!1},__ignorePadding:{type:Boolean,default:!1}},computed:{$$el(){return this.$refs.overlay.$$el},show:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},wrapperStyle(){let e={};return this.radius&&(e.borderRadius=this.radius),e.transition="all "+this.timeout+"ms",e},headerStyle(){let e={};return(this.$slots.default||this.content)&&(e.paddingBottom="0"),e}},components:{Icon:T,Overlay:re},watch:{fullScreen(){this.modalSize()}},methods:{modalSize(){this.fullScreen?(this.$refs.modal.style.width=this.$$el.offsetParent.offsetWidth+"px",this.$refs.wrapper.style.height=this.$$el.offsetParent.offsetHeight+"px",this.$refs.wrapper.style.maxHeight=""):(this.width?this.$refs.modal.style.width=this.width:this.$refs.modal.style.width="",this.$refs.wrapper.style.maxHeight=.96*this.$$el.offsetParent.offsetHeight+"px",this.$refs.wrapper.style.height="")},overlayShow(){this.firstShow||(this.firstShow=!0),this.modalShow=!0},overlayHide(){this.modalShow=!1},beforeEnter(e){u.data.get(e,"mvi-modal-beforeEnter-trigger")||(u.data.set(e,"mvi-modal-beforeEnter-trigger",!0),this.$emit("show",e),"function"==typeof this.modalComponentWatch&&this.modalComponentWatch.apply(this,["show",e]))},enter(e){u.data.get(e,"mvi-modal-enter-trigger")||(u.data.set(e,"mvi-modal-enter-trigger",!0),this.modalSize(),this.$emit("showing",e),"function"==typeof this.modalComponentWatch&&this.modalComponentWatch.apply(this,["showing",e]))},afterEnter(e){this.$emit("shown",e),"function"==typeof this.modalComponentWatch&&this.modalComponentWatch.apply(this,["shown",e])},beforeLeave(e){u.data.remove(e,"mvi-modal-beforeEnter-trigger"),u.data.remove(e,"mvi-modal-enter-trigger"),this.$emit("hide",e),"function"==typeof this.modalComponentWatch&&this.modalComponentWatch.apply(this,["hide",e])},leave(e){this.$emit("hidding",e),"function"==typeof this.modalComponentWatch&&this.modalComponentWatch.apply(this,["hidding",e])},afterLeave(e){this.$emit("hidden",e),"function"==typeof this.modalComponentWatch&&this.modalComponentWatch.apply(this,["hidden",e])}}},Xe=["innerHTML"],Ue={key:2,ref:"content",class:"mvi-modal-content"},Ke=["innerHTML"],Ge=["textContent"];const Ze=S(qe,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon"),a=t.resolveComponent("Overlay");return t.openBlock(),t.createBlock(a,{ref:"overlay",modelValue:l.show,"onUpdate:modelValue":i[1]||(i[1]=e=>l.show=e),onShow:l.overlayShow,onHide:l.overlayHide,"use-padding":s.usePadding,"z-index":s.zIndex,closable:s.closable,color:s.overlayColor,timeout:s.timeout,"mount-el":s.mountEl},{default:t.withCtx((()=>[t.createElementVNode("div",{ref:"modal",class:"mvi-modal",style:t.normalizeStyle({zIndex:s.zIndex+10})},[t.createVNode(t.Transition,{name:"mvi-modal-"+s.animation,onBeforeEnter:l.beforeEnter,onEnter:l.enter,onAfterEnter:l.afterEnter,onBeforeLeave:l.beforeLeave,onLeave:l.leave,onAfterLeave:l.afterLeave},{default:t.withCtx((()=>[n.firstShow?t.withDirectives((t.openBlock(),t.createElementBlock("div",t.mergeProps({key:0,class:"mvi-modal-wrapper",ref:"wrapper",style:l.wrapperStyle},e.$attrs),[s.showTimes?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-modal-times",onClick:i[0]||(i[0]=e=>l.show=!1)},[t.createVNode(r,{type:"times"})])):t.createCommentVNode("",!0),e.$slots.title||s.title?(t.openBlock(),t.createElementBlock("div",{key:1,ref:"header",class:t.normalizeClass(["mvi-modal-title",s.ellipsis?"ellipsis":"",s.center?"center":""]),style:t.normalizeStyle(l.headerStyle)},[e.$slots.title?t.renderSlot(e.$slots,"title",{key:0},void 0,!0):s.title?(t.openBlock(),t.createElementBlock("span",{key:1,innerHTML:s.title},null,8,Xe)):t.createCommentVNode("",!0)],6)):t.createCommentVNode("",!0),e.$slots.default||s.content?(t.openBlock(),t.createElementBlock("div",Ue,[e.$slots.default?t.renderSlot(e.$slots,"default",{key:0},void 0,!0):s.content?(t.openBlock(),t.createElementBlock("span",{key:1,innerHTML:s.content},null,8,Ke)):t.createCommentVNode("",!0)],512)):t.createCommentVNode("",!0),e.$slots.footer||s.footer?(t.openBlock(),t.createElementBlock("div",{key:3,ref:"footer",class:"mvi-modal-footer",style:t.normalizeStyle({padding:s.__ignorePadding?0:""})},[e.$slots.footer?t.renderSlot(e.$slots,"footer",{key:0},void 0,!0):s.footer?(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(s.footer)},null,8,Ge)):t.createCommentVNode("",!0)],4)):t.createCommentVNode("",!0)],16)),[[t.vShow,n.modalShow]]):t.createCommentVNode("",!0)])),_:3},8,["name","onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])],4)])),_:3},8,["modelValue","onShow","onHide","use-padding","z-index","closable","color","timeout","mount-el"])}],["__scopeId","data-v-d29bc77e"]]);Ze.install=e=>{e.component(Ze.name,Ze)};const Je={name:"m-dialog",data:()=>({ok:!1,show:!0,focus:!1,value:""}),props:{type:{type:String,default:null},title:{type:String,default:null},message:{default:""},width:{type:String,default:null},zIndex:{type:Number,default:null},animation:{type:String,default:null},radius:{type:String,default:null},overlayColor:{type:String,default:null},closable:{type:Boolean,default:null},input:{type:Object,default:null},usePadding:{type:Boolean,default:null},btnText:{type:[String,Array],default:null},btnColor:{type:[String,Array],default:null},ios:{type:Boolean,default:null},mountEl:{type:String,default:null},timeout:{type:Number,default:null},__remove:{type:Function,default:function(){return function(){}}}},computed:{$$el(){return this.$refs.modal.$$el},cmpTitle(){return"string"==typeof this.title?this.title:"提示"},cmpMessage(){return"string"==typeof this.message?this.message:u.common.isObject(this.message)?JSON.stringify(this.message):String(this.message)},cmpBtnText(){let e=null;return"alert"==this.type?e="string"==typeof this.btnText?this.btnText:"确定":(e=[],this.btnText instanceof Array?("string"==typeof this.btnText[0]?e[0]=this.btnText[0]:e[0]="确定","string"==typeof this.btnText[1]?e[1]=this.btnText[1]:e[1]="取消"):e=["确定","取消"]),e},cmpBtnColor(){let e=null;return"alert"==this.type?e="string"==typeof this.btnColor?this.btnColor:null:(e=[],this.btnColor instanceof Array?("string"==typeof this.btnColor[0]?e[0]=this.btnColor[0]:e[0]=null,"string"==typeof this.btnColor[1]?e[1]=this.btnColor[1]:e[1]=null):e=[null,null]),e},cmpWidth(){return"string"==typeof this.width&&this.width?this.width:"5.6rem"},cmpInput(){let e={placeholder:"",type:"text",autofocus:!0,maxlength:-1,clearable:!0,mode:!1,align:"left",value:""};return u.common.isObject(this.input)&&("string"==typeof this.input.placeholder&&(e.placeholder=this.input.placeholder),"string"==typeof this.input.type&&this.input.type&&(e.type=this.input.type),"boolean"==typeof this.input.autofocus&&(e.autofocus=this.input.autofocus),u.number.isNumber(this.input.maxlength)&&(e.maxlength=this.input.maxlength),"boolean"==typeof this.input.clearable&&(e.clearable=this.input.clearable),"string"==typeof this.input.mode&&(e.mode=this.input.mode),"string"==typeof this.input.align&&(e.align=this.input.align),("string"==typeof this.input.value||u.number.isNumber(this.input.value))&&(e.value=this.input.value.toString())),e},cmpZIndex(){return u.number.isNumber(this.zIndex)?this.zIndex:1e3},cmpUsePadding(){return"boolean"==typeof this.usePadding&&this.usePadding},cmpAnimation(){return"string"==typeof this.animation&&this.animation?this.animation:"narrow"},cmpRadius(){return"string"==typeof this.radius&&this.radius?this.radius:"0.2rem"},cmpOverlayColor(){return"string"==typeof this.overlayColor&&this.overlayColor?this.overlayColor:this.cmpIos?"rgba(0,10,20,.3)":null},cmpIos(){return"boolean"==typeof this.ios&&this.ios},cmpMountEl(){return"string"==typeof this.mountEl&&this.mountEl?this.mountEl:"body"},cmpClosable(){return"boolean"==typeof this.closable&&this.closable},cmpTimeout(){return u.number.isNumber(this.timeout)?this.timeout:200},contentShow(){return"alert"!=this.type&&"confirm"!=this.type||!(!this.cmpMessage||this.cmpIos)},showClear(){return this.focus&&this.value},inputClass(){let e=[];return this.showClear&&this.cmpInput.clearable&&e.push("mvi-dialog-input-padding"),e},inputMode(){let e=!1;return[!1,"none","text","decimal","numeric","tel","search","email","url"].includes(this.cmpInput.mode)&&(e=this.cmpInput.mode),e},inputStyle(){let e={};return["left","right","center"].includes(this.cmpInput.align)&&(e.textAlign=this.cmpInput.align),e}},components:{Icon:T,Modal:Ze},created(){"prompt"==this.type&&this.setDefaultValue()},mounted(){u.event.on(this.$$el,"click.dialog",this.overlayClick)},methods:{overlayClick(e){this.cmpClosable&&e.target==e.currentTarget&&(this.show=!1,this.ok=!1)},setDefaultValue(){let e=this.cmpInput.value;"number"==this.cmpInput.type&&(e=e.replace(/\D/g,"")),this.cmpInput.maxlength>0&&e.length>this.cmpInput.maxlength&&(e=e.substring(0,this.cmpInput.maxlength)),this.value=e},inputFocus(){this.focus=!0},inputBlur(){setTimeout((()=>{this.focus=!1}),100)},inputFun(){let e=this.value;"number"==this.cmpInput.type&&(e=e.replace(/\D/g,"")),this.cmpInput.maxlength>0&&e.length>this.cmpInput.maxlength&&(e=e.substr(0,this.cmpInput.maxlength)),this.value=e},doClear(){this.cmpInput.clearable&&setTimeout((()=>{this.value="",this.$refs.input.focus()}),110)},okFun(){this.show=!1,this.ok=!0},cancelFun(){this.show=!1,this.ok=!1},modalHide(e){"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["hide",this.type,e])},modalHidding(e){"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["hidding",this.type,e])},modalHidden(e){"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["hidden",this.type,e]),"alert"==this.type?this.__remove():"confirm"==this.type?this.__remove(this.ok):"prompt"==this.type&&this.__remove(this.ok,this.value)},modalShow(e){"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["show",this.type,e])},modalShowing(e){"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["showing",this.type,e])},modalShown(e){"prompt"==this.type&&this.cmpInput.autofocus&&this.$refs.input&&this.$refs.input.focus(),"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["shown",this.type,e])}}},Qe=["innerHTML"],et=["innerHTML"],tt=["innerHTML"],it=["type","placeholder","maxlength","inputmode"],st={class:"mvi-dialog-footer"},ot=["textContent"],nt=["textContent"];const lt=S(Je,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon"),a=t.resolveComponent("Modal");return t.openBlock(),t.createBlock(a,{ref:"modal",modelValue:n.show,"onUpdate:modelValue":i[6]||(i[6]=e=>n.show=e),onHide:l.modalHide,onHidding:l.modalHidding,onHidden:l.modalHidden,width:l.cmpWidth,"z-index":l.cmpZIndex,radius:l.cmpRadius,"use-padding":l.cmpUsePadding,animation:l.cmpAnimation,onShow:l.modalShow,onShowing:l.modalShowing,onShown:l.modalShown,timeout:l.cmpTimeout,"overlay-color":l.cmpOverlayColor,"mount-el":l.cmpMountEl,__ignorePadding:""},t.createSlots({footer:t.withCtx((()=>[t.createElementVNode("div",st,["alert"!=s.type?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-dialog-cancel",textContent:t.toDisplayString(l.cmpBtnText[1]),onClick:i[4]||(i[4]=(...e)=>l.cancelFun&&l.cancelFun(...e)),style:t.normalizeStyle({color:l.cmpBtnColor[1]||""})},null,12,ot)):t.createCommentVNode("",!0),t.createElementVNode("div",{class:"mvi-dialog-ok",textContent:t.toDisplayString("alert"==s.type?l.cmpBtnText:l.cmpBtnText[0]),onClick:i[5]||(i[5]=(...e)=>l.okFun&&l.okFun(...e)),style:t.normalizeStyle({color:"alert"==s.type?l.cmpBtnColor||"":l.cmpBtnColor[0]||""})},null,12,nt)])])),_:2},[l.cmpTitle||l.cmpIos&&l.cmpMessage?{name:"title",fn:t.withCtx((()=>[l.cmpTitle?(t.openBlock(),t.createElementBlock("div",{key:0,innerHTML:l.cmpTitle,class:"mvi-dialog-title"},null,8,Qe)):t.createCommentVNode("",!0),l.cmpMessage&&l.cmpIos?(t.openBlock(),t.createElementBlock("div",{key:1,innerHTML:l.cmpMessage,class:"mvi-dialog-ios-content"},null,8,et)):t.createCommentVNode("",!0)])),key:"0"}:void 0,l.contentShow?{name:"default",fn:t.withCtx((()=>[!l.cmpIos&&l.cmpMessage?(t.openBlock(),t.createElementBlock("div",{key:0,innerHTML:l.cmpMessage,class:"mvi-dialog-content"},null,8,tt)):t.createCommentVNode("",!0),"prompt"==s.type?(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(["mvi-dialog-input",!l.cmpIos&&l.cmpMessage?"mvi-dialog-input-mt":""])},[t.withDirectives(t.createElementVNode("input",{ref:"input",type:"number"==l.cmpInput.type?"text":l.cmpInput.type,placeholder:l.cmpInput.placeholder,maxlength:l.cmpInput.maxlength,class:t.normalizeClass(l.inputClass),style:t.normalizeStyle(l.inputStyle),"onUpdate:modelValue":i[0]||(i[0]=e=>n.value=e),onInput:i[1]||(i[1]=(...e)=>l.inputFun&&l.inputFun(...e)),onFocus:i[2]||(i[2]=(...e)=>l.inputFocus&&l.inputFocus(...e)),onBlur:i[3]||(i[3]=(...e)=>l.inputBlur&&l.inputBlur(...e)),inputmode:l.inputMode},null,46,it),[[t.vModelDynamic,n.value,void 0,{trim:!0}]]),l.cmpInput.clearable?t.withDirectives((t.openBlock(),t.createBlock(r,{key:0,ref:"icon",type:"times-o",class:"mvi-dialog-times",onClick:l.doClear},null,8,["onClick"])),[[t.vShow,l.showClear]]):t.createCommentVNode("",!0)],2)):t.createCommentVNode("",!0)])),key:"1"}:void 0]),1032,["modelValue","onHide","onHidding","onHidden","width","z-index","radius","use-padding","animation","onShow","onShowing","onShown","timeout","overlay-color","mount-el"])}],["__scopeId","data-v-b9a33bd4"]]),rt={name:"m-dialog-pc",data:()=>({ok:!1,show:!0,focus:!1,value:""}),props:{type:{type:String,default:null},title:{type:String,default:null},message:{default:""},width:{type:String,default:null},zIndex:{type:Number,default:null},animation:{type:String,default:null},radius:{type:String,default:null},overlayColor:{type:String,default:null},closable:{type:Boolean,default:null},input:{type:Object,default:null},center:{type:Boolean,default:!1},usePadding:{type:Boolean,default:null},btns:{type:Object,default:null},showTimes:{type:Boolean,default:null},mountEl:{type:String,default:null},timeout:{type:Number,default:null},__remove:{type:Function,default:function(){return function(){}}}},computed:{$$el(){return this.$refs.modal.$$el},cmpShowTimes(){return"boolean"!=typeof this.showTimes||this.showTimes},cmpTitle(){return"string"==typeof this.title?this.title:"提示"},cmpMessage(){return"string"==typeof this.message?this.message:u.common.isObject(this.message)?JSON.stringify(this.message):String(this.message)},cmpBtns(){let e={ok:{type:"primary",color:null,subColor:null,plain:!1,text:"确定",size:"medium",round:!1,square:!1,disabled:!1,loading:!1,loadText:"loading...",loadIcon:{type:"load-e",spin:!0}},cancel:{type:"default",color:null,subColor:null,plain:!1,text:"取消",size:"medium",round:!1,square:!1,disabled:!1,loading:!1,loadText:"loading...",loadIcon:{type:"load-e",spin:!0}}};return u.common.isObject(this.btns)&&(u.common.isObject(this.btns.ok)&&("string"==typeof this.btns.ok.type&&(e.ok.type=this.btns.ok.type),"string"==typeof this.btns.ok.color&&(e.ok.color=this.btns.ok.color),"string"==typeof this.btns.ok.subColor&&(e.ok.subColor=this.btns.ok.subColor),"boolean"==typeof this.btns.ok.plain&&(e.ok.plain=this.btns.ok.plain),"string"==typeof this.btns.ok.text&&(e.ok.text=this.btns.ok.text),"string"==typeof this.btns.ok.size&&(e.ok.size=this.btns.ok.size),"boolean"==typeof this.btns.ok.round&&(e.ok.round=this.btns.ok.round),"boolean"==typeof this.btns.ok.square&&(e.ok.square=this.btns.ok.square),"boolean"==typeof this.btns.ok.disabled&&(e.ok.disabled=this.btns.ok.disabled),"boolean"==typeof this.btns.ok.loading&&(e.ok.loading=this.btns.ok.loading),"string"==typeof this.btns.ok.loadText&&(e.ok.loadText=this.btns.ok.loadText),("string"==typeof this.btns.ok.loadIcon||u.common.isObject(this.btns.ok.loadIcon))&&(e.ok.loadIcon=this.btns.ok.loadIcon)),u.common.isObject(this.btns.cancel)&&("string"==typeof this.btns.cancel.type&&(e.cancel.type=this.btns.cancel.type),"string"==typeof this.btns.cancel.color&&(e.cancel.color=this.btns.cancel.color),"string"==typeof this.btns.cancel.subColor&&(e.cancel.subColor=this.btns.cancel.subColor),"boolean"==typeof this.btns.cancel.plain&&(e.cancel.plain=this.btns.cancel.plain),"string"==typeof this.btns.cancel.text&&(e.cancel.text=this.btns.cancel.text),"string"==typeof this.btns.cancel.size&&(e.cancel.size=this.btns.cancel.size),"boolean"==typeof this.btns.cancel.round&&(e.cancel.round=this.btns.cancel.round),"boolean"==typeof this.btns.cancel.square&&(e.cancel.square=this.btns.cancel.square),"boolean"==typeof this.btns.cancel.disabled&&(e.cancel.disabled=this.btns.cancel.disabled),"boolean"==typeof this.btns.cancel.loading&&(e.cancel.loading=this.btns.cancel.loading),"string"==typeof this.btns.cancel.loadText&&(e.cancel.loadText=this.btns.cancel.loadText),("string"==typeof this.btns.cancel.loadIcon||u.common.isObject(this.btns.cancel.loadIcon))&&(e.cancel.loadIcon=this.btns.cancel.loadIcon))),e},cmpWidth(){return"string"==typeof this.width&&this.width?this.width:"7.2rem"},cmpInput(){let e={placeholder:"",type:"text",autofocus:!0,maxlength:-1,clearable:!1,align:"left",value:""};return u.common.isObject(this.input)&&("string"==typeof this.input.placeholder&&(e.placeholder=this.input.placeholder),"string"==typeof this.input.type&&this.input.type&&(e.type=this.input.type),"boolean"==typeof this.input.autofocus&&(e.autofocus=this.input.autofocus),u.number.isNumber(this.input.maxlength)&&(e.maxlength=this.input.maxlength),"boolean"==typeof this.input.clearable&&(e.clearable=this.input.clearable),"string"==typeof this.input.align&&(e.align=this.input.align),("string"==typeof this.input.value||u.number.isNumber(this.input.value))&&(e.value=this.input.value.toString())),e},cmpZIndex(){return u.number.isNumber(this.zIndex)?this.zIndex:1e3},cmpUsePadding(){return"boolean"==typeof this.usePadding&&this.usePadding},cmpAnimation(){return"string"==typeof this.animation&&this.animation?this.animation:"translate-top"},cmpRadius(){return"string"==typeof this.radius&&this.radius?this.radius:"0.12rem"},cmpOverlayColor(){return"string"==typeof this.overlayColor&&this.overlayColor?this.overlayColor:null},cmpClosable(){return"boolean"==typeof this.closable&&this.closable},cmpCenter(){return"boolean"==typeof this.center&&this.center},cmpMountEl(){return"string"==typeof this.mountEl&&this.mountEl?this.mountEl:"body"},cmpTimeout(){return u.number.isNumber(this.timeout)?this.timeout:200},contentShow(){return"Alert"!=this.type&&"Confirm"!=this.type||!!this.cmpMessage},showClear(){return this.focus&&this.value},inputClass(){let e=[];return this.showClear&&this.cmpInput.clearable&&e.push("mvi-dialog-input-padding"),e},inputStyle(){let e={};return["left","right","center"].includes(this.cmpInput.align)&&(e.textAlign=this.cmpInput.align),e}},components:{Icon:T,Modal:Ze,Button:P},created(){"Prompt"==this.type&&this.setDefaultValue()},mounted(){u.event.on(this.$$el,"click.dialog",this.overlayClick)},methods:{overlayClick(e){this.cmpClosable&&e.target==e.currentTarget&&(this.show=!1,this.ok=!1)},setDefaultValue(){let e=this.cmpInput.value;"number"==this.cmpInput.type&&(e=e.replace(/\D/g,"")),this.cmpInput.maxlength>0&&e.length>this.cmpInput.maxlength&&(e=e.substring(0,this.cmpInput.maxlength)),this.value=e},inputFocus(){this.focus=!0},inputBlur(){setTimeout((()=>{this.focus=!1}),100)},inputFun(){let e=this.value;"number"==this.cmpInput.type&&(e=e.replace(/\D/g,"")),this.cmpInput.maxlength>0&&e.length>this.cmpInput.maxlength&&(e=e.substring(0,this.cmpInput.maxlength)),this.value=e},doClear(){this.cmpInput.clearable&&setTimeout((()=>{this.value="",this.$refs.input.focus()}),110)},okFun(){this.show=!1,this.ok=!0},cancelFun(){this.show=!1,this.ok=!1},modalHide(e){"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["hide",this.type,e])},modalHidding(e){"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["hidding",this.type,e])},modalHidden(e){"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["hidden",this.type,e]),"Alert"==this.type?this.__remove():"Confirm"==this.type?this.__remove(this.ok):"Prompt"==this.type&&this.__remove(this.ok,this.value)},modalShow(e){"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["show",this.type,e])},modalShowing(e){"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["showing",this.type,e])},modalShown(e){"Prompt"==this.type&&this.cmpInput.autofocus&&this.$refs.input&&this.$refs.input.focus(),"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["shown",this.type,e])}}},at=["innerHTML"],ht=["innerHTML"],ct={key:1,class:"mvi-dialog-input"},dt=["type","placeholder","maxlength"];const mt=S(rt,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon"),a=t.resolveComponent("Button"),h=t.resolveComponent("Modal");return t.openBlock(),t.createBlock(h,{ref:"modal",modelValue:n.show,"onUpdate:modelValue":i[5]||(i[5]=e=>n.show=e),"show-times":l.cmpShowTimes,onHide:l.modalHide,onHidding:l.modalHidding,onHidden:l.modalHidden,width:l.cmpWidth,"z-index":l.cmpZIndex,radius:l.cmpRadius,"use-padding":l.cmpUsePadding,animation:l.cmpAnimation,onShow:l.modalShow,onShowing:l.modalShowing,onShown:l.modalShown,timeout:l.cmpTimeout,"overlay-color":l.cmpOverlayColor,"mount-el":l.cmpMountEl,center:l.cmpCenter},t.createSlots({_:2},[l.cmpTitle?{name:"title",fn:t.withCtx((()=>[t.createElementVNode("div",{innerHTML:l.cmpTitle,class:"mvi-dialog-title"},null,8,at)])),key:"0"}:void 0,l.contentShow?{name:"default",fn:t.withCtx((()=>[l.cmpMessage?(t.openBlock(),t.createElementBlock("div",{key:0,innerHTML:l.cmpMessage,class:t.normalizeClass(["mvi-dialog-content",s.center?"center":""])},null,10,ht)):t.createCommentVNode("",!0),"Prompt"==s.type?(t.openBlock(),t.createElementBlock("div",ct,[t.withDirectives(t.createElementVNode("input",{ref:"input",type:"number"==l.cmpInput.type?"text":l.cmpInput.type,placeholder:l.cmpInput.placeholder,maxlength:l.cmpInput.maxlength,class:t.normalizeClass(l.inputClass),style:t.normalizeStyle(l.inputStyle),"onUpdate:modelValue":i[0]||(i[0]=e=>n.value=e),onInput:i[1]||(i[1]=(...e)=>l.inputFun&&l.inputFun(...e)),onFocus:i[2]||(i[2]=(...e)=>l.inputFocus&&l.inputFocus(...e)),onBlur:i[3]||(i[3]=(...e)=>l.inputBlur&&l.inputBlur(...e)),onKeyup:i[4]||(i[4]=t.withKeys(((...e)=>l.okFun&&l.okFun(...e)),["enter"]))},null,46,dt),[[t.vModelDynamic,n.value,void 0,{trim:!0}]]),l.cmpInput.clearable?t.withDirectives((t.openBlock(),t.createBlock(r,{key:0,ref:"icon",type:"times-o",class:"mvi-dialog-times",onClick:l.doClear},null,8,["onClick"])),[[t.vShow,l.showClear]]):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),t.createElementVNode("div",{class:t.normalizeClass(["mvi-dialog-footer",s.center?"center":""])},["Alert"!=s.type?(t.openBlock(),t.createBlock(a,{key:0,type:l.cmpBtns.cancel.type,color:l.cmpBtns.cancel.color,"sub-color":l.cmpBtns.cancel.subColor,plain:l.cmpBtns.cancel.plain,class:"mvi-dialog-cancel",onClick:l.cancelFun,size:l.cmpBtns.cancel.size,round:l.cmpBtns.cancel.round,square:l.cmpBtns.cancel.square,loading:l.cmpBtns.cancel.loading,"load-text":l.cmpBtns.cancel.loadText,"load-icon":l.cmpBtns.cancel.loadIcon,disabled:l.cmpBtns.cancel.disabled},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(l.cmpBtns.cancel.text),1)])),_:1},8,["type","color","sub-color","plain","onClick","size","round","square","loading","load-text","load-icon","disabled"])):t.createCommentVNode("",!0),t.createVNode(a,{type:l.cmpBtns.ok.type,color:l.cmpBtns.ok.color,"sub-color":l.cmpBtns.ok.subColor,plain:l.cmpBtns.ok.plain,onClick:l.okFun,size:l.cmpBtns.ok.size,round:l.cmpBtns.ok.round,square:l.cmpBtns.ok.square,loading:l.cmpBtns.ok.loading,"load-text":l.cmpBtns.ok.loadText,"load-icon":l.cmpBtns.ok.loadIcon,disabled:l.cmpBtns.ok.disabled},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(l.cmpBtns.ok.text),1)])),_:1},8,["type","color","sub-color","plain","onClick","size","round","square","loading","load-text","load-icon","disabled"])],2)])),key:"1"}:void 0]),1032,["modelValue","show-times","onHide","onHidding","onHidden","width","z-index","radius","use-padding","animation","onShow","onShowing","onShown","timeout","overlay-color","mount-el","center"])}],["__scopeId","data-v-7537c68e"]]),ut={initParams:(e,t)=>{let i={};return u.common.isObject(t)?(i.title=t.title,i.message=t.message,i.width=t.width,i.zIndex=t.zIndex,i.animation=t.animation,i.radius=t.radius,i.overlayColor=t.overlayColor,i.closable=t.closable,i.input=t.input,i.usePadding=t.usePadding,i.mountEl=t.mountEl,i.timeout=t.timeout,"alert"==e||"confirm"==e||"prompt"==e?(i.btnText=t.btnText,i.btnColor=t.btnColor,i.ios=t.ios):"Alert"!=e&&"Confirm"!=e&&"Prompt"!=e||(i.center=t.center,i.btns=t.btns,i.showTimes=t.showTimes)):i.message=t,i.type=e,i},alert:function(e){return new Promise((i=>{let s=ut.initParams("alert",e),o=u.element.string2dom("<div></div>");document.body.appendChild(o);const n=t.createApp(lt,{...s,__remove:()=>{n.unmount(),o.remove(),i()}});this&&this.config&&this.config.globalProperties&&"function"==typeof this.config.globalProperties.dialogComponentWatch&&(n.config.globalProperties.dialogComponentWatch=this.config.globalProperties.dialogComponentWatch),n.mount(o)}))},confirm:function(e){return new Promise((i=>{let s=ut.initParams("confirm",e),o=u.element.string2dom("<div></div>");document.body.appendChild(o);const n=t.createApp(lt,{...s,__remove:e=>{n.unmount(),o.remove(),i(e)}});this&&this.config&&this.config.globalProperties&&"function"==typeof this.config.globalProperties.dialogComponentWatch&&(n.config.globalProperties.dialogComponentWatch=this.config.globalProperties.dialogComponentWatch),n.mount(o)}))},prompt:function(e){return new Promise((i=>{let s=ut.initParams("prompt",e),o=u.element.string2dom("<div></div>");document.body.appendChild(o);const n=t.createApp(lt,{...s,__remove:(e,t)=>{n.unmount(),o.remove(),i({ok:e,value:t})}});this&&this.config&&this.config.globalProperties&&"function"==typeof this.config.globalProperties.dialogComponentWatch&&(n.config.globalProperties.dialogComponentWatch=this.config.globalProperties.dialogComponentWatch),n.mount(o)}))},Alert:function(e){return new Promise((i=>{let s=ut.initParams("Alert",e),o=u.element.string2dom("<div></div>");document.body.appendChild(o);const n=t.createApp(mt,{...s,__remove:()=>{n.unmount(),o.remove(),i()}});this&&this.config&&this.config.globalProperties&&"function"==typeof this.config.globalProperties.dialogComponentWatch&&(n.config.globalProperties.dialogComponentWatch=this.config.globalProperties.dialogComponentWatch),n.mount(o)}))},Confirm:function(e){return new Promise((i=>{let s=ut.initParams("Confirm",e),o=u.element.string2dom("<div></div>");document.body.appendChild(o);const n=t.createApp(mt,{...s,__remove:e=>{n.unmount(),o.remove(),i(e)}});this&&this.config&&this.config.globalProperties&&"function"==typeof this.config.globalProperties.dialogComponentWatch&&(n.config.globalProperties.dialogComponentWatch=this.config.globalProperties.dialogComponentWatch),n.mount(o)}))},Prompt:function(e){return new Promise((i=>{let s=ut.initParams("Prompt",e),o=u.element.string2dom("<div></div>");document.body.appendChild(o);const n=t.createApp(mt,{...s,__remove:(e,t)=>{n.unmount(),o.remove(),i({ok:e,value:t})}});this&&this.config&&this.config.globalProperties&&"function"==typeof this.config.globalProperties.dialogComponentWatch&&(n.config.globalProperties.dialogComponentWatch=this.config.globalProperties.dialogComponentWatch),n.mount(o)}))},install:e=>{e.config.globalProperties.$alert=ut.alert.bind(e),e.provide("$alert",ut.alert.bind(e)),e.config.globalProperties.$confirm=ut.confirm.bind(e),e.provide("$confirm",ut.confirm.bind(e)),e.config.globalProperties.$prompt=ut.prompt.bind(e),e.provide("$prompt",ut.prompt.bind(e)),e.config.globalProperties.$Alert=ut.Alert.bind(e),e.provide("$Alert",ut.Alert.bind(e)),e.config.globalProperties.$Confirm=ut.Confirm.bind(e),e.provide("$Confirm",ut.Confirm.bind(e)),e.config.globalProperties.$Prompt=ut.Prompt.bind(e),e.provide("$Prompt",ut.Prompt.bind(e))}},pt={name:"m-toast",data:()=>({show:!0,timer:null}),inheritAttrs:!1,props:{type:{type:String,default:null},message:{default:null},timeout:{type:Number,default:null},overlayColor:{type:String,default:null},background:{type:String,default:null},color:{type:String,default:null},zIndex:{type:Number,default:null},usePadding:{type:Boolean,default:null},icon:{type:[String,Object],default:null},mountEl:{type:String,default:null},shadow:{type:Boolean,default:null},__remove:{type:Function,default:function(){return function(){}}},__init:{type:Function,default:function(){return function(){}}}},computed:{$$el(){return this.$refs.overlay.$$el},cmpUsePadding(){return"boolean"==typeof this.usePadding&&this.usePadding},cmpType(){return["success","error","loading","info"].includes(this.type)?this.type:"info"},defaultIconType(){return"success"==this.cmpType?"success":"error"==this.cmpType?"error-o":"info"==this.cmpType?"info-o":"loading"==this.cmpType?null:void 0},cmpIcon(){let e={type:this.defaultIconType,url:null,spin:!1,size:"0.72rem",color:null};return"string"==typeof this.icon&&this.icon?e.type=this.icon:u.common.isObject(this.icon)&&("string"==typeof this.icon.type&&this.icon.type&&(e.type=this.icon.type),"string"==typeof this.icon.url&&this.icon.url&&(e.url=this.icon.url),"boolean"==typeof this.icon.spin&&(e.spin=this.icon.spin),"string"==typeof this.icon.size&&this.icon.size&&(e.size=this.icon.size),"string"==typeof this.icon.color&&this.icon.color&&(e.color=this.icon.color)),e},cmpMessage(){return"string"==typeof this.message&&this.message?this.message:u.common.isObject(this.message)?JSON.stringify(this.message):null==this.message||null==this.message?"":String(this.message)},cmpTimeout(){return u.number.isNumber(this.timeout)&&this.timeout>0?this.timeout:0},cmpZIndex(){return u.number.isNumber(this.zIndex)?this.zIndex:1100},cmpOverlayColor(){return"string"==typeof this.overlayColor&&this.overlayColor?this.overlayColor:"rgba(0, 10, 20, .05)"},cmpBackground(){return"string"==typeof this.background&&this.background?this.background:null},cmpColor(){return"string"==typeof this.color&&this.color?this.color:"#fff"},cmpMountEl(){return"string"==typeof this.mountEl&&this.mountEl?this.mountEl:"body"},cmpShadow(){return"boolean"!=typeof this.shadow||this.shadow},toastStyle(){let e={zIndex:this.cmpZIndex};return this.cmpBackground&&(e.backgroundColor=this.cmpBackground),this.cmpColor&&(e.color=this.cmpColor),e}},components:{Icon:T,Loading:Ee,Overlay:re},mounted(){this.__init(this)},methods:{toastShown(){this.cmpTimeout>0&&(this.timer=setTimeout((()=>{this.show=!1}),this.cmpTimeout))},toastHidden(){this.clearTimer(),this.__remove()},clearTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}}},ft={class:"mvi-toast-icon"},gt=["innerHTML"];const yt=S(pt,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Loading"),a=t.resolveComponent("Icon"),h=t.resolveComponent("Overlay");return t.openBlock(),t.createBlock(h,{ref:"overlay",color:l.cmpOverlayColor,onHidden:l.toastHidden,modelValue:n.show,"onUpdate:modelValue":i[0]||(i[0]=e=>n.show=e),"use-padding":l.cmpUsePadding,zIndex:l.cmpZIndex,fade:"","mount-el":l.cmpMountEl,onShown:l.toastShown},{default:t.withCtx((()=>[t.createElementVNode("div",t.mergeProps({class:["mvi-toast",l.cmpMessage?"":"iconless",l.cmpShadow?"shadow":""],style:l.toastStyle},e.$attrs),[t.createElementVNode("div",ft,["loading"!=l.cmpType||l.cmpIcon.type||l.cmpIcon.url?(t.openBlock(),t.createBlock(a,{key:1,type:l.cmpIcon.type,url:l.cmpIcon.url,spin:l.cmpIcon.spin,size:l.cmpIcon.size,color:l.cmpIcon.color},null,8,["type","url","spin","size","color"])):(t.openBlock(),t.createBlock(r,{key:0,color:l.cmpColor,size:l.cmpIcon.size},null,8,["color","size"]))]),l.cmpMessage?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-toast-message",innerHTML:l.cmpMessage},null,8,gt)):t.createCommentVNode("",!0)],16)])),_:1},8,["color","onHidden","modelValue","use-padding","zIndex","mount-el","onShown"])}],["__scopeId","data-v-ff635be3"]]),bt={initParams:e=>{let t={};return u.common.isObject(e)?(t.type=e.type,t.message=e.message,t.timeout=e.timeout,t.overlayColor=e.overlayColor,t.background=e.background,t.color=e.color,t.zIndex=e.zIndex,t.usePadding=e.usePadding,t.icon=e.icon,t.mountEl=e.mountEl,t.shadow=e.shadow):(t.message=e,t.timeout=1500),t},showToast:e=>new Promise(((i,s)=>{bt.$el&&bt.$instance&&(bt.$instance.unmount(),bt.$el.remove());let o=bt.initParams(e),n=u.element.string2dom("<div></div>");document.body.appendChild(n);const l=t.createApp(yt,{...o,__init:e=>{bt.$vm=e},__remove:()=>{l.unmount(),n.remove(),i()}});l.mount(n),bt.$el=n,bt.$instance=l})),hideToast:()=>{bt.$vm&&(bt.$vm.show=!1)},install:e=>{e.config.globalProperties.$showToast=bt.showToast,e.provide("$showToast",bt.showToast),e.config.globalProperties.$hideToast=bt.hideToast,e.provide("$hideToast",bt.hideToast)}},vt=["textContent"];const kt=S({name:"m-msgbox",data:()=>({show:!1}),inheritAttrs:!1,props:{message:{default:null},animation:{type:String,default:null},timeout:{type:Number,default:null},zIndex:{type:Number,default:null},background:{type:String,default:null},color:{type:String,default:null},__remove:{type:Function,default:function(){return function(){}}}},computed:{cpmMessage(){return"string"==typeof this.message?this.message:u.common.isObject(this.message)?JSON.stringify(this.message):String(this.message)},cmpAnimation(){return"string"==typeof this.animation&&this.animation?this.animation:"fade"},cmpTimeout(){return u.number.isNumber(this.timeout)?this.timeout:1500},cmpZIndex(){return u.number.isNumber(this.zIndex)?this.zIndex:1100},cmpBackground(){return"string"==typeof this.background&&this.background?this.background:null},cmpColor(){return"string"==typeof this.color&&this.color?this.color:null},msgboxStyle(){let e={zIndex:this.cmpZIndex};return this.cmpBackground&&(e.backgroundColor=this.cmpBackground),this.cmpColor&&(e.color=this.cmpColor),e},msgboxClass(){let e=["mvi-msgbox"];return"translate"==this.cmpAnimation&&e.push("mvi-msgbox-translate"),e}},mounted(){this.show=!0},methods:{afterEnter(){this.cmpTimeout>0&&setTimeout((()=>{this.show=!1}),this.cmpTimeout)},afterLeave(){this.__remove()}}},[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[t.createVNode(t.Transition,{name:"mvi-msgbox-"+l.cmpAnimation,onAfterEnter:l.afterEnter,onAfterLeave:l.afterLeave},{default:t.withCtx((()=>[t.withDirectives(t.createElementVNode("div",t.mergeProps(e.$attrs,{class:l.msgboxClass,textContent:t.toDisplayString(l.cpmMessage),style:l.msgboxStyle}),null,16,vt),[[t.vShow,n.show]])])),_:1},8,["name","onAfterEnter","onAfterLeave"])])}],["__scopeId","data-v-4d410ae1"]]),wt={initParams:e=>{let t={};return u.common.isObject(e)?(t.message=e.message,t.timeout=e.timeout,t.animation=e.animation,t.zIndex=e.zIndex,t.color=e.color,t.background=e.background):t.message=e,t},msgbox:e=>new Promise((i=>{let s=wt.initParams(e),o=u.element.string2dom("<div></div>");document.body.appendChild(o);const n=t.createApp(kt,{...s,__remove:()=>{n.unmount(),o.remove(),i()}});n.mount(o)})),install:e=>{e.config.globalProperties.$msgbox=wt.msgbox,e.provide("$msgbox",wt.msgbox)}},Ct={name:"m-number-keyboard",data:()=>({firstShow:!1,keyboardShow:!1,numbers:["1","2","3","4","5","6","7","8","9","X",".","0"]}),emits:["update:modelValue","update:show","input","delete","complete","show","showing","shown","hide","hidding","hidden"],inheritAttrs:!1,props:{showDecimal:{type:Boolean,default:!0},showDelete:{type:Boolean,default:!0},showComplete:{type:Boolean,default:!0},show:{type:Boolean,default:!1},modelValue:{type:[String,Number],default:""},zIndex:{type:Number,default:850},timeout:{type:Number,default:200},closable:{type:Boolean,default:!1},maxlength:{type:Number,default:-1},deleteText:{type:String,default:"删除"},completeText:{type:String,default:"完成"},promiseEmpty:{type:Boolean,default:!1},active:{type:Boolean,default:!0},mountEl:{type:String,default:null},overlayColor:{type:String,default:"rgba(0,10,20,0.2)"},usePadding:{type:Boolean,default:!1},calibration:{type:Boolean,default:!1},showX:{type:Boolean,default:!1},random:{type:Boolean,default:!1},title:{type:String,default:null},border:{type:Boolean,default:!1}},computed:{$$el(){return this.$refs.overlay.$$el},cmpShow:{set(e){this.$emit("update:show",e)},get(){return this.show}},cmpValue:{set(e){this.$emit("update:modelValue",e)},get(){return u.number.isNumber(this.modelValue)?this.modelValue.toString():this.modelValue}},boardStyle(){return{transition:"all "+this.timeout+"ms",zIndex:this.zIndex+10}},deleteDisabeld(){return""===this.modelValue},completeDisabled(){return""===this.modelValue},leftNumberClass(){return(e,t)=>{let i=["mvi-number-keyboard-left-number"];return t==this.cpmNumbers.length-1&&(this.showX||this.showDecimal?i.push("half"):i.push("full")),this.border&&i.push("border"),i}},leftNumberElClass(){return()=>{let e=["mvi-number-keyboard-left-number-el"];return this.active&&e.push("active"),e}},deleteBtnClass(){let e=["mvi-number-keyboard-delete"];return this.border&&e.push("border"),e},deleteBtnElClass(){let e=["mvi-number-keyboard-delete-el"];return this.active&&!this.deleteDisabeld&&e.push("active"),e},completeBtnClass(){let e=["mvi-number-keyboard-complete"];return this.border&&e.push("border"),e},completeBtnElClass(){let e=["mvi-number-keyboard-complete-el"];return!this.active||!this.promiseEmpty&&this.completeDisabled||e.push("active"),e},showKeyBoard(){return e=>"X"==e?this.showX:"."!=e||this.showDecimal&&!this.showX},cpmNumbers(){if(this.show){let e=this.numbers.filter((e=>this.showKeyBoard(e)));if(this.random){let t=[],i=e.length;for(let e=0;e<i;e++)t.push(this.getRandomNumber(t));return t}return e}return this.numbers}},components:{Overlay:re},methods:{getRandomNumber(e){let t=this.numbers.filter((e=>this.showKeyBoard(e))),i=Math.floor(Math.random()*t.length);return e.includes(t[i])?this.getRandomNumber(e):t[i]},overlayShow(){this.firstShow||(this.firstShow=!0),this.keyboardShow=!0},overlayHide(){this.keyboardShow=!1},numberClick(e){this.cmpValue.length>=this.maxlength&&this.maxlength>0||(this.cmpValue+=e,this.$emit("input",e))},deleteClick(){if(this.deleteDisabeld)return;let e=u.string.delete(this.cmpValue,this.cmpValue.length-1,1);this.cmpValue=e,this.$emit("delete",e)},completeClick(){this.completeDisabled&&!this.promiseEmpty||(this.calibration&&(this.cmpValue=parseFloat(this.cmpValue)||""),this.$emit("complete",this.cmpValue),this.cmpShow=!1)},beforeEnter(e){u.data.get(e,"mvi-keyboard-beforeEnter-trigger")||(u.data.set(e,"mvi-keyboard-beforeEnter-trigger",!0),this.$emit("show",e),"function"==typeof this.keyboardComponentWatch&&this.keyboardComponentWatch.apply(this,["show",e]))},enter(e){u.data.get(e,"mvi-keyboard-enter-trigger")||(u.data.set(e,"mvi-keyboard-enter-trigger",!0),this.$emit("showing",e),"function"==typeof this.keyboardComponentWatch&&this.keyboardComponentWatch.apply(this,["showing",e]))},afterEnter(e){this.$emit("shown",e),"function"==typeof this.keyboardComponentWatch&&this.keyboardComponentWatch.apply(this,["shown",e])},beforeLeave(e){u.data.remove(e,"mvi-keyboard-beforeEnter-trigger"),u.data.remove(e,"mvi-keyboard-enter-trigger"),this.$emit("hide",e),"function"==typeof this.keyboardComponentWatch&&this.keyboardComponentWatch.apply(this,["hide",e])},leave(e){this.$emit("hidding",e),"function"==typeof this.keyboardComponentWatch&&this.keyboardComponentWatch.apply(this,["hidding",e])},afterLeave(e){this.$emit("hidden",e),"function"==typeof this.keyboardComponentWatch&&this.keyboardComponentWatch.apply(this,["hidden",e])}}},Et={key:0,class:"mvi-number-keyboard-title"},xt={key:1},$t={class:"mvi-number-keyboard-left"},St=["onClick"],Tt={key:0,class:"mvi-number-keyboard-right"},Bt=["disabled"],It=["textContent"],Pt=["disabled"],Vt=["textContent"];const zt=S(Ct,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Overlay");return t.openBlock(),t.createBlock(r,{ref:"overlay",modelValue:l.cmpShow,"onUpdate:modelValue":i[2]||(i[2]=e=>l.cmpShow=e),onShow:l.overlayShow,onHide:l.overlayHide,"z-index":s.zIndex,color:s.overlayColor,closable:s.closable,timeout:s.timeout,"mount-el":s.mountEl,"use-padding":s.usePadding},{default:t.withCtx((()=>[t.createVNode(t.Transition,{name:"mvi-keyboard",onBeforeEnter:l.beforeEnter,onAfterEnter:l.afterEnter,onBeforeLeave:l.beforeLeave,onAfterLeave:l.afterLeave,onLeave:l.leave,onEnter:l.enter},{default:t.withCtx((()=>[n.firstShow?t.withDirectives((t.openBlock(),t.createElementBlock("div",t.mergeProps({key:0,ref:"keyboard",class:"mvi-number-keyboard",style:l.boardStyle},e.$attrs),[s.border||!s.title&&!e.$slots.title?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",Et,[e.$slots.title?t.renderSlot(e.$slots,"default",{key:0},void 0,!0):(t.openBlock(),t.createElementBlock("span",xt,t.toDisplayString(s.title),1))])),t.createElementVNode("div",{class:t.normalizeClass(["mvi-number-keyboard-wrapper",s.border?"":"border"])},[t.createElementVNode("div",$t,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.cpmNumbers,((e,i)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(l.leftNumberClass(e,i))},[t.createElementVNode("div",{onClick:t=>l.numberClick(e),class:t.normalizeClass(l.leftNumberElClass(e,i))},t.toDisplayString(e),11,St)],2)))),256))]),s.showComplete||s.showDelete?(t.openBlock(),t.createElementBlock("div",Tt,[s.showDelete?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(l.deleteBtnClass)},[t.createElementVNode("div",{disabled:l.deleteDisabeld||null,class:t.normalizeClass(l.deleteBtnElClass),onClick:i[0]||(i[0]=(...e)=>l.deleteClick&&l.deleteClick(...e))},[e.$slots.delete?t.renderSlot(e.$slots,"delete",{key:0},void 0,!0):(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(s.deleteText)},null,8,It))],10,Bt)],2)):t.createCommentVNode("",!0),s.showComplete?(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(l.completeBtnClass)},[t.createElementVNode("div",{disabled:s.promiseEmpty?null:l.completeDisabled||null,class:t.normalizeClass(l.completeBtnElClass),onClick:i[1]||(i[1]=(...e)=>l.completeClick&&l.completeClick(...e))},[e.$slots.complete?t.renderSlot(e.$slots,"complete",{key:0},void 0,!0):t.createCommentVNode("",!0),t.createElementVNode("span",{textContent:t.toDisplayString(s.completeText)},null,8,Vt)],10,Pt)],2)):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0)],2)],16)),[[t.vShow,n.keyboardShow]]):t.createCommentVNode("",!0)])),_:3},8,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave","onLeave","onEnter"])])),_:3},8,["modelValue","onShow","onHide","z-index","color","closable","timeout","mount-el","use-padding"])}],["__scopeId","data-v-96ebe1e8"]]);zt.install=e=>{e.component(zt.name,zt)};const Nt={name:"m-search",emits:["update:modelValue","search","cancel","left-click","right-click","focus","blur","input","clear"],data:()=>({focus:!1}),props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text",validator:e=>["text","password","number","tel","textarea"].includes(e)},placeholder:{type:String,default:""},label:{type:String,default:null},round:{type:Boolean,default:!1},maxlength:{type:Number,default:-1},autofocus:{type:Boolean,default:!1},showCancel:{type:Boolean,default:!1},cancelText:{type:String,default:"取消"},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},align:{type:String,default:"left",validator:e=>["left","center","right"].includes(e)},leftIcon:{type:[String,Object],default:null},rightIcon:{type:[String,Object],default:null},clearable:{type:Boolean,default:!1},inputMode:{type:[String,Boolean],default:!1,validator:e=>[!1,"none","text","decimal","numeric","tel","search","email","url"].includes(e)}},computed:{parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},showClear(){return!this.disabled&&!this.readonly&&(!!this.focus&&""!==this.realValue)},cmpType(){return"number"==this.type?"text":this.type},cmpInputMode(){let e=!1;return"string"==typeof this.inputMode&&(e=this.inputMode),e},inputStyle(){let e={};return this.align&&(e.textAlign=this.align),(this.parseIcon(this.leftIcon).type||this.parseIcon(this.leftIcon).url)&&(e.paddingLeft=0),(this.clearable&&this.showClear||this.parseIcon(this.rightIcon).type||this.parseIcon(this.rightIcon).url)&&(e.paddingRight=0),e},realValue:{set(e){this.modelValue!==e&&this.$emit("update:modelValue",e)},get(){let e=null===this.modelValue?"":this.modelValue.toString();return"number"==this.type&&(e=e.replace(/\D/g,"")),this.maxlength>0&&e.length>this.maxlength&&(e=e.substr(0,this.maxlength)),this.modelValue!==e&&this.$emit("update:modelValue",e),e}}},components:{Icon:T},methods:{inputFocus(){this.disabled||(this.focus=!0,this.$emit("focus",this.realValue))},inputBlur(){this.disabled||setTimeout((()=>{this.focus=!1,this.$emit("blur",this.realValue)}),100)},searchInput(){this.disabled||this.$emit("input",this.realValue)},doSearch(){this.disabled||this.$emit("search",this.realValue)},doCancel(){this.disabled||this.$emit("cancel",this.realValue)},leftClick(){this.disabled||this.$emit("left-click",this.realValue)},rightClick(){this.disabled||this.$emit("right-click",this.realValue)},clearInput(){this.disabled||this.clearable&&setTimeout((()=>{this.realValue="",this.$refs.input.focus(),this.$emit("clear",this.realValue)}),110)}}},_t=["disabled"],Dt=["textContent"],Rt=["type","placeholder","maxlength","autofocus","disabled","readonly","inputmode"],At=["textContent"];const Ot=S(Nt,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",{class:"mvi-search",disabled:s.disabled||null},[s.label?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-search-label",textContent:t.toDisplayString(s.label)},null,8,Dt)):t.createCommentVNode("",!0),t.createElementVNode("div",{class:t.normalizeClass(["mvi-search-input-container",s.round?"round":""])},[l.parseIcon(s.leftIcon).type||l.parseIcon(s.leftIcon).url?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-search-left-icon",onClick:i[0]||(i[0]=(...e)=>l.leftClick&&l.leftClick(...e))},[t.createVNode(r,{type:l.parseIcon(s.leftIcon).type,url:l.parseIcon(s.leftIcon).url,spin:l.parseIcon(s.leftIcon).spin,size:l.parseIcon(s.leftIcon).size,color:l.parseIcon(s.leftIcon).color},null,8,["type","url","spin","size","color"])])):t.createCommentVNode("",!0),t.withDirectives(t.createElementVNode("input",{ref:"input",class:"mvi-search-input",type:l.cmpType,onKeypress:i[1]||(i[1]=t.withKeys(((...e)=>l.doSearch&&l.doSearch(...e)),["enter"])),autocomplete:"off",placeholder:s.placeholder,maxlength:s.maxlength,autofocus:s.autofocus,disabled:s.disabled,readonly:s.readonly,inputmode:l.cmpInputMode,"onUpdate:modelValue":i[2]||(i[2]=e=>l.realValue=e),onInput:i[3]||(i[3]=(...e)=>l.searchInput&&l.searchInput(...e)),onFocus:i[4]||(i[4]=(...e)=>l.inputFocus&&l.inputFocus(...e)),onBlur:i[5]||(i[5]=(...e)=>l.inputBlur&&l.inputBlur(...e)),style:t.normalizeStyle(l.inputStyle)},null,44,Rt),[[t.vModelDynamic,l.realValue]]),s.clearable?t.withDirectives((t.openBlock(),t.createElementBlock("div",{key:1,class:"mvi-search-clear",onClick:i[6]||(i[6]=(...e)=>l.clearInput&&l.clearInput(...e))},[t.createVNode(r,{type:"times-o"})],512)),[[t.vShow,l.showClear]]):t.createCommentVNode("",!0),l.parseIcon(s.rightIcon).type||l.parseIcon(s.rightIcon).url?(t.openBlock(),t.createElementBlock("div",{key:2,class:"mvi-search-right-icon",onClick:i[7]||(i[7]=(...e)=>l.rightClick&&l.rightClick(...e))},[t.createVNode(r,{type:l.parseIcon(s.rightIcon).type,url:l.parseIcon(s.rightIcon).url,spin:l.parseIcon(s.rightIcon).spin,size:l.parseIcon(s.rightIcon).size,color:l.parseIcon(s.rightIcon).color},null,8,["type","url","spin","size","color"])])):t.createCommentVNode("",!0)],2),s.showCancel?(t.openBlock(),t.createElementBlock("div",{key:1,textContent:t.toDisplayString(s.cancelText),class:"mvi-search-cancel",onClick:i[8]||(i[8]=(...e)=>l.doCancel&&l.doCancel(...e))},null,8,At)):t.createCommentVNode("",!0)],8,_t)}],["__scopeId","data-v-4635809b"]]);Ot.install=e=>{e.component(Ot.name,Ot)};const Lt={name:"m-progress",props:{value:{type:Number,default:0},max:{type:Number,default:100},min:{type:Number,default:0},strokeWidth:{type:String,default:null},showTip:{type:Boolean,default:!1},color:{type:String,default:null},tipColor:{type:String,default:null},trackColor:{type:String,default:null},tipText:{type:[String,Number],default:null},round:{type:Boolean,default:!1},square:{type:Boolean,default:!1},animation:{type:Boolean,default:!1},timeout:{type:Number,default:400}},computed:{progressStyle(){let e={};return this.strokeWidth&&(e.height=this.strokeWidth),this.trackColor&&(e.backgroundColor=this.trackColor),e},progressBarStyle(){let e={};return this.animation&&(e.transition="width "+this.timeout+"ms,border-radius "+this.timeout+"ms",e.webkitTransition="width "+this.timeout+"ms,border-radius "+this.timeout+"ms"),this.color&&(e.backgroundColor=this.color),this.value==this.max&&(e.borderRadius="inherit"),e.width=`calc(${(this.value-this.min<0?0:this.value-this.min)/(this.max-this.min)} * 100%)`,e},cmpText(){return this.tipText?this.tipText:Math.round((this.value-this.min<0?0:this.value-this.min)/(this.max-this.min)*100)+"%"},tipStyle(){let e={};return this.tipColor&&(e.color=this.tipColor),e},progressClass(){let e=["mvi-progress"];return this.round?e.push("round"):this.square&&e.push("square"),e}}},Mt=["textContent"];const Wt=S(Lt,[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(l.progressClass),style:t.normalizeStyle(l.progressStyle)},[t.createElementVNode("div",{class:"mvi-progress-bar",style:t.normalizeStyle(l.progressBarStyle)},[s.showTip?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-progress-tooltip",style:t.normalizeStyle(l.tipStyle)},[e.$slots.tip?t.renderSlot(e.$slots,"tip",{key:0,value:s.value},void 0,!0):(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(l.cmpText)},null,8,Mt))],4)):t.createCommentVNode("",!0)],4)],6)}],["__scopeId","data-v-b4862679"]]);Wt.install=e=>{e.component(Wt.name,Wt)};const Ht={name:"m-slider",data:()=>({drag:null,isdrag:!1}),emits:["update:modelValue","change"],props:{modelValue:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},strokeWidth:{type:String,default:"0.2rem"},color:{type:String,default:null},trackColor:{type:String,default:null},disabled:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},round:{type:Boolean,default:!1},square:{type:Boolean,default:!1}},computed:{sliderStyle(){let e={};return this.trackColor&&(e.background=this.trackColor),this.strokeWidth&&(this.vertical?e.width=this.strokeWidth:e.height=this.strokeWidth),e},sliderBarStyle(){let e={};this.color&&(e.background=this.color);let t=u.number.divide(u.number.subtract(this.modelValue,this.min),u.number.subtract(this.max,this.min));return this.vertical?e.height=`calc(${t} * 100%)`:e.width=`calc(${t} * 100%)`,e},buttonElStyle(){let e={};return this.strokeWidth&&(e.width=`calc(${this.strokeWidth} * 2)`,e.height=`calc(${this.strokeWidth} * 2)`),e},sliderClass(){let e=["mvi-slider"];return this.round?e.push("round"):this.square&&e.push("square"),this.vertical&&e.push("vertical"),e}},mounted(){this.setBtnOffset(),this.drag=new y(this.$refs.btn,{container:this.$el,mode:"on",draggableY:this.vertical&&!this.disabled,draggableX:!this.vertical&&!this.disabled,cursor:!1,drag:this.onDrag,dragged:()=>{this.$nextTick((()=>{setTimeout((()=>{this.isdrag=!1}),10)}))}}),this.drag.init()},watch:{disabled(e){this.drag&&(e?this.vertical?this.drag.draggableY=!1:this.drag.draggableX=!1:this.vertical?this.drag.draggableY=!0:this.drag.draggableX=!0)},vertical(){this.$nextTick((()=>{this.setBtnOffset()}))},modelValue(){this.isdrag||this.setBtnOffset()}},methods:{onDrag(e,t,i){if(this.isdrag=!0,this.vertical){let e=u.number.add(u.number.mutiply(u.number.divide(u.number.add(i.top,u.number.divide(this.$refs.btn.offsetHeight,2)),this.$el.offsetHeight),u.number.subtract(this.max,this.min)),this.min);this.$emit("update:modelValue",e),this.$emit("change",e)}else{let e=u.number.add(u.number.mutiply(u.number.divide(u.number.add(i.left,u.number.divide(this.$refs.btn.offsetWidth,2)),this.$el.offsetWidth),u.number.subtract(this.max-this.min)),this.min);this.$emit("update:modelValue",e),this.$emit("change",e)}},setBtnOffset(){this.vertical?(this.$refs.btn.style.left="50%",this.$refs.btn.style.top=u.number.subtract(u.number.mutiply(u.number.divide(u.number.subtract(this.modelValue,this.min),u.number.subtract(this.max-this.min)),this.$el.offsetHeight),u.number.divide(this.$refs.btn.offsetHeight,2))+"px"):(this.$refs.btn.style.top="50%",this.$refs.btn.style.left=u.number.subtract(u.number.mutiply(u.number.divide(u.number.subtract(this.modelValue,this.min),u.number.subtract(this.max-this.min)),this.$el.offsetWidth),u.number.divide(this.$refs.btn.offsetWidth,2))+"px")},dragTo(e){if(!this.disabled&&!this.isdrag&&!u.element.isContains(this.$refs.btn,e.target))if(this.vertical){let t=e.offsetY,i=u.number.add(u.number.mutiply(u.number.divide(t,this.$el.offsetHeight),u.number.subtract(this.max,this.min)),this.min);this.$emit("update:modelValue",i),this.$emit("change",i)}else{let t=e.offsetX,i=u.number.add(u.number.mutiply(u.number.divide(t,this.$el.offsetWidth),u.number.subtract(this.max,this.min)),this.min);this.$emit("update:modelValue",i),this.$emit("change",i)}}},beforeUnmount(){this.drag&&this.drag.destroy()}},Ft=["disabled"],jt={class:"mvi-slider-button",ref:"btn"};const Yt=S(Ht,[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createElementBlock("div",{disabled:s.disabled||null,class:t.normalizeClass(l.sliderClass),style:t.normalizeStyle(l.sliderStyle),onClick:i[0]||(i[0]=(...e)=>l.dragTo&&l.dragTo(...e))},[t.createElementVNode("div",{ref:"bar",class:"mvi-slider-bar",style:t.normalizeStyle(l.sliderBarStyle)},null,4),t.createElementVNode("div",jt,[e.$slots.button?t.renderSlot(e.$slots,"button",{key:0},void 0,!0):(t.openBlock(),t.createElementBlock("div",{key:1,class:"mvi-slider-button-el",style:t.normalizeStyle(l.buttonElStyle)},null,4))],512)],14,Ft)}],["__scopeId","data-v-bb4c2168"]]);Yt.install=e=>{e.component(Yt.name,Yt)};const qt={name:"m-stepper",emits:["update:modelValue","change"],props:{modelValue:{type:[String,Number],default:0},step:{type:Number,default:1},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},min:{type:Number,default:null},max:{type:Number,default:null},digit:{type:Number,default:0},disabled:{type:Boolean,default:!1},disabledPlus:{type:Boolean,default:!1},disabledMinus:{type:Boolean,default:!1},disabledInput:{type:Boolean,default:!1},showPlus:{type:Boolean,default:!0},showMinus:{type:Boolean,default:!0},showInput:{type:Boolean,default:!0},inputWidth:{type:String,default:null},active:{type:Boolean,default:!0},inputAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},border:{type:Boolean,default:!1}},computed:{arrivalMin(){return null!=this.min&&this.realValue<=this.min},arrivalMax(){return null!=this.max&&this.realValue>=this.max},inputStyle(){let e={};return this.inputWidth&&(e.width=this.inputWidth),e},inputElStyle(){let e={};return this.inputAlign&&(e.textAlign=this.inputAlign),e},minusClass(){let e=["mvi-stepper-minus"];return this.disabledMinus||this.arrivalMin||this.disabled||!this.active||e.push("active"),this.border&&e.push("border"),e},plusClass(){let e=["mvi-stepper-plus"];return this.disabledPlus||this.arrivalMax||this.disabled||!this.active||e.push("active"),this.border&&e.push("border"),e},realValue:{set(e){let t=this.updateValue(e);this.modelValue!==t&&(this.$emit("update:modelValue",t),this.$emit("change",t))},get(){return this.modelValue}}},components:{Icon:T},methods:{doMinus(){this.disabled||this.disabledMinus||this.arrivalMin||(this.realValue=u.number.subtract(this.realValue,this.step))},doPlus(){this.disabled||this.disabledPlus||this.arrivalMax||(this.realValue=u.number.add(this.realValue,this.step))},changeValue(){this.disabled||this.disabledInput||(this.$refs.input.value=this.realValue)},updateValue(e){let t=parseFloat(e);return isNaN(t)&&(t=0),t=Number(t.toFixed(this.digit)),t<=this.min&&null!=this.min&&(t=this.min),t>=this.max&&null!=this.max&&(t=this.max),t}}},Xt=["disabled"],Ut=["disabled"],Kt=["disabled"],Gt=["disabled"];const Zt=S(qt,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-stepper",s.size])},[s.showMinus?(t.openBlock(),t.createElementBlock("div",{key:0,disabled:s.disabledMinus||l.arrivalMin||s.disabled||null,class:t.normalizeClass(l.minusClass),onClick:i[0]||(i[0]=(...e)=>l.doMinus&&l.doMinus(...e))},[t.createVNode(r,{type:"minus"})],10,Xt)):t.createCommentVNode("",!0),s.showInput?(t.openBlock(),t.createElementBlock("div",{key:1,disabled:s.disabled||s.disabledInput||null,class:t.normalizeClass(["mvi-stepper-input",s.border?"border":""]),style:t.normalizeStyle(l.inputStyle)},[t.withDirectives(t.createElementVNode("input",{ref:"input","onUpdate:modelValue":i[1]||(i[1]=e=>l.realValue=e),disabled:s.disabled||s.disabledInput||null,type:"text",onBlur:i[2]||(i[2]=(...e)=>l.changeValue&&l.changeValue(...e)),onKeyup:i[3]||(i[3]=t.withKeys(((...e)=>l.changeValue&&l.changeValue(...e)),["enter"])),style:t.normalizeStyle(l.inputElStyle),inputmode:"numeric"},null,44,Kt),[[t.vModelText,l.realValue]])],14,Ut)):t.createCommentVNode("",!0),s.showPlus?(t.openBlock(),t.createElementBlock("div",{key:2,disabled:s.disabledPlus||l.arrivalMax||s.disabled||null,class:t.normalizeClass(l.plusClass),onClick:i[4]||(i[4]=(...e)=>l.doPlus&&l.doPlus(...e))},[t.createVNode(r,{type:"plus"})],10,Gt)):t.createCommentVNode("",!0)],2)}],["__scopeId","data-v-d4efe9c9"]]);Zt.install=e=>{e.component(Zt.name,Zt)};const Jt={name:"m-switch",emits:["update:modelValue","change"],props:{modelValue:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:String,default:"0.4rem"},activeColor:{type:String,default:null},inactiveColor:{type:String,default:null}},components:{Icon:T},methods:{change(e){let t=e.target.checked;this.$emit("update:modelValue",t),this.$emit("change",t)}},computed:{switchStyle(){let e={};return this.inactiveColor&&!this.modelValue&&(e.backgroundColor=this.inactiveColor),this.activeColor&&this.modelValue&&(e.backgroundColor=this.activeColor),this.size&&(e.width=`calc(${this.size} * 2)`),e},elStyle(){let e={};return this.activeColor&&(e.color=this.activeColor),this.size&&(e.width=this.size,e.height=this.size,e.fontSize=this.size),e}}},Qt=["disabled"],ei=["checked","disabled"];const ti=S(Jt,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("label",{class:t.normalizeClass(["mvi-switch",s.modelValue?"checked":""]),style:t.normalizeStyle(l.switchStyle),disabled:s.disabled||null},[t.createElementVNode("span",{class:t.normalizeClass(["mvi-switch-el",s.modelValue?"checked":""]),style:t.normalizeStyle(l.elStyle)},[s.loading&&!s.disabled?(t.openBlock(),t.createBlock(r,{key:0,type:"load-e",spin:"",size:"0.8em"})):t.createCommentVNode("",!0)],6),t.createElementVNode("input",{onChange:i[0]||(i[0]=(...e)=>l.change&&l.change(...e)),type:"checkbox",checked:s.modelValue,disabled:s.disabled||s.loading},null,40,ei)],14,Qt)}],["__scopeId","data-v-836d8024"]]);ti.install=e=>{e.component(ti.name,ti)};const ii={name:"m-actionsheet",emits:["update:modelValue","select"],props:{modelValue:{type:Boolean,default:!1},overlayColor:{type:String,default:null},zIndex:{type:Number,default:900},timeout:{type:Number,default:200},round:{type:Boolean,default:!1},title:{type:String,default:null},closable:{type:Boolean,default:!1},options:{type:Array,default:function(){return[]}},showCancel:{type:Boolean,default:!0},cancelText:{type:String,default:"取消"},active:{type:Boolean,default:!0},mountEl:{type:String,default:null},selectClose:{type:Boolean,default:!0},usePadding:{type:Boolean,default:!1},size:{type:String,default:"medium",validator:e=>["medium","large"].includes(e)}},computed:{$$el(){return this.$refs.popup.$$el},show:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},itemClass(){return e=>{let t=["mvi-actionsheet-item",this.size];return!this.active||e.loading||e.disabled||t.push("active"),t}},itemDisabled:()=>e=>"boolean"==typeof e.disabled&&e.disabled},components:{Icon:T,Loading:Ee,Popup:ae},methods:{doSelect(e,t){e.disabled||e.loading||(this.selectClose&&(this.show=!1),this.$emit("select",{...e},t))}}},si={class:"mvi-actionsheet"},oi=["textContent"],ni={class:"mvi-actionsheet-list"},li=["disabled","onClick"],ri={key:1,class:"mvi-actionsheet-content"},ai=["textContent"],hi=(e=>(t.pushScopeId("data-v-9262c92f"),e=e(),t.popScopeId(),e))((()=>t.createElementVNode("div",{class:"mvi-actionsheet-divider"},null,-1))),ci=["textContent"];const di=S(ii,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Loading"),a=t.resolveComponent("Icon"),h=t.resolveComponent("Popup");return t.openBlock(),t.createBlock(h,{ref:"popup",modelValue:l.show,"onUpdate:modelValue":i[1]||(i[1]=e=>l.show=e),"overlay-color":s.overlayColor,"z-index":s.zIndex,timeout:s.timeout,placement:"bottom",round:s.round,"use-padding":s.usePadding,"mount-el":s.mountEl,closable:s.closable},{default:t.withCtx((()=>[t.createElementVNode("div",si,[s.title?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["mvi-actionsheet-title",s.size]),textContent:t.toDisplayString(s.title)},null,10,oi)):t.createCommentVNode("",!0),t.createElementVNode("div",ni,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(s.options,((e,i)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(l.itemClass(e)),disabled:l.itemDisabled(e)||null,onClick:t=>l.doSelect(e,i)},[e.loading?(t.openBlock(),t.createBlock(r,{key:0,size:"large"==s.size?"0.4rem":"0.36rem",color:"#bbb"},null,8,["size"])):e.label||l.parseIcon(e.icon).type||l.parseIcon(e.icon).url?(t.openBlock(),t.createElementBlock("div",ri,[(l.parseIcon(e.icon).type||l.parseIcon(e.icon).url)&&"right"!=e.placement?(t.openBlock(),t.createBlock(a,{key:0,"data-placement":"left",type:l.parseIcon(e.icon).type,url:l.parseIcon(e.icon).url,spin:l.parseIcon(e.icon).spin,size:l.parseIcon(e.icon).size,color:l.parseIcon(e.icon).color},null,8,["type","url","spin","size","color"])):t.createCommentVNode("",!0),e.label?(t.openBlock(),t.createElementBlock("span",{key:1,class:"mvi-actionsheet-item-label",textContent:t.toDisplayString(e.label)},null,8,ai)):t.createCommentVNode("",!0),(l.parseIcon(e.icon).type||l.parseIcon(e.icon).url)&&"right"==e.placement?(t.openBlock(),t.createBlock(a,{key:2,"data-placement":"right",type:l.parseIcon(e.icon).type,url:l.parseIcon(e.icon).url,spin:l.parseIcon(e.icon).spin,size:l.parseIcon(e.icon).size,color:l.parseIcon(e.icon).color},null,8,["type","url","spin","size","color"])):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0)],10,li)))),256))]),hi,s.showCancel?(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(["mvi-actionsheet-button",s.size,s.active?"active":""]),textContent:t.toDisplayString(s.cancelText),onClick:i[0]||(i[0]=e=>l.show=!1)},null,10,ci)):t.createCommentVNode("",!0)])])),_:1},8,["modelValue","overlay-color","z-index","timeout","round","use-padding","mount-el","closable"])}],["__scopeId","data-v-9262c92f"]]);di.install=e=>{e.component(di.name,di)};const mi={name:"m-dropdown",emits:["update:modelValue","update:show","select"],props:{modelValue:{type:[Object,Number,String,Array],default:null},activeColor:{type:String,default:null},options:{type:Array,default:function(){return[]}},selectedClose:{type:Boolean,default:!0},selectedIcon:{type:[String,Object],default:"success"},show:{type:Boolean,default:!1},overlayColor:{type:String,default:null},zIndex:{type:Number,default:900},timeout:{type:Number,default:200},round:{type:Boolean,default:!1},placement:{type:String,default:"top"},closable:{type:Boolean,default:!0},mountEl:{type:String,default:null},active:{type:Boolean,default:!0},usePadding:{type:Boolean,default:!1}},computed:{$$el(){return this.$refs.popup.$$el},cmpShow:{set(e){this.$emit("update:show",e)},get(){return this.show}},parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},equalValue(){return(e,t)=>void 0===e.value||null===e.value?this.modelValue===t:u.common.equal(this.modelValue,e.value)},itemDisabled:()=>e=>"boolean"==typeof e.disabled&&e.disabled,dropdownItemStyle(){return(e,t)=>{let i={};return!this.itemDisabled(e)&&this.equalValue(e,t)&&this.activeColor&&(i.color=this.activeColor),i}},dropdownItemClass(){return(e,t)=>{let i=["mvi-dropdown-item"];return this.equalValue(e,t)&&!e.disabled&&i.push("checked"),this.active&&!e.disabled&&i.push("active"),i}}},components:{Icon:T,Popup:ae},methods:{doSelect(e,t){e.disabled||(this.$emit("select",JSON.parse(JSON.stringify(e)),t),u.common.equal(e.value,this.modelValue)||this.$emit("update:modelValue",e.value),this.selectedClose&&(this.cmpShow=!1))}}},ui={class:"mvi-dropdown"},pi=["disabled","onClick"],fi={class:"mvi-dropdown-label"},gi=["textContent"],yi=["data-placement"];const bi=S(mi,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon"),a=t.resolveComponent("Popup");return t.openBlock(),t.createBlock(a,{ref:"popup",modelValue:l.cmpShow,"onUpdate:modelValue":i[0]||(i[0]=e=>l.cmpShow=e),"overlay-color":s.overlayColor,"z-index":s.zIndex,timeout:s.timeout,placement:s.placement,round:s.round,"use-padding":s.usePadding,"mount-el":s.mountEl,closable:s.closable,__contentPadding:!1},{default:t.withCtx((()=>[t.createElementVNode("div",ui,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(s.options,((e,i)=>(t.openBlock(),t.createElementBlock("div",{disabled:l.itemDisabled(e)||null,class:t.normalizeClass(l.dropdownItemClass(e,i)),onClick:t=>l.doSelect(e,i),style:t.normalizeStyle(l.dropdownItemStyle(e,i))},[t.createElementVNode("div",fi,[e.icon?(t.openBlock(),t.createBlock(r,{key:0,type:l.parseIcon(e.icon).type,url:l.parseIcon(e.icon).url,spin:l.parseIcon(e.icon).spin,class:"mvi-dropdown-label-icon",size:l.parseIcon(e.icon).size,color:l.parseIcon(e.icon).color},null,8,["type","url","spin","size","color"])):t.createCommentVNode("",!0),t.createElementVNode("span",{class:"mvi-dropdown-label-text",textContent:t.toDisplayString(e.label||"")},null,8,gi)]),t.createElementVNode("div",{class:t.normalizeClass(["mvi-dropdown-icon",l.equalValue(e,i)?"checked":""]),"data-placement":s.placement},[t.createVNode(r,{type:l.parseIcon(s.selectedIcon).type,url:l.parseIcon(s.selectedIcon).url,spin:l.parseIcon(s.selectedIcon).spin,size:l.parseIcon(s.selectedIcon).size,color:l.parseIcon(s.selectedIcon).color},null,8,["type","url","spin","size","color"])],10,yi)],14,pi)))),256))])])),_:1},8,["modelValue","overlay-color","z-index","timeout","placement","round","use-padding","mount-el","closable"])}],["__scopeId","data-v-d29335df"]]);bi.install=e=>{e.component(bi.name,bi)};const vi={class:"mvi-notify-content"},ki=["textContent"];const wi=S({name:"m-notify",data:()=>({timer:null,show:!1}),props:{type:{type:String,default:null},message:{type:String,default:null},color:{type:String,default:null},background:{type:String,default:null},zIndex:{type:Number,default:null},timeout:{type:Number,default:null},icon:{type:[String,Object],default:null},__remove:{type:Function,default:function(){return function(){}}},__init:{type:Function,default:function(){return function(){}}}},computed:{cmpType(){return["success","info","primary","error","warn"].includes(this.type)?this.type:"success"},cmpMessage(){return"string"==typeof this.message?this.message:u.common.isObject(this.message)?JSON.stringify(this.message):String(this.message)},cmpColor(){return"string"==typeof this.color?this.color:null},cmpBackground(){return"string"==typeof this.background?this.background:null},cmpZIndex(){return u.number.isNumber(this.zIndex)?this.zIndex:1100},cmpTimeout(){return u.number.isNumber(this.timeout)?this.timeout:1500},parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},notifyStyle(){let e={zIndex:this.cmpZIndex};return this.cmpBackground&&(e.backgroundColor=this.cmpBackground),this.cmpColor&&(e.color=this.cmpColor),e}},components:{Icon:T},mounted(){this.show=!0,this.__init(this)},methods:{afterEnter(){this.cmpTimeout>0&&(this.timer=setTimeout((()=>{this.show=!1}),this.cmpTimeout))},afterLeave(){this.clearTimer(),this.__remove()},clearTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}}},[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon");return t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[t.createVNode(t.Transition,{name:"mvi-notify",onAfterLeave:l.afterLeave,onAfterEnter:l.afterEnter},{default:t.withCtx((()=>[t.withDirectives(t.createElementVNode("div",{class:t.normalizeClass(["mvi-notify",l.cmpType]),style:t.normalizeStyle(l.notifyStyle)},[t.createElementVNode("div",vi,[l.parseIcon(s.icon).type||l.parseIcon(s.icon).url?(t.openBlock(),t.createBlock(r,{key:0,type:l.parseIcon(s.icon).type,url:l.parseIcon(s.icon).url,spin:l.parseIcon(s.icon).spin,size:l.parseIcon(s.icon).size,color:l.parseIcon(s.icon).color},null,8,["type","url","spin","size","color"])):t.createCommentVNode("",!0),t.createElementVNode("span",{textContent:t.toDisplayString(l.cmpMessage)},null,8,ki)])],6),[[t.vShow,n.show]])])),_:1},8,["onAfterLeave","onAfterEnter"])])}],["__scopeId","data-v-80ba439a"]]),Ci={initParams:e=>{let t={};return u.common.isObject(e)?(t.type=e.type,t.message=e.message,t.timeout=e.timeout,t.background=e.background,t.color=e.color,t.zIndex=e.zIndex,t.icon=e.icon):t.message=e,t},showNotify:e=>new Promise((i=>{Ci.$el&&Ci.$instance&&(Ci.$instance.unmount(),Ci.$el.remove());let s=Ci.initParams(e),o=u.element.string2dom("<div></div>");document.body.appendChild(o);const n=t.createApp(wi,{...s,__init:e=>{Ci.$vm=e},__remove:()=>{n.unmount(),o.remove(),i()}});n.mount(o),Ci.$el=o,Ci.$instance=n})),hideNotify:()=>{Ci.$vm&&(Ci.$vm.show=!1)},install:e=>{e.config.globalProperties.$showNotify=Ci.showNotify,e.provide("$showNotify",Ci.showNotify),e.config.globalProperties.$hideNotify=Ci.hideNotify,e.provide("$hideNotify",Ci.hideNotify)}},Ei={name:"m-pull-refresh",data:()=>({elHeight:0,rootHeight:0,amount:0,amountMax:4,startY:0,firstStartY:0,status:0,translateY:0,hasTouch:!1,mouseDown:!1,disableScroll:!1}),emits:["update:modelValue","refresh"],props:{pullingText:{type:String,default:"下拉刷新"},loosingText:{type:String,default:"释放刷新"},loadingText:{type:String,default:"正在刷新"},modelValue:{type:Boolean,default:!1},pullingIcon:{type:[String,Object],default:"arrow-down"},loosingIcon:{type:[String,Object],default:"arrow-up"},loadingIcon:{type:[String,Object],default:function(){return{type:"load-e",spin:!0}}},disabled:{type:Boolean,default:!1},distance:{type:Number,default:1.4}},computed:{containerStyle(){return{height:`calc(100% + ${this.elHeight}px)`,transform:`translateY(${this.translateY}px)`}},wrapperStyle(){let e={height:this.rootHeight+"px"};return this.disableScroll&&(e.overflowY="hidden"),e},icon(){return 0==this.status?this.parseIcon(this.pullingIcon):1==this.status?this.parseIcon(this.loosingIcon):2==this.status?this.parseIcon(this.loadingIcon):void 0},message(){return 0==this.status?this.pullingText:1==this.status?this.loosingText:2==this.status?this.loadingText:void 0},parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t}},components:{Icon:T},setup:()=>({uid:t.getCurrentInstance().uid}),mounted(){this.initHeight(),u.event.on(document.documentElement,`mousemove.pullRefresh_${this.uid}`,this.onPull2),u.event.on(document.documentElement,`mouseup.pullRefresh_${this.uid}`,this.pulled2)},watch:{modelValue(){this.changeStatus()}},methods:{initHeight(){this.elHeight=this.$refs.el.offsetHeight,this.rootHeight=this.$el.offsetHeight,this.translateY=-this.elHeight},startPull(e){this.disabled||0==this.status&&(this.startY=e.targetTouches[0].pageY,this.firstStartY=this.startY)},startPull2(e){this.disabled||0==this.status&&(this.mouseDown=!0,this.startY=e.pageY,this.firstStartY=this.startY)},onPull(e){if(this.disabled)return;if(2==this.status)return;let t=e.targetTouches[0].pageY,i=t-this.startY,s=t-this.firstStartY;if(this.startY=t,s<=0)return void(this.firstStartY=this.startY);if(u.element.getScrollTop(this.$refs.wrapper)>0)return void(this.firstStartY=this.startY);let o=this.getScrollEl(e.target);if(!o.isEqualNode(this.$refs.wrapper)&&u.element.getScrollTop(o)>0)return void(this.firstStartY=this.startY);this.hasTouch=!0,e.cancelable&&e.preventDefault(),this.amount<this.amountMax&&this.amount++;let n=this.translateY+i/this.amount;n>u.element.rem2px(this.distance)-this.elHeight?this.status=1:this.status=0,this.translateY=n},onPull2(e){if(!this.mouseDown||this.disabled)return;if(2==this.status)return;let t=e.pageY,i=t-this.startY,s=t-this.firstStartY;if(this.startY=t,s<=0)return void(this.firstStartY=this.startY);if(u.element.getScrollTop(this.$refs.wrapper)>0)return void(this.firstStartY=this.startY);let o=this.getScrollEl(e.target);if(!o.isEqualNode(this.$refs.wrapper)&&u.element.getScrollTop(o)>0)return void(this.firstStartY=this.startY);this.hasTouch=!0,e.cancelable&&e.preventDefault(),this.amount<this.amountMax&&this.amount++;let n=this.translateY+i/this.amount;n>u.element.rem2px(this.distance)-this.elHeight?this.status=1:this.status=0,this.translateY=n},pulled(){this.disabled||(1==this.status&&0==this.modelValue?this.$emit("update:modelValue",!0):0==this.status&&this.changeStatus())},pulled2(){this.mouseDown&&!this.disabled&&(this.mouseDown=!1,1==this.status&&!1===this.modelValue?this.$emit("update:modelValue",!0):0==this.status&&this.changeStatus())},changeStatus(){this.disabled||(this.modelValue?(this.status=2,this.disableScroll=!0,this.$emit("refresh"),this.hasTouch||(this.$refs.container.style.transition="transform 300ms",this.$refs.container.style.webkitTransition="transform 300ms",this.$refs.container.offsetWidth,this.translateY=u.element.rem2px(this.distance)-this.elHeight,setTimeout((()=>{this.$refs.container&&(this.$refs.container.style.transition="",this.$refs.container.style.webkitTransition="")}),300))):(this.amount=0,this.hasTouch=!1,this.$refs.container.style.transition="transform 300ms",this.$refs.container.style.webkitTransition="transform 300ms",this.$refs.container.offsetWidth,this.translateY=-this.elHeight,setTimeout((()=>{this.$refs.container&&(this.$refs.container.style.transition="",this.$refs.container.style.webkitTransition=""),this.status=0,this.disableScroll=!1}),300)))},getScrollEl(e){return e.isEqualNode(this.$refs.wrapper)||!u.element.isContains(this.$refs.wrapper,e)?this.$refs.wrapper:u.element.getScrollHeight(e)>e.clientHeight?e:this.getScrollEl(e.parentNode)}},beforeUnmount(){u.event.off(document.documentElement,`mousemove.pullRefresh_${this.uid} mouseup.pullRefresh_${this.uid}`)}},xi={class:"mvi-pull-refresh"},$i={ref:"el",class:"mvi-pull-refresh-el"},Si=["textContent"];const Ti=S(Ei,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",xi,[t.createElementVNode("div",{ref:"container",class:"mvi-pull-refresh-container",style:t.normalizeStyle(l.containerStyle)},[t.createElementVNode("div",$i,[e.$slots.el?t.renderSlot(e.$slots,"el",{key:0,status:n.status},void 0,!0):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.createVNode(r,{type:l.icon.type,spin:l.icon.spin,url:l.icon.url,size:l.icon.size,color:l.icon.color},null,8,["type","spin","url","size","color"]),t.createElementVNode("span",{class:"mvi-pull-refresh-text",textContent:t.toDisplayString(l.message)},null,8,Si)],64))],512),t.createElementVNode("div",{ref:"wrapper",class:"mvi-pull-refresh-wrapper",onTouchstart:i[0]||(i[0]=(...e)=>l.startPull&&l.startPull(...e)),onTouchmove:i[1]||(i[1]=(...e)=>l.onPull&&l.onPull(...e)),onTouchend:i[2]||(i[2]=(...e)=>l.pulled&&l.pulled(...e)),onMousedown:i[3]||(i[3]=(...e)=>l.startPull2&&l.startPull2(...e)),style:t.normalizeStyle(l.wrapperStyle)},[t.renderSlot(e.$slots,"default",{},void 0,!0)],36)],4)])}],["__scopeId","data-v-56b35aa0"]]);Ti.install=e=>{e.component(Ti.name,Ti)};const Bi={name:"m-swipe-cell",data:()=>({startX:0,startX2:0,transformX:0,leftShow:!1,rightShow:!1,amounts:0,mouseDown:!1,isDrag:!1}),props:{disabled:{type:Boolean,default:!1},centerClose:{type:Boolean,default:!0}},emits:["open","close"],watch:{disabled(){this.close(!0)}},computed:{cellStyle(){return{transform:`translateX(${this.transformX}px)`}}},setup:()=>({uid:t.getCurrentInstance().uid}),mounted(){u.event.on(document.documentElement,`mousemove.swipeCell_${this.uid}`,this.cellMouseMove),u.event.on(document.documentElement,`mouseup.swipeCell_${this.uid}`,this.cellMouseUp)},methods:{cellTouchStart(e){this.disabled||(this.startX=e.touches[0].pageX,this.startX2=this.startX,this.amounts=0)},cellTouchMove(e){if(this.disabled)return;let t=e.touches[0].pageX,i=t-this.startX,s=t-this.startX2;if(this.startX=t,!(Math.abs(s)<=u.element.rem2px(1)))if(e.cancelable&&e.preventDefault(),s>0){if(this.leftShow&&this.transformX==this.$refs.left.offsetWidth)return;this.leftShow=!0,this.$nextTick((()=>{this.transformX>=this.$refs.left.offsetWidth?(this.amounts+=8,this.transformX+=i/this.amounts):this.transformX+=i}))}else if(s<0){if(this.rightShow&&this.transformX==-this.$refs.right.offsetWidth)return;this.rightShow=!0,this.$nextTick((()=>{this.transformX<=-this.$refs.right.offsetWidth?(this.amounts+=8,this.transformX+=i/this.amounts):this.transformX+=i}))}},cellTouchEnd(e){if(this.disabled)return;let t=e.changedTouches[0].pageX-this.startX2;0!=t&&(t>0?this.transformX>0?this.open("left"):this.close():this.transformX<0?this.open("right"):this.close())},cellMouseDown(e){this.disabled||(this.startX=e.pageX,this.startX2=this.startX,this.amounts=0,this.mouseDown=!0)},cellMouseMove(e){if(this.disabled)return;if(!this.mouseDown)return;this.isDrag=!0;let t=e.pageX,i=t-this.startX,s=t-this.startX2;if(this.startX=t,!(Math.abs(s)<=u.element.rem2px(1)))if(e.cancelable&&e.preventDefault(),s>0){if(this.leftShow&&this.transformX==this.$refs.left.offsetWidth)return;this.leftShow=!0,this.$nextTick((()=>{this.transformX>=this.$refs.left.offsetWidth?(this.amounts+=3,this.transformX+=i/this.amounts):this.transformX+=i}))}else if(s<0){if(this.rightShow&&this.transformX==-this.$refs.right.offsetWidth)return;this.rightShow=!0,this.$nextTick((()=>{this.transformX<=-this.$refs.right.offsetWidth?(this.amounts+=3,this.transformX+=i/this.amounts):this.transformX+=i}))}},cellMouseUp(e){if(this.disabled)return;if(!this.mouseDown)return;this.mouseDown=!1;let t=e.pageX-this.startX2;0!=t&&(t>0?this.transformX>0?this.open("left"):this.close():this.transformX<0?this.open("right"):this.close(),setTimeout((()=>{this.isDrag=!1}),10))},setTransform(e){return new Promise(((t,i)=>{this.$el.style.transition="transform 300ms",this.$el.style.webkitTransition="transform 300ms",setTimeout((()=>{this.transformX=e,setTimeout((()=>{this.$el.style.transition="",this.$el.style.webkitTransition="",t()}),300)}),0)}))},open(e){this.disabled||("left"==e?(this.leftShow||(this.leftShow=!0),this.$nextTick((()=>{this.setTransform(this.$refs.left.offsetWidth).then((()=>{this.$emit("open",e)}))}))):"right"==e&&(this.rightShow||(this.rightShow=!0),this.$nextTick((()=>{this.setTransform(-this.$refs.right.offsetWidth).then((()=>{this.$emit("open",e)}))}))))},close(e){if(!e&&this.disabled)return;let t="left";0!=this.transformX&&(t=this.transformX>=0?"left":"right",this.setTransform(0).then((()=>{this.leftShow=!1,this.rightShow=!1,this.$emit("close",t)})))},clickCenter(){this.disabled||this.isDrag||this.centerClose&&this.close()}},beforeUnmount(){u.event.off(document.documentElement,`mousemove.swipeCell_${this.uid} mouseup.swipeCell_${this.uid}`)}},Ii=["disabled"],Pi={ref:"left",class:"mvi-swipe-cell-left"},Vi={ref:"right",class:"mvi-swipe-cell-right"};const zi=S(Bi,[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createElementBlock("div",{class:"mvi-swipe-cell",onTouchstart:i[1]||(i[1]=(...e)=>l.cellTouchStart&&l.cellTouchStart(...e)),onTouchmove:i[2]||(i[2]=(...e)=>l.cellTouchMove&&l.cellTouchMove(...e)),onTouchend:i[3]||(i[3]=(...e)=>l.cellTouchEnd&&l.cellTouchEnd(...e)),style:t.normalizeStyle(l.cellStyle),disabled:s.disabled||null,onMousedown:i[4]||(i[4]=(...e)=>l.cellMouseDown&&l.cellMouseDown(...e))},[t.withDirectives(t.createElementVNode("div",Pi,[t.renderSlot(e.$slots,"left",{},void 0,!0)],512),[[t.vShow,n.leftShow]]),t.createElementVNode("div",{ref:"center",class:"mvi-swipe-cell-center",onClick:i[0]||(i[0]=(...e)=>l.clickCenter&&l.clickCenter(...e))},[t.renderSlot(e.$slots,"default",{},void 0,!0)],512),t.withDirectives(t.createElementVNode("div",Vi,[t.renderSlot(e.$slots,"right",{},void 0,!0)],512),[[t.vShow,n.rightShow]])],44,Ii)}],["__scopeId","data-v-1e12e6ca"]]);zi.install=e=>{e.component(zi.name,zi)};const Ni={name:"m-circle-progress",data:()=>({pathSize:1e3}),props:{value:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},size:{type:Number,default:2},color:{type:String,default:null},trackColor:{type:String,default:null},fill:{type:String,default:null},animation:{type:Boolean,default:!0},timeout:{type:Number,default:400},showTip:{type:Boolean,default:!1},tipText:{type:String,default:null},strokeWidth:{type:Number,default:.2},round:{type:Boolean,default:!1},clockWise:{type:Boolean,default:!0}},computed:{progressStyle(){let e={};return this.size&&(e.width=this.size+"rem",e.height=this.size+"rem"),e},viewBox(){let e=u.element.rem2px(this.strokeWidth);return`0 0 ${this.pathSize+2*e} ${this.pathSize+2*e}`},pathD(){let e=u.element.rem2px(this.strokeWidth);return`M ${this.pathSize/2+e} ${this.pathSize/2+e} m 0, -${this.pathSize/2} a ${this.pathSize/2}, ${this.pathSize/2} 0 1, ${this.clockWise?1:0} 0, ${this.pathSize} a ${this.pathSize/2}, ${this.pathSize/2} 0 1, ${this.clockWise?1:0} 0, -${this.pathSize}`},cmpValue(){if(this.tipText)return this.tipText;{let e=this.value>this.max?this.max:this.value<this.min?this.min:this.value;return Math.round((e-this.min)/(this.max-this.min)*100)+"%"}},barStyle(){let e={};this.fill&&(e.fill=this.fill),this.color&&(e.stroke=this.color),u.number.isNumber(this.strokeWidth)&&(e.strokeWidth=this.strokeWidth+"rem"),this.round&&(e.strokeLinecap="round"),this.animation&&(e.transition="stroke-dasharray "+this.timeout+"ms",e.webkitTransition="stroke-dasharray "+this.timeout+"ms");let t=Number((this.pathSize*Math.PI).toFixed(2)),i=this.value>this.max?this.max:this.value<this.min?this.min:this.value,s=Number(((i-this.min)/(this.max-this.min)*t).toFixed(2));return e.strokeDasharray=s+","+(t-s),e},trackStyle(){let e={};return this.fill&&(e.fill=this.fill),this.trackColor&&(e.stroke=this.trackColor),u.number.isNumber(this.strokeWidth)&&(e.strokeWidth=this.strokeWidth+"rem"),e}}},_i=["viewBox"],Di=["d"],Ri=["d"],Ai={key:0,class:"mvi-circle-progress-tip"},Oi=["textContent"];const Li=S(Ni,[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createElementBlock("div",{class:"mvi-circle-progress",style:t.normalizeStyle(l.progressStyle)},[(t.openBlock(),t.createElementBlock("svg",{viewBox:l.viewBox},[t.createElementVNode("path",{d:l.pathD,style:t.normalizeStyle(l.trackStyle),class:"mvi-circle-progress-track"},null,12,Di),t.createElementVNode("path",{d:l.pathD,style:t.normalizeStyle(l.barStyle),class:"mvi-circle-progress-bar"},null,12,Ri)],8,_i)),s.showTip?(t.openBlock(),t.createElementBlock("div",Ai,[e.$slots.tip?t.renderSlot(e.$slots,"tip",{key:0,value:s.value},void 0,!0):(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(l.cmpValue)},null,8,Oi))])):t.createCommentVNode("",!0)],4)}],["__scopeId","data-v-e78a42ce"]]);Li.install=e=>{e.component(Li.name,Li)};const Mi={name:"m-collapse",data:()=>({children:[]}),emits:["update:modelValue","before-slide-down","slide-down","before-slide-up","slide-up"],props:{modelValue:{type:[Number,Array],default:null},accordion:{type:Boolean,default:!1},inBorder:{type:Boolean,default:!0},outBorder:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},active:{type:Boolean,default:!0},noWrap:{type:Boolean,default:!1}},provide(){return{collapse:this}}},Wi={class:"mvi-collapse"};const Hi=S(Mi,[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createElementBlock("div",Wi,[t.renderSlot(e.$slots,"default",{},void 0,!0)])}],["__scopeId","data-v-b47c5bd1"]]);Hi.install=e=>{e.component(Hi.name,Hi)};const Fi=S({name:"m-transition-slide",data:()=>({show:!0,height:null,useAnimation:!1,opacity:0}),emits:["before-slide-down","slide-down","before-slide-up","slide-up"],props:{expand:{type:Boolean,default:!0},timeout:{type:Number,default:200}},watch:{expand(e){this.show=e}},mounted(){this.show=this.expand,this.show&&(this.useAnimation=!0,this.opacity="")},methods:{beforeEnter(e){e.style.height=0,e.style.transition="height "+this.timeout+"ms linear",e.style.webkitTransition="height "+this.timeout+"ms linear",this.$emit("before-slide-down",this.$el)},enter(e){e.offsetWidth,e.style.height=this.height},afterEnter(e){e.style.transition="",e.style.webkitTransition="",e.style.height="",this.$emit("slide-down",this.$el)},beforeLeave(e){this.height||(this.height=u.element.getCssStyle(e,"height")),e.style.height=this.height,this.useAnimation&&(e.style.transition="height "+this.timeout+"ms linear",e.style.webkitTransition="height "+this.timeout+"ms linear",this.$emit("before-slide-up",this.$el))},leave(e){e.offsetWidth,e.style.height=0},afterLeave(e){e.style.height="",this.useAnimation?(e.style.transition="",e.style.webkitTransition="",this.$emit("slide-up",this.$el)):(this.useAnimation=!0,this.opacity="")}}},[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createBlock(t.Transition,{name:"mvi-transition-slide",onBeforeEnter:l.beforeEnter,onAfterEnter:l.afterEnter,onBeforeLeave:l.beforeLeave,onAfterLeave:l.afterLeave,onEnter:l.enter,onLeave:l.leave},{default:t.withCtx((()=>[t.withDirectives(t.createElementVNode("div",{class:"mvi-transition-slide",style:t.normalizeStyle({opacity:n.opacity})},[t.renderSlot(e.$slots,"default",{},void 0,!0)],4),[[t.vShow,n.show]])])),_:3},8,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave","onEnter","onLeave"])}],["__scopeId","data-v-446676c7"]]);Fi.install=e=>{e.component(Fi.name,Fi)};const ji={name:"m-collapse-item",inject:["collapse"],props:{icon:{type:[String,Object],default:null},title:{type:String,default:null},label:{type:String,default:null},disabled:{type:Boolean,default:!1},content:{type:String,default:""}},components:{Cell:R,TransitionSlide:Fi},setup:()=>({uid:t.getCurrentInstance().uid}),computed:{index(){return this.collapse.children.findIndex((e=>u.common.equal(e.uid,this.uid)))},cmpActive(){return!this.cmpDisabled&&this.collapse.active},expand(){let e=!1;return this.collapse.accordion||u.number.isNumber(this.collapse.modelValue)?this.collapse.modelValue===this.index&&(e=!0):Array.isArray(this.collapse.modelValue)&&this.collapse.modelValue.includes(this.index)&&(e=!0),e},cmpDisabled(){return this.collapse.disabled||this.disabled},isLast(){return this.collapse.children.length==this.index+1}},created(){this.collapse.children.push(this)},methods:{beforeSlideDown(){this.collapse.$emit("before-slide-down",this.index)},slideDown(){this.collapse.$emit("slide-down",this.index)},beforeSlideUp(){this.collapse.$emit("before-slide-up",this.index)},slideUp(){this.collapse.$emit("slide-up",this.index)},changeCollapse(){if(this.cmpDisabled)return!1;if(this.collapse.accordion)this.collapse.modelValue==this.index?this.collapse.$emit("update:modelValue",null):this.collapse.$emit("update:modelValue",this.index);else if(u.number.isNumber(this.collapse.modelValue))this.collapse.modelValue==this.index?this.collapse.$emit("update:modelValue",[]):this.collapse.$emit("update:modelValue",[this.collapse.modelValue,this.index]);else if(Array.isArray(this.collapse.modelValue)){let e=[...this.collapse.modelValue];e.includes(this.index)?(e=e.filter((e=>e!=this.index)),this.collapse.$emit("update:modelValue",e)):(e.push(this.index),this.collapse.$emit("update:modelValue",e))}else{let e=[];e.push(this.index),this.collapse.$emit("update:modelValue",e)}}}},Yi=["disabled"],qi={class:"mvi-collapse-content"},Xi=["textContent"];const Ui=S(ji,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Cell"),a=t.resolveComponent("TransitionSlide");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-collapse-item",l.collapse.outBorder?"border":""]),disabled:l.cmpDisabled||null},[t.createVNode(r,{class:t.normalizeClass(["mvi-collapse-cell",l.expand?"expand":""]),icon:s.icon,content:s.label,title:s.title,border:l.collapse.inBorder,arrow:"angle-right",onClick:l.changeCollapse,active:l.cmpActive,"no-wrap":l.collapse.noWrap},null,8,["class","icon","content","title","border","onClick","active","no-wrap"]),t.createVNode(a,{expand:l.expand,timeout:200,onBeforeSlideUp:l.beforeSlideUp,onSlideUp:l.slideUp,onBeforeSlideDown:l.beforeSlideDown,onSlideDown:l.slideDown},{default:t.withCtx((()=>[t.createElementVNode("div",qi,[e.$slots.default?t.renderSlot(e.$slots,"default",{key:0},void 0,!0):(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(s.content)},null,8,Xi))])])),_:3},8,["expand","onBeforeSlideUp","onSlideUp","onBeforeSlideDown","onSlideDown"])],10,Yi)}],["__scopeId","data-v-a25113d9"]]);Ui.install=e=>{e.component(Ui.name,Ui)};const Ki={name:"m-divider",props:{dashed:{type:Boolean,default:!1},color:{type:String,default:null}}},Gi={key:0,class:"mvi-divider-center"};const Zi=S(Ki,[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-divider",s.dashed?"dashed":""])},[t.createElementVNode("div",{class:"mvi-divider-left",style:t.normalizeStyle({borderColor:s.color||""})},null,4),this.$slots.default?(t.openBlock(),t.createElementBlock("div",Gi,[t.renderSlot(e.$slots,"default",{},void 0,!0)])):t.createCommentVNode("",!0),t.createElementVNode("div",{class:"mvi-divider-right",style:t.normalizeStyle({borderColor:s.color||""})},null,4)],2)}],["__scopeId","data-v-1eeeb2dd"]]);Zi.install=e=>{e.component(Zi.name,Zi)};const Ji=S({name:"m-roll",data:()=>({rollEl:null,timer:null,status:-1}),emits:["play","stop","pause"],props:{interval:{type:Number,default:5e3},direction:{type:String,default:"left",validator:e=>["left","right","top","bottom"].includes(e)},autoplay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},animation:{type:String,default:"linear",validator:e=>["linear","ease","ease-in","ease-out","ease-in-out"].includes(e)},clickStop:{type:Boolean,default:!1},hoverStop:{type:Boolean,default:!1}},mounted(){this.rollEl=this.$refs.roll,this.autoplay&&this.play()},computed:{rollStyle(){let e={};return"left"==this.direction?(e.left="100%",e.right="auto"):"right"==this.direction?(e.right="100%",e.left="auto"):"top"==this.direction?(e.top="100%",e.bottom="auto"):"bottom"==this.direction&&(e.bottom="100%",e.top="auto"),e},containerStyle(){let e={};return this.rollEl&&(e.height=u.element.getCssStyle(this.rollEl,"height")),e}},methods:{hoverIn(){this.hoverStop&&0==this.status&&this.pause()},hoverOut(){this.hoverStop&&1==this.status&&this.play()},clickStopFun(){this.clickStop&&(0==this.status?this.pause():1==this.status&&this.play())},play(){if(!this.$refs.roll)return;if(0==this.status)return;this.status=0;let e=u.element.getElementPoint(this.$refs.roll,this.$el),t=0;"left"==this.direction?t=Math.round((e.left+this.$refs.roll.offsetWidth)/(this.$el.offsetWidth+this.$refs.roll.offsetWidth)*this.interval):"right"==this.direction?t=Math.round((e.right+this.$refs.roll.offsetWidth)/(this.$el.offsetWidth+this.$refs.roll.offsetWidth)*this.interval):"top"==this.direction?t=Math.round((e.top+this.$refs.roll.offsetHeight)/(this.$el.offsetHeight+this.$refs.roll.offsetHeight)*this.interval):"bottom"==this.direction&&(t=Math.round((e.bottom+this.$refs.roll.offsetHeight)/(this.$el.offsetHeight+this.$refs.roll.offsetHeight)*this.interval)),this.$refs.roll.style.transition="all "+t+"ms "+this.animation,this.$refs.roll.style.webkitTransition="all "+t+"ms "+this.animation,setTimeout((()=>{this.$refs.roll&&("left"==this.direction?(this.$refs.roll.style.left=-this.$refs.roll.offsetWidth+"px",this.$refs.roll.style.right="auto"):"right"==this.direction?(this.$refs.roll.style.right=-this.$refs.roll.offsetWidth+"px",this.$refs.roll.style.left="auto"):"top"==this.direction?(this.$refs.roll.style.top=-this.$refs.roll.offsetHeight+"px",this.$refs.roll.style.bottom="auto"):"bottom"==this.direction&&(this.$refs.roll.style.bottom=-this.$refs.roll.offsetHeight+"px",this.$refs.roll.style.top="auto"),this.$emit("play"),this.timer=setTimeout((()=>{this.stop(),this.loop&&this.play()}),t))}),0)},stop(){2!=this.status&&(this.status=2,this.$refs.roll.style.transition="",this.$refs.roll.style.webkitTransition="","left"==this.direction?(this.$refs.roll.style.left="100%",this.$refs.roll.style.right="auto"):"right"==this.direction?(this.$refs.roll.style.right="100%",this.$refs.roll.style.left="auto"):"top"==this.direction?(this.$refs.roll.style.top="100%",this.$refs.roll.style.bottom="auto"):"bottom"==this.direction&&(this.$refs.roll.style.bottom="100%",this.$refs.roll.style.top="auto"),this.timer&&(clearTimeout(this.timer),this.timer=null),this.$emit("stop"))},pause(){if(0!=this.status)return;this.status=1;let e=u.element.getElementPoint(this.$refs.roll,this.$el);this.$refs.roll.style.transition="",this.$refs.roll.style.webkitTransition="",this.timer&&(clearTimeout(this.timer),this.timer=null),"left"==this.direction?(this.$refs.roll.style.left=e.left+"px",this.$refs.roll.style.right="auto"):"right"==this.direction?(this.$refs.roll.style.right=e.right+"px",this.$refs.roll.style.left="auto"):"top"==this.direction?(this.$refs.roll.style.top=e.top+"px",this.$refs.roll.style.bottom="auto"):"bottom"==this.direction&&(this.$refs.roll.style.bottom=e.bottom+"px",this.$refs.roll.style.top="auto"),this.$emit("pause")}},beforeUnmount(){this.stop()}},[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createElementBlock("div",{onClick:i[0]||(i[0]=(...e)=>l.clickStopFun&&l.clickStopFun(...e)),onMouseenter:i[1]||(i[1]=(...e)=>l.hoverIn&&l.hoverIn(...e)),onMouseleave:i[2]||(i[2]=(...e)=>l.hoverOut&&l.hoverOut(...e)),class:"mvi-roll-container",style:t.normalizeStyle(l.containerStyle)},[t.createElementVNode("div",{class:t.normalizeClass(["mvi-roll","left"==s.direction||"right"==s.direction?"horizontal":"vertical"]),style:t.normalizeStyle(l.rollStyle),ref:"roll"},[t.renderSlot(e.$slots,"default",{},void 0,!0)],6)],36)}],["__scopeId","data-v-5de2e07e"]]);Ji.install=e=>{e.component(Ji.name,Ji)};const Qi=S({name:"m-steps",data:()=>({children:[]}),props:{active:{type:Number,default:0},vertical:{type:Boolean,default:!1},activeColor:{type:String,default:null},inactiveColor:{type:String,default:null},activeIcon:{type:[String,Object],default:"success-o"},inactiveIcon:{type:[String,Object],default:null}},provide(){return{steps:this}}},[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-steps",s.vertical?"vertical":""])},[t.renderSlot(e.$slots,"default",{},void 0,!0)],2)}],["__scopeId","data-v-c61b4376"]]);Qi.install=e=>{e.component(Qi.name,Qi)};const es={key:0,class:"mvi-step-vertical"},ts={class:"mvi-step-vertical-container"},is={class:"mvi-step-vertical-icon"},ss={class:"mvi-step-container"};const os=S({name:"m-step",data:()=>({elm:null}),setup:()=>({uid:t.getCurrentInstance().uid}),inject:["steps"],created(){this.steps.children.push(this)},mounted(){this.elm=this.$el},computed:{parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},stepIndex(){return this.steps.children.findIndex((e=>u.common.equal(e.uid,this.uid)))},labelStyle(){let e={};return this.steps.activeColor&&this.steps.active==this.stepIndex&&(e.color=this.steps.activeColor),this.steps.inactiveColor&&this.steps.active!=this.stepIndex&&(e.color=this.steps.inactiveColor),e},activeIconStyle(){let e={};return this.steps.activeColor&&this.steps.active==this.stepIndex&&(e.color=this.steps.activeColor),e},inactiveIconStyle(){let e={};return this.steps.inactiveColor&&this.stepIndex>this.steps.active&&(e.color=this.steps.inactiveColor),this.steps.activeColor&&this.stepIndex<=this.steps.active&&(e.color=this.steps.activeColor),e},circleStyle(){let e={};return this.stepIndex<=this.steps.active?this.steps.activeColor&&(e.backgroundColor=this.steps.activeColor):this.steps.inactiveColor&&(e.backgroundColor=this.steps.inactiveColor),e},activeCircleStyle(){let e={};return this.steps.activeColor&&this.steps.active==this.stepIndex&&(e.backgroundColor=this.steps.activeColor),e},lineStyle(){let e={};return this.steps.activeColor&&this.stepIndex<this.steps.active&&(this.steps.vertical?e.borderRightColor=this.steps.activeColor:e.borderTopColor=this.steps.activeColor),this.steps.inactiveColor&&this.stepIndex>=this.steps.active&&(this.steps.vertical?e.borderRightColor=this.steps.inactiveColor:e.borderTopColor=this.steps.inactiveColor),e},stepIconStyle(){let e={};return this.elm&&(e.backgroundColor=u.element.getCssStyle(this.steps.$el,"background-color")),e}},components:{Icon:T}},[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon");return l.steps.vertical?(t.openBlock(),t.createElementBlock("div",es,[t.createElementVNode("div",{class:t.normalizeClass(["mvi-step-vertical-label",l.stepIndex==l.steps.active?"finish":""]),style:t.normalizeStyle(l.labelStyle)},[t.renderSlot(e.$slots,"default",{},void 0,!0)],6),t.createElementVNode("div",ts,[t.createElementVNode("div",is,[l.steps.active==l.stepIndex&&(l.parseIcon(l.steps.activeIcon).type||l.parseIcon(l.steps.activeIcon).url)?(t.openBlock(),t.createBlock(r,{key:0,class:"mvi-step-icon-active-el",type:l.parseIcon(l.steps.activeIcon).type,url:l.parseIcon(l.steps.activeIcon).url,spin:l.parseIcon(l.steps.activeIcon).spin,size:l.parseIcon(l.steps.activeIcon).size,color:l.parseIcon(l.steps.activeIcon).color,style:t.normalizeStyle(l.activeIconStyle)},null,8,["type","url","spin","size","color","style"])):l.steps.active==l.stepIndex?(t.openBlock(),t.createElementBlock("div",{key:1,class:"mvi-step-circle-active",style:t.normalizeStyle(l.activeCircleStyle)},null,4)):l.parseIcon(l.steps.inactiveIcon).type||l.parseIcon(l.steps.inactiveIcon).url?(t.openBlock(),t.createBlock(r,{key:2,class:t.normalizeClass(["mvi-step-icon-inactive-el",l.stepIndex<=l.steps.active?"finish":""]),type:l.parseIcon(l.steps.inactiveIcon).type,url:l.parseIcon(l.steps.inactiveIcon).url,spin:l.parseIcon(l.steps.inactiveIcon).spin,size:l.parseIcon(l.steps.inactiveIcon).size,color:l.parseIcon(l.steps.inactiveIcon).color,style:t.normalizeStyle(l.inactiveIconStyle)},null,8,["class","type","url","spin","size","color","style"])):(t.openBlock(),t.createElementBlock("div",{key:3,class:t.normalizeClass(["mvi-step-circle",l.stepIndex<=l.steps.active?"finish":""]),style:t.normalizeStyle(l.circleStyle)},null,6))]),t.createElementVNode("div",{class:t.normalizeClass(["mvi-step-vertical-line",l.stepIndex==l.steps.children.length-1?"last":"",l.stepIndex<l.steps.active?"finish":""]),style:t.normalizeStyle(l.lineStyle)},null,6)])])):(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(["mvi-step",l.stepIndex==l.steps.children.length-1?"last":""])},[t.createElementVNode("div",{class:t.normalizeClass(["mvi-step-label",l.stepIndex==l.steps.children.length-1?"last":"",0==l.stepIndex?"first":"",l.stepIndex==l.steps.active?"finish":""]),style:t.normalizeStyle(l.labelStyle)},[t.createElementVNode("div",null,[t.renderSlot(e.$slots,"default",{},void 0,!0)])],6),t.createElementVNode("div",ss,[t.createElementVNode("div",{class:t.normalizeClass(["mvi-step-icon",l.stepIndex==l.steps.children.length-1?"last":""]),style:t.normalizeStyle(l.stepIconStyle)},[l.steps.active==l.stepIndex&&(l.parseIcon(l.steps.activeIcon).type||l.parseIcon(l.steps.activeIcon).url)?(t.openBlock(),t.createBlock(r,{key:0,class:"mvi-step-icon-active-el",type:l.parseIcon(l.steps.activeIcon).type,url:l.parseIcon(l.steps.activeIcon).url,spin:l.parseIcon(l.steps.activeIcon).spin,size:l.parseIcon(l.steps.activeIcon).size,color:l.parseIcon(l.steps.activeIcon).color,style:t.normalizeStyle(l.activeIconStyle)},null,8,["type","url","spin","size","color","style"])):l.steps.active==l.stepIndex?(t.openBlock(),t.createElementBlock("div",{key:1,class:"mvi-step-circle-active",style:t.normalizeStyle(l.activeCircleStyle)},null,4)):l.parseIcon(l.steps.inactiveIcon).type||l.parseIcon(l.steps.inactiveIcon).url?(t.openBlock(),t.createBlock(r,{key:2,class:t.normalizeClass(["mvi-step-icon-inactive-el",l.stepIndex<=l.steps.active?"finish":""]),type:l.parseIcon(l.steps.inactiveIcon).type,url:l.parseIcon(l.steps.inactiveIcon).url,spin:l.parseIcon(l.steps.inactiveIcon).spin,size:l.parseIcon(l.steps.inactiveIcon).size,color:l.parseIcon(l.steps.inactiveIcon).color,style:t.normalizeStyle(l.inactiveIconStyle)},null,8,["class","type","url","spin","size","color","style"])):(t.openBlock(),t.createElementBlock("div",{key:3,class:t.normalizeClass(["mvi-step-circle",l.stepIndex<=l.steps.active?"finish":""]),style:t.normalizeStyle(l.circleStyle)},null,6))],6),t.createElementVNode("div",{class:t.normalizeClass(["mvi-step-line",l.stepIndex==l.steps.children.length-1?"last":"",l.stepIndex<l.steps.active?"finish":""]),style:t.normalizeStyle(l.lineStyle)},null,6)])],2))}],["__scopeId","data-v-0c19a341"]]);os.install=e=>{e.component(os.name,os)};const ns=S({name:"m-label",data:()=>({show:!0}),props:{type:{type:String,default:"default",validator:e=>["default","error","info","primary","success","warn"].includes(e)},size:{type:String,default:"medium",validator:e=>["medium","large"].includes(e)},color:{type:String,default:null},plain:{type:Boolean,default:!1},round:{type:Boolean,default:!1},mark:{type:Boolean,default:!1},subColor:{type:String,default:null},closable:{type:Boolean,default:!1},reverse:{type:Boolean,default:!1}},computed:{labelClass(){let e=["mvi-label"];return this.size&&e.push(this.size),this.type&&e.push(this.type),this.plain&&e.push("plain"),this.round&&e.push("round"),this.mark&&(e.push("mark"),this.reverse&&e.push("reverse")),e},labelStyle(){let e={};return this.color&&(this.plain?(e.borderColor=this.color,e.color=this.color,e.backgroundColor=this.subColor||"#fff"):(e.backgroundColor=this.color,e.borderColor=this.color,e.color=this.subColor||"#fff")),e}},components:{Icon:T},methods:{closeLabel(){this.show=!1}}},[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon");return s.closable?(t.openBlock(),t.createBlock(t.Transition,{key:0,name:"mvi-label"},{default:t.withCtx((()=>[n.show?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(l.labelClass),style:t.normalizeStyle(l.labelStyle)},[t.renderSlot(e.$slots,"default",{},void 0,!0),t.createElementVNode("span",{class:"mvi-label-closable",onClick:i[0]||(i[0]=(...e)=>l.closeLabel&&l.closeLabel(...e))},[t.createVNode(r,{type:"times"})])],6)):t.createCommentVNode("",!0)])),_:3})):(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(l.labelClass),style:t.normalizeStyle(l.labelStyle)},[t.renderSlot(e.$slots,"default",{},void 0,!0)],6))}],["__scopeId","data-v-bb5198b2"]]);ns.install=e=>{e.component(ns.name,ns)};const ls={name:"m-swiper",provide(){return{swiper:this}},emits:["before-change","change"],data:()=>({elm:null,sizeCounts:0,children:[],start:0,initStart:0,transform:0,timer:null,totalMove:0,oldIndex:-1,amounts:0,mouseDown:!1,fadeActiveIndex:0,useOpacity:!0,apiDoSlide:!1}),props:{autoplay:{type:Boolean,default:!1},speed:{type:Number,default:500},interval:{type:Number,default:5e3},initialSlide:{type:Number,default:0},width:{type:String,default:null},height:{type:String,default:null},loop:{type:Boolean,default:!1},showIndicators:{type:Boolean,default:!1},activeColor:{type:String,default:null},inactiveColor:{type:String,default:null},vertical:{type:Boolean,default:!1},touchable:{type:Boolean,default:!0},showControl:{type:Boolean,default:!1},fade:{type:Boolean,default:!1}},computed:{indicatorStyle(){return e=>{let t={};return this.isIndicatorActive(e)?this.activeColor&&(t.backgroundColor=this.activeColor):this.inactiveColor&&(t.backgroundColor=this.inactiveColor),t}},wrapperStyle(){let e={};return this.vertical?(e.height="calc(100% * "+this.children.length+")",e.transform="translateY("+this.transform+"px)",e.webkitTransform="translateY("+this.transform+"px)"):(e.width="calc(100% * "+this.children.length+")",e.transform="translateX("+this.transform+"px)",e.webkitTransform="translateX("+this.transform+"px)"),e},containerStyle(){let e={};return this.width&&(e.width=this.width),this.height&&(e.height=this.height),e},slideSize(){this.sizeCounts;let e=0;return this.vertical?this.height?this.height.includes("rem")?e=u.element.rem2px(parseFloat(this.height)):this.height.includes("px")?e=parseFloat(this.height):this.elm&&(e=parseFloat(u.element.getCssStyle(this.elm,"height"))):this.elm&&(e=parseFloat(u.element.getCssStyle(this.elm,"height"))):this.width?this.width.includes("rem")?e=u.element.rem2px(parseFloat(this.width)):this.width.includes("px")?e=parseFloat(this.width):this.elm&&(e=parseFloat(u.element.getCssStyle(this.elm,"width"))):this.elm&&(e=parseFloat(u.element.getCssStyle(this.elm,"width"))),Number(e.toFixed(2))},activeIndex(){let e=0;return e=this.totalMove<=0?this.mathNext(Math.abs(u.number.divide(this.transform,this.slideSize))):this.mathPrev(Math.abs(u.number.divide(this.transform,this.slideSize))),e>this.children.length-1?e=this.children.length-1:e<0&&(e=0),e},indicatorsIndex(){let e=0;return e=this.fade?this.fadeActiveIndex:this.loop?this.activeIndex==this.children.length-1?0:0==this.activeIndex?this.children.length-3:this.activeIndex-1:this.activeIndex,e},cmpInitalSlide(){return this.loop?this.initialSlide<this.children.length-2?this.initialSlide+1:1:this.initialSlide},controlStyle:()=>e=>{let t={};return 0==e?(t.left="0",t.right="auto"):(t.left="auto",t.right="0"),t},indicatorShow(){return e=>!!this.fade||(!this.loop||0!=e&&e!=this.children.length-1)},indicatorsTotal(){return this.fade?this.children.length:this.loop?this.children.length-2>0?this.children.length-2:0:this.children.length},isIndicatorActive(){return e=>this.fade?this.indicatorsIndex==e:this.loop?this.indicatorsIndex+1==e:this.indicatorsIndex==e}},components:{Icon:T},watch:{autoplay(){this.setAutoplay()},initialSlide(e){this.fade?(this.useOpacity=!1,this.fadeActiveIndex=e):this.setDefaultSlide()}},created(){this.fade&&(this.fadeActiveIndex=this.initialSlide)},setup:()=>({uid:t.getCurrentInstance().uid}),mounted(){if(this.elm=this.$el,0!=this.children.length){if(this.fade)this.setAutoplay();else{if(this.loop&&this.children.length>0){let e=this.children[0].$el.cloneNode(!0),t=this.children[this.children.length-1].$el.cloneNode(!0);this.$refs.wrapper.append(e),this.$refs.wrapper.prepend(t),this.children.unshift({$el:t}),this.children.push({$el:e})}this.setDefaultSlide(),u.event.on(document.documentElement,`mousemove.swiper_${this.uid}`,this.swiperMouseMove),u.event.on(document.documentElement,`mouseup.swiper_${this.uid}`,this.swiperMouseUp)}u.event.on(window,`resize.swiper_${this.uid}`,this.resizeChange)}},methods:{resizeChange(){this.sizeCounts++,this.transform=-u.number.mutiply(this.activeIndex,this.slideSize)},setAutoplay(){0!=this.children.length&&(this.autoplay&&!this.timer&&this.interval>this.speed?this.timer=setInterval((()=>{this.slideNext()}),this.interval):this.timer&&(clearInterval(this.timer),this.timer=null))},swiperTouchStart(e){0!=this.children.length&&this.touchable&&(this.apiDoSlide||(this.timer&&(clearInterval(this.timer),this.timer=null),this.amounts=0,this.totalMove=0,this.vertical?this.start=e.targetTouches[0].pageY:this.start=e.targetTouches[0].pageX,this.initStart=this.start,this.removeTransition()))},swiperTouchMove(e){if(0==this.children.length)return;if(!this.touchable)return;e.cancelable&&e.preventDefault();let t=0;t=this.vertical?e.targetTouches[0].pageY:e.targetTouches[0].pageX;let i=t-this.start;if(this.totalMove=t-this.initStart,this.totalMove>0){if(this.transform>=0)return this.amounts++,this.transform=u.number.add(this.transform,u.number.divide(i,this.amounts)),void(this.start=t)}else if(this.transform<=-u.number.mutiply(this.children.length-1,this.slideSize))return this.amounts++,this.transform=u.number.add(this.transform,u.number.divide(i,this.amounts)),void(this.start=t);this.start=t,this.transform=u.number.add(this.transform,i)},swiperTouchEnd(e){0!=this.children.length&&this.touchable&&this.addTransition().then((()=>{this.transform=-u.number.mutiply(this.activeIndex,this.slideSize),setTimeout((()=>{this.slideDone()}),this.speed)}))},swiperMouseDown(e){0!=this.children.length&&this.touchable&&(this.apiDoSlide||(this.timer&&(clearInterval(this.timer),this.timer=null),this.mouseDown=!0,this.amounts=0,this.totalMove=0,this.vertical?this.start=e.pageY:this.start=e.pageX,this.initStart=this.start,this.removeTransition()))},swiperMouseMove(e){if(0==this.children.length)return;if(!this.touchable)return;if(!this.mouseDown)return;e.cancelable&&e.preventDefault();let t=0;t=this.vertical?e.pageY:e.pageX;let i=t-this.start;if(this.totalMove=t-this.initStart,this.totalMove>0){if(this.transform>=0)return this.amounts++,this.transform=u.number.add(this.transform,u.number.divide(i,this.amounts)),void(this.start=t)}else if(this.transform<=-u.number.mutiply(this.children.length-1,this.slideSize))return this.amounts++,this.transform=u.number.add(this.transform,u.number.divide(i,this.amounts)),void(this.start=t);this.start=t,this.transform=u.number.add(this.transform,i)},swiperMouseUp(e){0!=this.children.length&&this.touchable&&this.mouseDown&&(this.mouseDown=!1,this.addTransition().then((()=>{this.transform=-u.number.mutiply(this.activeIndex,this.slideSize),setTimeout((()=>{this.slideDone()}),this.speed)})))},setDefaultSlide(){if(0!=this.children.length&&!this.fade){if(!this.$refs.wrapper)return;this.removeTransition().then((()=>{this.transform=-u.number.mutiply(this.cmpInitalSlide,this.slideSize),this.$nextTick((()=>{setTimeout((()=>{this.$refs.wrapper&&this.addTransition().then((()=>{this.oldIndex=this.initialSlide,this.setAutoplay()}))}),50)}))}))}},addTransition(){return new Promise(((e,t)=>{this.$refs.wrapper.style.transition="transform "+this.speed+"ms",this.$refs.wrapper.style.webkitTransition="transform "+this.speed+"ms",setTimeout((()=>{e()}),10)}))},removeTransition(){return new Promise(((e,t)=>{this.$refs.wrapper.style.transition="",this.$refs.wrapper.style.webkitTransition="",setTimeout((()=>{e()}),10)}))},slideDone(){return new Promise(((e,t)=>{this.loop?this.transform==-u.number.mutiply(this.children.length-1,this.slideSize)?this.removeTransition().then((()=>{this.transform=-this.slideSize,this.$nextTick((()=>{setTimeout((()=>{this.addTransition().then((()=>{this.indicatorsIndex!=this.oldIndex&&(this.oldIndex=this.indicatorsIndex,this.$emit("change",this.indicatorsIndex)),this.setAutoplay(),e()}))}),50)}))})):0==this.transform?this.removeTransition().then((()=>{this.transform=-u.number.mutiply(this.children.length-2,this.slideSize),this.$nextTick((()=>{setTimeout((()=>{this.addTransition().then((()=>{this.indicatorsIndex!=this.oldIndex&&(this.oldIndex=this.indicatorsIndex,this.$emit("change",this.indicatorsIndex)),this.setAutoplay(),e()}))}),50)}))})):(this.indicatorsIndex!=this.oldIndex&&(this.oldIndex=this.indicatorsIndex,this.$emit("change",this.indicatorsIndex)),this.setAutoplay(),e()):(this.indicatorsIndex!=this.oldIndex&&(this.oldIndex=this.indicatorsIndex,this.$emit("change",this.indicatorsIndex)),this.setAutoplay(),e())}))},mathNext(e){const t=Math.floor(e);return u.number.subtract(e,t)>=.25?t+1:t},mathPrev(e){const t=Math.floor(e);return u.number.subtract(e,t)<=.75?t:t+1},slideTo(e){return new Promise(((t,i)=>{if(0!=this.children.length)if(this.fade)e>this.children.length-1?e=this.children.length-1:e<0&&(e=0),this.fadeActiveIndex!=e?(this.$emit("before-change",this.fadeActiveIndex),this.fadeActiveIndex=e,this.timer&&(clearInterval(this.timer),this.timer=null),setTimeout((()=>{this.$emit("change",this.fadeActiveIndex),this.setAutoplay(),t()}),this.speed)):t();else if(this.oldIndex>e){if(this.transform>=0)return void t();this.apiDoSlide=!0,this.$emit("before-change",this.oldIndex),this.timer&&(clearInterval(this.timer),this.timer=null),this.addTransition().then((()=>{this.transform=u.number.add(this.transform,u.number.mutiply(this.oldIndex-e,this.slideSize)),setTimeout((()=>{this.slideDone().then((()=>{this.apiDoSlide=!1,t()}))}),this.speed)}))}else{if(this.transform<=-u.number.mutiply(this.children.length-1,this.slideSize))return void t();this.apiDoSlide=!0,this.$emit("before-change",this.oldIndex),this.timer&&(clearInterval(this.timer),this.timer=null),this.addTransition().then((()=>{this.transform=u.number.subtract(this.transform,u.number.mutiply(e-this.oldIndex,this.slideSize)),setTimeout((()=>{this.slideDone().then((()=>{this.apiDoSlide=!1,t()}))}),this.speed)}))}else t()}))},slideNext(){return new Promise(((e,t)=>{if(0!=this.children.length)if(this.fade)this.loop?(this.$emit("before-change",this.fadeActiveIndex),this.fadeActiveIndex==this.children.length-1?this.fadeActiveIndex=0:this.fadeActiveIndex++,this.timer&&(clearInterval(this.timer),this.timer=null),setTimeout((()=>{this.$emit("change",this.fadeActiveIndex),this.setAutoplay(),e()}),this.speed)):this.fadeActiveIndex!=this.children.length-1?(this.$emit("before-change",this.fadeActiveIndex),this.fadeActiveIndex++,this.timer&&(clearInterval(this.timer),this.timer=null),setTimeout((()=>{this.$emit("change",this.fadeActiveIndex),this.setAutoplay(),e()}),this.speed)):e();else{if(this.transform<=-u.number.mutiply(this.children.length-1,this.slideSize))return void e();this.apiDoSlide=!0,this.$emit("before-change",this.oldIndex),this.timer&&(clearInterval(this.timer),this.timer=null),this.addTransition().then((()=>{this.transform=u.number.subtract(this.transform,this.slideSize),setTimeout((()=>{this.slideDone().then((()=>{this.apiDoSlide=!1,e()}))}),this.speed)}))}else e()}))},slidePrev(){return new Promise(((e,t)=>{if(0!=this.children.length)if(this.fade)this.loop?(this.$emit("before-change",this.fadeActiveIndex),0==this.fadeActiveIndex?this.fadeActiveIndex=this.children.length-1:this.fadeActiveIndex--,this.timer&&(clearInterval(this.timer),this.timer=null),setTimeout((()=>{this.$emit("change",this.fadeActiveIndex),this.setAutoplay(),e()}),this.speed)):0!=this.fadeActiveIndex?(this.$emit("before-change",this.fadeActiveIndex),this.fadeActiveIndex--,this.timer&&(clearInterval(this.timer),this.timer=null),setTimeout((()=>{this.$emit("change",this.fadeActiveIndex),this.setAutoplay(),e()}),this.speed)):e();else{if(this.transform>=0)return void e();this.apiDoSlide=!0,this.$emit("before-change",this.oldIndex),this.timer&&(clearInterval(this.timer),this.timer=null),this.addTransition().then((()=>{this.transform=u.number.add(this.transform,this.slideSize),setTimeout((()=>{this.slideDone().then((()=>{this.apiDoSlide=!1,e()}))}),this.speed)}))}else e()}))}},beforeUnmount(){this.timer&&(clearInterval(this.timer),this.timer=null),this.fade||u.event.off(document.documentElement,`mousemove.swiper_${this.uid} mouseup.swiper_${this.uid}`),u.event.off(window,`resize.swiper_${this.uid}`)}},rs={key:0,class:"mvi-swiper-fade"},as={key:3,class:"mvi-swiper-indicators"},hs=["onClick"];const cs=S(ls,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-swiper-container",s.vertical?"vertical":""]),style:t.normalizeStyle(l.containerStyle)},[s.fade?(t.openBlock(),t.createElementBlock("div",rs,[t.renderSlot(e.$slots,"default",{},void 0,!0)])):(t.openBlock(),t.createElementBlock("div",{key:1,class:"mvi-swiper-wrapper",ref:"wrapper",style:t.normalizeStyle(l.wrapperStyle),onTouchstart:i[0]||(i[0]=(...e)=>l.swiperTouchStart&&l.swiperTouchStart(...e)),onTouchmove:i[1]||(i[1]=(...e)=>l.swiperTouchMove&&l.swiperTouchMove(...e)),onTouchend:i[2]||(i[2]=(...e)=>l.swiperTouchEnd&&l.swiperTouchEnd(...e)),onMousedown:i[3]||(i[3]=(...e)=>l.swiperMouseDown&&l.swiperMouseDown(...e))},[t.renderSlot(e.$slots,"default",{},void 0,!0)],36)),e.$slots.indicators?t.renderSlot(e.$slots,"indicators",{key:2,active:l.indicatorsIndex,total:l.indicatorsTotal},void 0,!0):s.showIndicators?(t.openBlock(),t.createElementBlock("div",as,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(n.children,((e,i)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[l.indicatorShow(i)?(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-swiper-indicator",l.isIndicatorActive(i)?"active":""]),style:t.normalizeStyle(l.indicatorStyle(i)),key:"indicator-"+i,onClick:e=>l.slideTo(s.fade?i:s.loop?i-1:i)},null,14,hs)):t.createCommentVNode("",!0)],64)))),256))])):t.createCommentVNode("",!0),s.showControl?(t.openBlock(),t.createElementBlock("div",{key:4,class:"mvi-swiper-control",style:t.normalizeStyle(l.controlStyle(0)),onClick:i[4]||(i[4]=(...e)=>l.slidePrev&&l.slidePrev(...e))},[t.createVNode(r,{type:"angle-left"})],4)):t.createCommentVNode("",!0),s.showControl?(t.openBlock(),t.createElementBlock("div",{key:5,class:"mvi-swiper-control",style:t.normalizeStyle(l.controlStyle(1)),onClick:i[5]||(i[5]=(...e)=>l.slideNext&&l.slideNext(...e))},[t.createVNode(r,{type:"angle-right"})],4)):t.createCommentVNode("",!0)],6)}],["__scopeId","data-v-3e00cf07"]]);cs.install=e=>{e.component(cs.name,cs)};const ds=S({name:"m-swiper-slide",setup:()=>({uid:t.getCurrentInstance().uid}),inject:["swiper"],created(){this.swiper.children.push(this)},computed:{slideStyle(){let e={};return this.swiper.vertical?(e.width="100%",e.height=this.swiper.fade?"100%":"calc(100% * "+1/this.swiper.children.length+")"):(e.height="100%",e.width=this.swiper.fade?"100%":"calc(100% * "+1/this.swiper.children.length+")"),e},slideIndex(){return this.swiper.children.findIndex((e=>u.common.equal(e.uid,this.uid)))}},methods:{addTransition(e){this.swiper.useOpacity?(e.style.transition="opacity "+this.swiper.speed+"ms",e.style.webkitTransition="opacity "+this.swiper.speed+"ms"):(e.style.transition="",e.style.webkitTransition="")},removeTransition(e){this.swiper.useOpacity?(e.style.transition="",e.style.webkitTransition=""):this.swiper.useOpacity=!0}}},[["render",function(e,i,s,o,n,l){return l.swiper.fade?(t.openBlock(),t.createBlock(t.Transition,{key:0,name:"mvi-swiper-slide",onBeforeEnter:l.addTransition,onAfterEnter:l.removeTransition,onBeforeLeave:l.addTransition,onAfterLeave:l.removeTransition},{default:t.withCtx((()=>[t.withDirectives(t.createElementVNode("div",{class:"mvi-swiper-slide-fade",style:t.normalizeStyle(l.slideStyle)},[t.renderSlot(e.$slots,"default",{},void 0,!0)],4),[[t.vShow,l.swiper.fadeActiveIndex==l.slideIndex]])])),_:3},8,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])):(t.openBlock(),t.createElementBlock("div",{key:1,class:"mvi-swiper-slide",style:t.normalizeStyle(l.slideStyle)},[t.renderSlot(e.$slots,"default",{},void 0,!0)],4))}],["__scopeId","data-v-1cd4abbd"]]);ds.install=e=>{e.component(ds.name,ds)};const ms={name:"m-tabs",data:()=>({children:[],slideLeft:0,slideWidth:0,current:0}),provide(){return{tabs:this}},emits:["update:modelValue","change"],props:{type:{type:String,default:"default",validator:e=>["default","card"].includes(e)},modelValue:{type:Number,default:0},animation:{type:String,default:"none",validator:e=>["none","slide","fade"].includes(e)},timeout:{type:Number,default:200},ellipsis:{type:Boolean,default:!0},border:{type:Boolean,default:!1},flex:{type:String,default:"space-between"},offset:{type:String,default:"0"},activeColor:{type:String,default:null}},computed:{sliderStyle(){let e={};return"slide"!=this.animation&&"fade"!=this.animation||(e.transition="left "+this.timeout+"ms,width "+this.timeout+"ms",e.webkitTransition="left "+this.timeout+"ms,width "+this.timeout+"ms"),this.activeColor&&(e.background=this.activeColor),e.width=this.slideWidth+"px",e.left=this.slideLeft+"px",e},headersStyle(){let e={};return this.flex&&"default"==this.type&&(e.justifyContent=this.flex),"card"==this.type&&this.activeColor&&(e.borderColor=this.activeColor),e},headerClass(){return(e,t)=>{let i=["mvi-tab-header"];return this.modelValue==t&&i.push("active"),this.ellipsis&&i.push("ellipsis"),i}},headerStyle(){return(e,t)=>{let i={};return this.offset&&0!=t&&"default"==this.type&&(i.marginLeft=this.offset),this.activeColor&&(i.borderColor=this.activeColor,this.modelValue==t&&("default"==this.type?i.color=this.activeColor:i.background=this.activeColor)),i.maxWidth=`calc(100% / ${this.children.length})`,i}},parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t}},components:{Icon:T},created(){this.current=this.modelValue},watch:{modelValue(e,t){this.to(e,t)}},setup:()=>({uid:t.getCurrentInstance().uid}),mounted(){this.$nextTick((()=>{this.setSlider()})),this.setHeight(),u.event.on(window,`resize.tabs_${this.uid}`,this.setHeight)},methods:{clickHeader(e,t){e.disabled||this.modelValue!=t&&(this.$emit("update:modelValue",t),this.$emit("change",t))},to(e,t){for(let i=0;i<this.children.length;i++)this.children[i].show=!1,this.children[i].back=e<t;this.children[e].show=!0,this.children[e].firstShow||(this.children[e].firstShow=!0),this.$nextTick((()=>{this.current=e,this.setHeight(),this.setSlider()}))},setHeight(){this.children[this.current]&&this.$refs.content&&(this.$refs.content.style.height=this.children[this.current].$el.offsetHeight+"px")},setSlider(){"card"!=this.type&&(this.slideWidth=parseFloat(u.element.getCssStyle(this.$refs.headers.querySelector(".mvi-tab-header.active"),"width")),this.slideLeft=u.element.getElementPoint(this.$refs.headers.querySelector(".mvi-tab-header.active"),this.$refs.headers).left)}},beforeUnmount(){u.event.off(window,`resize.tabs_${this.uid}`)}},us={class:"mvi-tabs"},ps=["onClick","disabled"],fs=["innerHTML"],gs={class:"mvi-tabs-content",ref:"content"};const ys=S(ms,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",us,[t.createElementVNode("div",{ref:"headers",class:t.normalizeClass(["mvi-tabs-header","card"==s.type?"card":"","default"==s.type&&s.border?"border":""]),style:t.normalizeStyle(l.headersStyle)},["default"==s.type?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-tabs-slider",style:t.normalizeStyle(l.sliderStyle)},null,4)):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(n.children,((e,i)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(l.headerClass(e,i)),onClick:t=>l.clickHeader(e,i),style:t.normalizeStyle(l.headerStyle(e,i)),disabled:e.disabled||null},["left"==e.placement&&(l.parseIcon(e.icon).type||l.parseIcon(e.icon).url)?(t.openBlock(),t.createBlock(r,{key:0,class:t.normalizeClass(["mvi-tab-icon",e.title?"left":""]),type:l.parseIcon(e.icon).type,url:l.parseIcon(e.icon).url,spin:l.parseIcon(e.icon).spin,size:l.parseIcon(e.icon).size,color:l.parseIcon(e.icon).color},null,8,["class","type","url","spin","size","color"])):t.createCommentVNode("",!0),e.title?(t.openBlock(),t.createElementBlock("span",{key:1,class:"mvi-tab-header-text",innerHTML:e.title},null,8,fs)):t.createCommentVNode("",!0),"right"==e.placement&&(l.parseIcon(e.icon).type||l.parseIcon(e.icon).url)?(t.openBlock(),t.createBlock(r,{key:2,class:t.normalizeClass(["mvi-tab-icon",e.title?"right":""]),type:l.parseIcon(e.icon).type,url:l.parseIcon(e.icon).url,spin:l.parseIcon(e.icon).spin,size:l.parseIcon(e.icon).size,color:l.parseIcon(e.icon).color},null,8,["class","type","url","spin","size","color"])):t.createCommentVNode("",!0)],14,ps)))),256))],6),t.createElementVNode("div",gs,[t.renderSlot(e.$slots,"default",{},void 0,!0)],512)])}],["__scopeId","data-v-f6c13528"]]);ys.install=e=>{e.component(ys.name,ys)};const bs=S({name:"m-tab",inject:["tabs"],data:()=>({show:!1,back:!1,firstShow:!1}),setup:()=>({uid:t.getCurrentInstance().uid}),created(){this.tabs.children.push(this),this.tabs.modelValue==this.tabIndex&&(this.show=!0,this.firstShow||(this.firstShow=!0))},props:{title:{type:String,default:""},icon:{type:[String,Object],default:null},disabled:{type:Boolean,default:!1},placement:{type:String,default:"left",validator:e=>["left","right"].includes(e)}},computed:{tabStyle(){let e={};return"slide"==this.tabs.animation?(e.transition="left "+this.tabs.timeout+"ms,opacity "+this.tabs.timeout+"ms",e.webkitTransition="left "+this.tabs.timeout+"ms,opacity "+this.tabs.timeout+"ms"):"fade"==this.tabs.animation&&(e.transition="opacity "+this.tabs.timeout+"ms",e.webkitTransition="opacity "+this.tabs.timeout+"ms"),e},tabIndex(){return this.tabs.children.findIndex((e=>u.common.equal(e.uid,this.uid)))}},unmounted(){this.tabs.children.splice(this.tabIndex,1),this.tabs.modelValue>0?(this.tabs.$emit("update:modelValue",this.tabs.modelValue-1),this.tabs.$emit("change",this.tabs.modelValue-1)):this.tabs.to(0,0)}},[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createBlock(t.Transition,{name:"mvi-tab-"+l.tabs.animation+(n.back?"-back":"")},{default:t.withCtx((()=>[n.firstShow?t.withDirectives((t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-tab",style:t.normalizeStyle(l.tabStyle)},[t.renderSlot(e.$slots,"default",{},void 0,!0)],4)),[[t.vShow,n.show]]):t.createCommentVNode("",!0)])),_:3},8,["name"])}],["__scopeId","data-v-f3fc1fea"]]);bs.install=e=>{e.component(bs.name,bs)};const vs=["data-placement"],ks=["data-placement"];const ws=S({name:"m-triangle",props:{background:{type:String,default:null},borderColor:{type:String,default:null},size:{type:String,default:"0.14rem"},placement:{type:String,default:"top",validator:e=>["top","left","right","bottom"].includes(e)}},computed:{triangleStyle(){let e={};return e.borderWidth=this.size,"top"==this.placement?e.borderBottomColor=this.borderColor||"":"bottom"==this.placement?e.borderTopColor=this.borderColor||"":"left"==this.placement?e.borderRightColor=this.borderColor||"":"right"==this.placement&&(e.borderLeftColor=this.borderColor||""),e},triangleElStyle(){let e={};return e.borderWidth=`calc(${this.size} - 1px)`,"top"==this.placement?(e.borderBottomColor=this.background||"",e.marginLeft=`-${this.size}`):"bottom"==this.placement?(e.borderTopColor=this.background||"",e.marginLeft=`-${this.size}`):"left"==this.placement?(e.borderRightColor=this.background||"",e.marginTop=`-${this.size}`):"right"==this.placement&&(e.borderLeftColor=this.background||"",e.marginTop=`-${this.size}`),e}}},[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createElementBlock("div",{class:"mvi-triangle",style:t.normalizeStyle(l.triangleStyle),"data-placement":s.placement},[t.createElementVNode("div",{class:"mvi-triangle-el",style:t.normalizeStyle(l.triangleElStyle),"data-placement":s.placement},null,12,ks)],12,vs)}],["__scopeId","data-v-aa2239dc"]]);ws.install=e=>{e.component(ws.name,ws)};const Cs=S({name:"m-layer",data:()=>({layerShow:!1,firstShow:!1,realPlacement:"bottom"}),emits:["update:modelValue","show","showing","shown","hide","hidding","hidden"],props:{modelValue:{type:Boolean,default:!1},target:{type:String,default:null},root:{type:String,default:null},placement:{type:String,default:"bottom",validator:e=>["top","left","right","bottom","top-start","top-end","left-start","left-end","right-start","right-end","bottom-start","bottom-end"].includes(e)},offset:{type:String,default:"0.2rem"},zIndex:{type:Number,default:null},fixed:{type:Boolean,default:!1},width:{type:String,default:null},timeout:{type:Number,default:200},closable:{type:Boolean,default:!1},showTriangle:{type:Boolean,default:!1},animation:{type:String,default:null},shadow:{type:Boolean,default:!0},border:{type:Boolean,default:!1},borderColor:{type:String,default:"#eee"},background:{type:String,default:"#fff"},fixedAuto:{type:Boolean,default:!1}},components:{Triangle:ws},watch:{placement(e){this.layerShow&&this.firstShow&&(this.autoAdjust(),this.reset(),this.$nextTick((()=>{this.resetTriangle()})))},modelValue(e){e&&(this.firstShow||(this.firstShow=!0)),this.layerShow=e}},computed:{trianglePlacement(){return"bottom-start"==this.realPlacement||"bottom"==this.realPlacement||"bottom-end"==this.realPlacement?"top":"top-start"==this.realPlacement||"top"==this.realPlacement||"top-end"==this.realPlacement?"bottom":"left-start"==this.realPlacement||"left"==this.realPlacement||"left-end"==this.realPlacement?"right":"right-start"==this.realPlacement||"right"==this.realPlacement||"right-end"==this.realPlacement?"left":void 0},wrapperCls(){let e=["mvi-layer-wrapper"];return this.shadow&&e.push("shadow"),this.border&&e.push("border"),e},wrapperStyle(){let e={};return this.border&&this.borderColor&&(e.borderColor=this.borderColor),this.background&&(e.background=this.background),this.width&&(e.width=this.width),e},layerStyle(){let e={};return u.number.isNumber(this.zIndex)&&(e.zIndex=this.zIndex),this.timeout&&(e.transition="transform "+this.timeout+"ms,opacity "+this.timeout+"ms",e.webkitTransition="transform "+this.timeout+"ms,opacity "+this.timeout+"ms"),this.showTriangle||(e.padding=0,"bottom-start"==this.realPlacement||"bottom"==this.realPlacement||"bottom-end"==this.realPlacement?e.paddingTop=this.offset:"top-start"==this.realPlacement||"top"==this.realPlacement||"top-end"==this.realPlacement?e.paddingBottom=this.offset:"left-start"==this.realPlacement||"left"==this.realPlacement||"left-end"==this.realPlacement?e.paddingRight=this.offset:"right-start"!=this.realPlacement&&"right"!=this.realPlacement&&"right-end"!=this.realPlacement||(e.paddingLeft=this.offset)),e}},setup:()=>({uid:t.getCurrentInstance().uid}),mounted(){this.modelValue&&(this.firstShow||(this.firstShow=!0),this.layerShow=this.modelValue),u.event.on(window,`resize.layer_${this.uid}`,this.resizeSet),u.event.on(window,`click.layer_${this.uid}`,this.hideLayer)},methods:{resizeSet(){this.layerShow&&this.firstShow&&(this.autoAdjust(),this.reset(),this.$nextTick((()=>{this.resetTriangle()})))},autoAdjust(){let e=this.getTargetEl(),t=u.element.getElementBounding(e);this.realPlacement=this.placement,"bottom"==this.placement?t.bottom<this.$el.offsetHeight?t.top>this.$el.offsetHeight?(this.realPlacement="top",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-end")):t.left>this.$el.offsetWidth?(this.realPlacement="left",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-end")):t.right>this.$el.offsetWidth&&(this.realPlacement="right",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-end")):(t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-end")):"bottom-start"==this.placement?t.bottom<this.$el.offsetHeight?t.top>this.$el.offsetHeight?(this.realPlacement="top-start",t.right+e.offsetWidth<this.$el.offsetWidth&&(this.realPlacement="top"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-end")):t.left>this.$el.offsetWidth?(this.realPlacement="left",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-end")):t.right>this.$el.offsetWidth&&(this.realPlacement="right",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-end")):(t.right+e.offsetWidth<this.$el.offsetWidth&&(this.realPlacement="bottom"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-end")):"bottom-end"==this.placement?t.bottom<this.$el.offsetHeight?t.top>this.$el.offsetHeight?(this.realPlacement="top-end",t.left+e.offsetWidth<this.$el.offsetWidth&&(this.realPlacement="top"),t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-start")):t.left>this.$el.offsetWidth?(this.realPlacement="left",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-end")):t.right>this.$el.offsetWidth&&(this.realPlacement="right",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-end")):(t.left+e.offsetWidth<this.$el.offsetWidth&&(this.realPlacement="bottom"),t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-start")):"top"==this.placement?t.top<this.$el.offsetHeight?t.bottom>this.$el.offsetHeight?(this.realPlacement="bottom",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-end")):t.left>this.$el.offsetWidth?(this.realPlacement="left",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-end")):t.right>this.$el.offsetWidth&&(this.realPlacement="right",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-end")):(t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-end")):"top-start"==this.placement?t.top<this.$el.offsetHeight?t.bottom>this.$el.offsetHeight?(this.realPlacement="bottom-start",t.right+e.offsetWidth<this.$el.offsetWidth&&(this.realPlacement="bottom"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-end")):t.left>this.$el.offsetWidth?(this.realPlacement="left",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-end")):t.right>this.$el.offsetWidth&&(this.realPlacement="right",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-end")):(t.right+e.offsetWidth<this.$el.offsetWidth&&(this.realPlacement="top"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-end")):"top-end"==this.placement?t.top<this.$el.offsetHeight?t.bottom>this.$el.offsetHeight?(this.realPlacement="bottom-end",t.left+e.offsetWidth<this.$el.offsetWidth&&(this.realPlacement="bottom"),t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-start")):t.left>this.$el.offsetWidth?(this.realPlacement="left",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-end")):t.right>this.$el.offsetWidth&&(this.realPlacement="right",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-end")):(t.left+e.offsetWidth<this.$el.offsetWidth&&(this.realPlacement="top"),t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-start")):"left"==this.placement?t.left<this.$el.offsetWidth?t.right>this.$el.offsetWidth?(this.realPlacement="right",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-end")):t.top>this.$el.offsetHeight?(this.realPlacement="top",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-end")):t.bottom>this.$el.offsetHeight&&(this.realPlacement="bottom",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-end")):(t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-end")):"left-start"==this.placement?t.left<this.$el.offsetWidth?t.right>this.$el.offsetWidth?(this.realPlacement="right-start",t.bottom+e.offsetHeight<this.$el.offsetHeight&&(this.realPlacement="right"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-end")):t.top>this.$el.offsetHeight?(this.realPlacement="top",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-end")):t.bottom>this.$el.offsetHeight&&(this.realPlacement="bottom",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-end")):(t.bottom+e.offsetHeight<this.$el.offsetHeight&&(this.realPlacement="left"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-end")):"left-end"==this.placement?t.left<this.$el.offsetWidth?t.right>this.$el.offsetWidth?(this.realPlacement="right-end",t.top+e.offsetHeight<this.$el.offsetHeight&&(this.realPlacement="right"),t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-start")):t.top>this.$el.offsetHeight?(this.realPlacement="top",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-end")):t.bottom>this.$el.offsetHeight&&(this.realPlacement="bottom",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-end")):(t.top+e.offsetHeight<this.$el.offsetHeight&&(this.realPlacement="left"),t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-start")):"right"==this.placement?t.right<this.$el.offsetWidth?t.left>this.$el.offsetWidth?(this.realPlacement="left",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-end")):t.top>this.$el.offsetHeight?(this.realPlacement="top",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-end")):t.bottom>this.$el.offsetHeight&&(this.realPlacement="bottom",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-end")):(t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-end")):"right-start"==this.placement?t.right<this.$el.offsetWidth?t.left>this.$el.offsetWidth?(this.realPlacement="left-start",t.bottom+e.offsetHeight<this.$el.offsetHeight&&(this.realPlacement="left"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-end")):t.top>this.$el.offsetHeight?(this.realPlacement="top",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-end")):t.bottom>this.$el.offsetHeight&&(this.realPlacement="bottom",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-end")):(t.bottom+e.offsetHeight<this.$el.offsetHeight&&(this.realPlacement="right"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-end")):"right-end"==this.placement&&(t.right<this.$el.offsetWidth?t.left>this.$el.offsetWidth?(this.realPlacement="left-end",t.top+e.offsetHeight<this.$el.offsetHeight&&(this.realPlacement="left"),t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-start")):t.top>this.$el.offsetHeight?(this.realPlacement="top",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-end")):t.bottom>this.$el.offsetHeight&&(this.realPlacement="bottom",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-end")):(t.top+e.offsetHeight<this.$el.offsetHeight&&(this.realPlacement="right"),t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-start")))},hideLayer(e){if(this.layerShow&&this.firstShow&&this.closable){if(u.element.isContains(this.$el,e.target)||u.element.isContains(this.getTargetEl(),e.target))return;this.$emit("update:modelValue",!1)}},beforeEnter(e){u.data.get(e,"mvi-layer-beforeEnter-trigger")||(u.data.set(e,"mvi-layer-beforeEnter-trigger",!0),this.$emit("show",e),"function"==typeof this.layerComponentWatch&&this.layerComponentWatch.apply(this,["show",e]))},enter(e){u.data.get(e,"mvi-layer-enter-trigger")||(u.data.set(e,"mvi-layer-enter-trigger",!0),this.$nextTick((()=>{this.autoAdjust(),this.reset(),this.$nextTick((()=>{this.resetTriangle()})),this.$emit("showing",e),"function"==typeof this.layerComponentWatch&&this.layerComponentWatch.apply(this,["showing",e])})))},afterEnter(e){this.$emit("shown",e),"function"==typeof this.layerComponentWatch&&this.layerComponentWatch.apply(this,["shown",e])},beforeLeave(e){u.data.remove(e,"mvi-layer-beforeEnter-trigger"),u.data.remove(e,"mvi-layer-enter-trigger"),this.$emit("hide",e),"function"==typeof this.layerComponentWatch&&this.layerComponentWatch.apply(this,["hide",e])},leave(e){this.$emit("hidding",e),"function"==typeof this.layerComponentWatch&&this.layerComponentWatch.apply(this,["hidding",e])},afterLeave(e){this.$emit("hidden",e),"function"==typeof this.layerComponentWatch&&this.layerComponentWatch.apply(this,["hidden",e])},reset(){if(!u.element.isElement(this.$el))return;this.showTriangle&&(this.$el.style.padding=0,"bottom-start"==this.realPlacement||"bottom"==this.realPlacement||"bottom-end"==this.realPlacement?this.$el.style.paddingTop=`calc(${this.offset} + ${this.$refs.triangle.$el.offsetHeight}px)`:"top-start"==this.realPlacement||"top"==this.realPlacement||"top-end"==this.realPlacement?this.$el.style.paddingBottom=`calc(${this.offset} + ${this.$refs.triangle.$el.offsetHeight}px)`:"left-start"==this.realPlacement||"left"==this.realPlacement||"left-end"==this.realPlacement?this.$el.style.paddingRight=`calc(${this.offset} + ${this.$refs.triangle.$el.offsetWidth}px)`:"right-start"!=this.realPlacement&&"right"!=this.realPlacement&&"right-end"!=this.realPlacement||(this.$el.style.paddingLeft=`calc(${this.offset} + ${this.$refs.triangle.$el.offsetWidth}px)`));let e=this.getTargetEl(),t=this.getRootEl(),i=u.element.getElementPoint(e,t);if(this.fixed)if(this.fixedAuto){let t=!0,s=e.offsetParent;for(;t&&s;)"none"!=u.element.getCssStyle(s,"transform")?t=!1:s=s.offsetParent;i=u.element.getElementPoint(e,s)}else i=u.element.getElementBounding(e);"bottom"==this.realPlacement||"bottom-start"==this.realPlacement||"bottom-end"==this.realPlacement?(this.$el.style.top=i.top+e.offsetHeight+"px",this.$el.style.bottom="auto","bottom"==this.realPlacement?this.$el.style.left=i.left+e.offsetWidth/2-this.$el.offsetWidth/2+"px":"bottom-start"==this.realPlacement?this.$el.style.left=i.left+"px":"bottom-end"==this.realPlacement&&(this.$el.style.left=e.offsetWidth+i.left-this.$el.offsetWidth+"px"),this.$el.style.right="auto"):"top"==this.realPlacement||"top-start"==this.realPlacement||"top-end"==this.realPlacement?(this.$el.style.bottom=(this.fixed?i.bottom+e.offsetHeight:t.clientHeight-i.top)+"px",this.$el.style.top="auto","top"==this.realPlacement?this.$el.style.left=i.left+e.offsetWidth/2-this.$el.offsetWidth/2+"px":"top-start"==this.realPlacement?this.$el.style.left=i.left+"px":"top-end"==this.realPlacement&&(this.$el.style.left=e.offsetWidth+i.left-this.$el.offsetWidth+"px"),this.$el.style.right="auto"):"left"==this.realPlacement||"left-start"==this.realPlacement||"left-end"==this.realPlacement?(this.$el.style.right=(this.fixed?i.right+e.offsetWidth:t.clientWidth-i.left)+"px",this.$el.style.left="auto","left"==this.realPlacement?this.$el.style.top=i.top+e.offsetHeight/2-this.$el.offsetHeight/2+"px":"left-start"==this.realPlacement?this.$el.style.top=i.top+"px":"left-end"==this.realPlacement&&(this.$el.style.top=e.offsetHeight+i.top-this.$el.offsetHeight+"px"),this.$el.style.bottom="auto"):"right"!=this.realPlacement&&"right-start"!=this.realPlacement&&"right-end"!=this.realPlacement||(this.$el.style.left=i.left+e.offsetWidth+"px",this.$el.style.right="auto","right"==this.realPlacement?this.$el.style.top=i.top+e.offsetHeight/2-this.$el.offsetHeight/2+"px":"right-start"==this.realPlacement?this.$el.style.top=i.top+"px":"right-end"==this.realPlacement&&(this.$el.style.top=e.offsetHeight+i.top-this.$el.offsetHeight+"px"),this.$el.style.bottom="auto")},resetTriangle(){if(!this.showTriangle||this.$refs.triangle&&!this.$refs.triangle.$el)return;const e=this.getTargetEl().offsetWidth,t=this.$el.offsetWidth,i=this.getTargetEl().offsetHeight,s=this.$el.offsetHeight,o=this.$refs.triangle.$el.offsetWidth,n=this.$refs.triangle.$el.offsetHeight;"bottom-start"==this.realPlacement?(this.$refs.triangle.$el.style.top="auto",this.$refs.triangle.$el.style.right="auto",this.$refs.triangle.$el.style.bottom="100%",this.$refs.triangle.$el.style.left=(e>t?t:e)/2-o/2+"px"):"bottom"==this.realPlacement?(this.$refs.triangle.$el.style.top="auto",this.$refs.triangle.$el.style.right="auto",this.$refs.triangle.$el.style.bottom="100%",this.$refs.triangle.$el.style.left=t/2-o/2+"px"):"bottom-end"==this.realPlacement?(this.$refs.triangle.$el.style.top="auto",this.$refs.triangle.$el.style.left="auto",this.$refs.triangle.$el.style.bottom="100%",this.$refs.triangle.$el.style.right=(e>t?t:e)/2-o/2+"px"):"top-start"==this.realPlacement?(this.$refs.triangle.$el.style.top="100%",this.$refs.triangle.$el.style.right="auto",this.$refs.triangle.$el.style.bottom="auto",this.$refs.triangle.$el.style.left=(e>t?t:e)/2-o/2+"px"):"top"==this.realPlacement?(this.$refs.triangle.$el.style.top="100%",this.$refs.triangle.$el.style.right="auto",this.$refs.triangle.$el.style.bottom="auto",this.$refs.triangle.$el.style.left=t/2-o/2+"px"):"top-end"==this.realPlacement?(this.$refs.triangle.$el.style.top="100%",this.$refs.triangle.$el.style.left="auto",this.$refs.triangle.$el.style.bottom="auto",this.$refs.triangle.$el.style.right=(e>t?t:e)/2-o/2+"px"):"left-start"==this.realPlacement?(this.$refs.triangle.$el.style.left="100%",this.$refs.triangle.$el.style.right="auto",this.$refs.triangle.$el.style.top=(i>s?s:i)/2-n/2+"px",this.$refs.triangle.$el.style.bottom="auto"):"left"==this.realPlacement?(this.$refs.triangle.$el.style.left="100%",this.$refs.triangle.$el.style.right="auto",this.$refs.triangle.$el.style.top=s/2-n/2+"px",this.$refs.triangle.$el.style.bottom="auto"):"left-end"==this.realPlacement?(this.$refs.triangle.$el.style.left="100%",this.$refs.triangle.$el.style.right="auto",this.$refs.triangle.$el.style.bottom=(i>s?s:i)/2-n/2+"px",this.$refs.triangle.$el.style.top="auto"):"right-start"==this.realPlacement?(this.$refs.triangle.$el.style.right="100%",this.$refs.triangle.$el.style.left="auto",this.$refs.triangle.$el.style.top=(i>s?s:i)/2-n/2+"px",this.$refs.triangle.$el.style.bottom="auto"):"right"==this.realPlacement?(this.$refs.triangle.$el.style.right="100%",this.$refs.triangle.$el.style.left="auto",this.$refs.triangle.$el.style.top=s/2-n/2+"px",this.$refs.triangle.$el.style.bottom="auto"):"right-end"==this.realPlacement&&(this.$refs.triangle.$el.style.right="100%",this.$refs.triangle.$el.style.left="auto",this.$refs.triangle.$el.style.bottom=(i>s?s:i)/2-n/2+"px",this.$refs.triangle.$el.style.top="auto")},getTargetEl(){return this.target&&document.body.querySelector(this.target)||document.body},getRootEl(){return this.fixed?document.body:this.root&&document.body.querySelector(this.root)||document.body}},beforeUnmount(){u.event.off(window,`resize.layer_${this.uid} click.layer_${this.uid}`)}},[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Triangle");return t.openBlock(),t.createBlock(t.Transition,{name:s.animation||"mvi-layer",onBeforeEnter:l.beforeEnter,onEnter:l.enter,onAfterEnter:l.afterEnter,onLeave:l.leave,onBeforeLeave:l.beforeLeave,onAfterLeave:l.afterLeave},{default:t.withCtx((()=>[n.firstShow?t.withDirectives((t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["mvi-layer",s.fixed?"fixed":""]),style:t.normalizeStyle(l.layerStyle)},[t.createElementVNode("div",{class:t.normalizeClass(l.wrapperCls),style:t.normalizeStyle(l.wrapperStyle)},[s.showTriangle?(t.openBlock(),t.createBlock(r,{key:0,ref:"triangle",class:"mvi-layer-triangle",placement:l.trianglePlacement,background:s.background,"border-color":s.border&&s.borderColor?s.borderColor:s.background,size:"0.14rem"},null,8,["placement","background","border-color"])):t.createCommentVNode("",!0),t.renderSlot(e.$slots,"default",{},void 0,!0)],6)],6)),[[t.vShow,n.layerShow]]):t.createCommentVNode("",!0)])),_:3},8,["name","onBeforeEnter","onEnter","onAfterEnter","onLeave","onBeforeLeave","onAfterLeave"])}],["__scopeId","data-v-68b82631"]]);Cs.install=e=>{e.component(Cs.name,Cs)};const Es={name:"m-tooltip",data:()=>({show:!1}),props:{title:{type:String,default:""},placement:{type:String,default:"bottom"},disabled:{type:Boolean,default:!1},timeout:{type:Number,default:200},borderColor:{type:String,default:"#333"},color:{type:String,default:"#333"},textColor:{type:String,default:"#fff"},trigger:{type:String,default:"click",validator:e=>["hover","click","custom"].includes(e)},offset:{type:String,default:"0.1rem"},zIndex:{type:Number,default:20},fixed:{type:Boolean,default:!1},fixedAuto:{type:Boolean,default:!1},width:{type:String,default:null},animation:{type:String,default:null},showTriangle:{type:Boolean,default:!0},block:{type:Boolean,default:!1}},computed:{contentStyle(){let e={};return this.textColor&&(e.color=this.textColor),this.width&&(e.whiteSpace="normal"),e}},components:{Layer:Cs},setup:()=>({uid:t.getCurrentInstance().uid}),methods:{hoverShowTooltip(){"hover"==this.trigger&&this.showTooltip()},hoverHideToolTip(){"hover"==this.trigger&&this.hideTooltip()},clickShowTooltip(){"click"===this.trigger&&(this.show?this.hideTooltip():this.showTooltip())},showTooltip(){this.disabled||(this.show=!0)},hideTooltip(){this.disabled||(this.show=!1)}}},xs=["data-id"],$s=["data-id"],Ss=["textContent"];const Ts=S(Es,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Layer");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-tooltip",s.block?"block":""]),"data-id":"mvi-tooltip-"+o.uid},[t.createElementVNode("div",{onClick:i[0]||(i[0]=(...e)=>l.clickShowTooltip&&l.clickShowTooltip(...e)),onMouseenter:i[1]||(i[1]=(...e)=>l.hoverShowTooltip&&l.hoverShowTooltip(...e)),onMouseleave:i[2]||(i[2]=(...e)=>l.hoverHideToolTip&&l.hoverHideToolTip(...e)),class:"mvi-tooltip-toggle",ref:"toggle","data-id":"mvi-tooltip-target-"+o.uid},[t.renderSlot(e.$slots,"default",{},void 0,!0)],40,$s),t.createVNode(r,{modelValue:n.show,"onUpdate:modelValue":i[3]||(i[3]=e=>n.show=e),offset:s.offset,background:s.color,border:"","border-color":s.borderColor,closable:"","show-triangle":s.showTriangle,"z-index":s.zIndex,target:`[data-id='mvi-tooltip-target-${o.uid}']`,root:`[data-id='mvi-tooltip-${o.uid}']`,placement:s.placement,fixed:s.fixed,"fixed-auto":s.fixedAuto,width:s.width,timeout:s.timeout,animation:s.animation||"mvi-tooltip",shadow:!1},{default:t.withCtx((()=>[t.createElementVNode("div",{class:"mvi-tooltip-content",ref:"content",style:t.normalizeStyle(l.contentStyle)},[e.$slots.title?t.renderSlot(e.$slots,"title",{key:0},void 0,!0):(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(s.title)},null,8,Ss))],4)])),_:3},8,["modelValue","offset","background","border-color","show-triangle","z-index","target","root","placement","fixed","fixed-auto","width","timeout","animation"])],10,xs)}],["__scopeId","data-v-acd39211"]]);Ts.install=e=>{e.component(Ts.name,Ts)};const Bs={name:"m-table",emits:["check","sort-cancel","sort-asc","sort-desc"],props:{data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},border:{type:Boolean,default:!1},columnBorder:{type:Boolean,default:!1},stripe:{type:Boolean,default:!1},height:{type:String,default:null},noDataMsg:{type:String,default:"暂无数据"},loading:{type:Boolean,default:!1},loadText:{type:String,default:"正在加载中..."},center:{type:Boolean,default:!1},cellClass:{type:Function},activeColor:{type:String,default:null}},data:()=>({columnAlignKey:0,rowData:[],columnData:[],scrollWidth:0,headerColumnRefs:[],sortBy:"",sortOrder:"",checkedRows:[],selectAll:!1}),computed:{headerColumnClass(){let e=[];return this.columnBorder&&e.push("border"),e},headerColumnStyle:()=>e=>({width:e.width||"auto"}),bodyColumnClass(){return(e,t,i,s)=>{let o=[];return this.columnBorder&&o.push("border"),i.className&&o.push(i.className),"function"==typeof this.cellClass&&o.push(this.cellClass.apply(this,[e,t,i,s])||""),o}},bodyColumnStyle(){return(e,t)=>(this.columnAlignKey,{width:this.headerColumnRefs[t]?u.element.getCssStyle(this.headerColumnRefs[t],"width"):"0px"})},sortIconStyle(){return(e,t)=>{let i={};return this.sortBy==t.prop&&this.sortOrder==e&&(i.color=this.activeColor||""),i}},dataFormat(){return(e,t)=>"function"==typeof t.format?t.format.apply(this,[e[t.prop],e,t]):e[t.prop]+""},cmpSelectable(){return(e,t,i)=>"function"!=typeof i.selectable||i.selectable.apply(this,[e,t])},tooltipTitle(){return(e,t)=>u.element.string2dom(`<div>${this.dataFormat(e,t)}</div>`).innerText}},components:{Loading:Ee,Icon:T,Checkbox:pe,Tooltip:Ts},watch:{data:{immediate:!0,handler:function(e){this.rowData=this.deepClone(e),this.$nextTick((()=>{this.scrollWidth=this.getScrollWidth(),this.$nextTick((()=>{this.columnAlignKey++}))}))}},columns:{immediate:!0,handler:function(e){this.columnData=this.deepClone(e).filter((e=>!e.hidden))}},height:{immediate:!0,handler:function(){this.$nextTick((()=>{this.scrollWidth=this.getScrollWidth(),this.$nextTick((()=>{this.columnAlignKey++}))}))}}},setup:()=>({uid:t.getCurrentInstance().uid}),mounted(){this.columnAlignKey++,u.event.on(window,`resize.table_${this.uid}`,(e=>{this.columnAlignKey++}))},methods:{doCheck(e,t){this.checkedRows.length==this.rowData.filter(((e,i)=>this.cmpSelectable(e,i,t))).length?this.selectAll=!0:this.selectAll=!1,this.$emit("check",this.checkedRows,e)},allSelect(e){if(this.selectAll){this.checkedRows=[];for(let t=0;t<this.rowData.length;t++)this.cmpSelectable(this.rowData[t],t,e)&&this.checkedRows.push(t)}else this.checkedRows=[];this.$emit("check",this.checkedRows)},sortAsc(e){this.sortBy==e.prop&&"asc"==this.sortOrder?(this.sortBy="",this.sortOrder="","function"==typeof e.sortMethod?e.sortMethod.apply(this,["",this.rowData]):(this.rowData=this.deepClone(this.data),this.$emit("sort-cancel",this.rowData))):(this.sortBy=e.prop,this.sortOrder="asc","function"==typeof e.sortMethod?e.sortMethod.apply(this,["asc",this.rowData]):(this.rowData=this.rowData.sort((function(t,i){return u.number.isNumber(t[e.prop])&&u.number.isNumber(i[e.prop])?t[e.prop]-i[e.prop]:t[e.prop].toString().localeCompare(i[e.prop].toString(),"zh-CN")})),this.$emit("sort-asc",this.rowData)))},sortDesc(e){this.sortBy==e.prop&&"desc"==this.sortOrder?(this.sortBy="",this.sortOrder="","function"==typeof e.sortMethod?e.sortMethod.apply(this,["",this.rowData]):(this.rowData=this.deepClone(this.data),this.$emit("sort-cancel",this.rowData))):(this.sortBy=e.prop,this.sortOrder="desc","function"==typeof e.sortMethod?e.sortMethod.apply(this,["desc",this.rowData]):(this.rowData=this.rowData.sort((function(t,i){return u.number.isNumber(t[e.prop])&&u.number.isNumber(i[e.prop])?i[e.prop]-t[e.prop]:-t[e.prop].toString().localeCompare(i[e.prop].toString(),"zh-CN")})),this.$emit("sort-desc",this.rowData)))},getScrollWidth(){return this.$refs.body.offsetWidth-this.$refs.body.clientWidth},deepClone(e){if(Array.isArray(e))return e.map((e=>this.deepClone(e)));if(u.common.isObject(e)){let t={};for(let i in e)t[i]=this.deepClone(e[i]);return t}return e}},beforeUnmount(){u.event.off(window,`resize.table_${this.uid}`)}},Is={class:"mvi-table-header"},Ps={cellpadding:"0",cellspacing:"0"},Vs={ref:"headerRow"},zs={key:0,class:"mvi-table-sortable"},Ns={key:0,class:"mvi-table-loading"},_s={key:0,cellpadding:"0",cellspacing:"0"},Ds=["innerHTML"],Rs={key:1,class:"mvi-table-nodata"};const As=S(Bs,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Checkbox"),a=t.resolveComponent("Icon"),h=t.resolveComponent("Loading"),c=t.resolveComponent("Tooltip");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-table",s.border?"border":""])},[t.createElementVNode("div",Is,[t.createElementVNode("table",Ps,[t.createElementVNode("tr",Vs,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(n.columnData,((e,o)=>(t.openBlock(),t.createElementBlock("th",{ref_for:!0,ref:e=>n.headerColumnRefs[o]=e,class:t.normalizeClass(l.headerColumnClass),style:t.normalizeStyle(l.headerColumnStyle(e))},[t.createElementVNode("div",{class:t.normalizeClass(["mvi-table-column",s.center?"center":""])},["selection"==e.type?(t.openBlock(),t.createBlock(r,{key:0,modelValue:n.selectAll,"onUpdate:modelValue":i[0]||(i[0]=e=>n.selectAll=e),size:"0.24rem",onChange:t=>l.allSelect(e),color:s.activeColor},null,8,["modelValue","onChange","color"])):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.createElementVNode("span",null,t.toDisplayString(e.label),1),e.sortable?(t.openBlock(),t.createElementBlock("span",zs,[t.createVNode(a,{type:"caret-up",class:t.normalizeClass(n.sortBy==e.prop&&"asc"==n.sortOrder?"active":""),onClick:t=>l.sortAsc(e),style:t.normalizeStyle(l.sortIconStyle("asc",e))},null,8,["class","onClick","style"]),t.createVNode(a,{type:"caret-down",class:t.normalizeClass(n.sortBy==e.prop&&"desc"==n.sortOrder?"active":""),onClick:t=>l.sortDesc(e),style:t.normalizeStyle(l.sortIconStyle("desc",e))},null,8,["class","onClick","style"])])):t.createCommentVNode("",!0)],64))],2)],6)))),256)),n.scrollWidth?(t.openBlock(),t.createElementBlock("th",{key:0,class:"placeholder",style:t.normalizeStyle({width:n.scrollWidth+"px"})},null,4)):t.createCommentVNode("",!0)],512)])]),t.createElementVNode("div",{ref:"body",class:t.normalizeClass(["mvi-table-body",s.height?"overflow":""]),style:t.normalizeStyle({maxHeight:s.height})},[s.loading?(t.openBlock(),t.createElementBlock("div",Ns,[t.createVNode(h,{color:"#bbb",size:"0.3rem"}),t.createElementVNode("span",null,t.toDisplayString(s.loadText),1)])):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[n.rowData.length?(t.openBlock(),t.createElementBlock("table",_s,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(n.rowData,((o,a)=>(t.openBlock(),t.createElementBlock("tr",{class:t.normalizeClass(s.stripe?"stripe":"")},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(n.columnData,((h,d)=>(t.openBlock(),t.createElementBlock("td",{class:t.normalizeClass(l.bodyColumnClass(o,a,h,d)),style:t.normalizeStyle(l.bodyColumnStyle(h,d))},[t.createVNode(c,{disabled:!h.ellipsis,block:"",title:l.tooltipTitle(o,h),trigger:"hover",placement:s.center?"bottom":"bottom-start"},{default:t.withCtx((()=>[t.createElementVNode("div",{class:t.normalizeClass(["mvi-table-column",s.center?"center":""])},["selection"==h.type?(t.openBlock(),t.createBlock(r,{key:0,modelValue:n.checkedRows,"onUpdate:modelValue":i[1]||(i[1]=e=>n.checkedRows=e),value:a,size:"0.24rem",onChange:e=>l.doCheck(a,h),color:s.activeColor,disabled:!l.cmpSelectable(o,a,h)},null,8,["modelValue","value","onChange","color","disabled"])):(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass([h.ellipsis?"ellipsis":""])},["custom"==h.type&&e.$slots.custom?t.renderSlot(e.$slots,"custom",{key:0,row:o,rowIndex:a,column:h,columnIndex:d},void 0,!0):(t.openBlock(),t.createElementBlock("span",{key:1,innerHTML:l.dataFormat(o,h)},null,8,Ds))],2))],2)])),_:2},1032,["disabled","title","placement"])],6)))),256))],2)))),256))])):(t.openBlock(),t.createElementBlock("div",Rs,t.toDisplayString(s.noDataMsg),1))],64))],6)],2)}],["__scopeId","data-v-e391c497"]]);As.install=e=>{e.component(As.name,As)};const Os={name:"m-calendar",emits:["update:modelValue","date-click","month-click","year-click"],props:{modelValue:{type:Date,default:function(){return new Date}},view:{type:String,default:"date",validator:e=>["year","month","date"].includes(e)},monthText:{type:Array,default:function(){return["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},validator:e=>12==e.length&&e.every((e=>u.number.isNumber(e)||"string"==typeof e&&e))},weekText:{type:Array,default:function(){return["日","一","二","三","四","五","六"]},validator:e=>7==e.length&&e.every((e=>u.number.isNumber(e)||"string"==typeof e&&e))},startDate:{type:Date,default:function(){return Ce("1970-01-01").toDate()}},endDate:{type:Date,default:function(){return Ce("2099-01-01").toDate()}},nonCurrentClick:{type:Boolean,default:!1},active:{type:Boolean,default:!0},type:{type:String,default:"info",validator:e=>["info","primary","error","warn","success"].includes(e)}},computed:{years(){let e=[];const t=this.modelValue.getFullYear(),i=this.startDate.getFullYear();let s=Math.floor((t-i)/12);for(let o=i+12*s;o<i+12*s+12;o++)e.push(Ce(this.modelValue).year(o).toDate());return e},months(){let e=[];for(let t=0;t<12;t++)e.push(Ce(this.modelValue).month(t).toDate());return e},days(){let e=Ce(this.modelValue).daysInMonth(),t=[];for(let l=1;l<=e;l++)t.push({date:Ce(`${Ce(this.modelValue).format("YYYY-MM")}-${l<10?"0"+l:l}`).toDate(),nonCurrent:!1});const i=t[0].date;let s=i.getDay();for(let l=0;l<s;l++){let e=Ce(i).subtract(l+1,"day").toDate();t.unshift({date:e,nonCurrent:!0})}const o=t[t.length-1].date;let n=o.getDay();for(let l=0;l<6-n;l++){let e=Ce(o).add(l+1,"day").toDate();t.push({date:e,nonCurrent:!0})}return t},yearDisabled(){return e=>Ce(e).isBefore(Ce(this.startDate),"year")||Ce(e).isAfter(Ce(this.endDate),"year")},monthDisabled(){return e=>Ce(e).isBefore(Ce(this.startDate),"month")||Ce(e).isAfter(Ce(this.endDate),"month")},dateDisabled(){return e=>Ce(e.date).isBefore(Ce(this.startDate),"date")||Ce(e.date).isAfter(Ce(this.endDate),"date")},yearClass(){return e=>{let t=["mvi-calendar-year-item",this.type];return this.yearDisabled(e)||(this.active&&t.push("active"),Ce().isSame(Ce(e),"year")&&t.push("now"),Ce(this.modelValue).isSame(Ce(e),"year")&&t.push("current")),t}},monthClass(){return e=>{let t=["mvi-calendar-month-item",this.type];return this.monthDisabled(e)||(this.active&&t.push("active"),Ce().isSame(Ce(e),"month")&&t.push("now"),Ce(this.modelValue).isSame(Ce(e),"month")&&t.push("current")),t}},dateClass(){return e=>{let t=["mvi-calendar-date-item",this.type];return this.dateDisabled(e)||(e.nonCurrent?(t.push("none-current"),this.nonCurrentClick&&(t.push("allowed"),this.active&&t.push("active"))):(this.active&&t.push("active"),Ce().isSame(Ce(e.date),"date")&&t.push("now"),Ce(this.modelValue).isSame(Ce(e.date),"date")&&t.push("current"))),t}}},methods:{yearClick(e){this.yearDisabled(e)||(this.$emit("update:modelValue",e),this.$emit("year-click",e))},monthClick(e){this.monthDisabled(e)||(this.$emit("update:modelValue",e),this.$emit("month-click",e))},dateClick(e){this.dateDisabled(e)||e.nonCurrent&&!this.nonCurrentClick||(this.$emit("update:modelValue",e.date),this.$emit("date-click",e.date))}}},Ls={class:"mvi-calendar"},Ms={class:"mvi-calendar-years"},Ws={class:"mvi-calendar-year"},Hs=["disabled","onClick"],Fs={class:"mvi-calendar-months"},js={class:"mvi-calendar-month"},Ys=["disabled","onClick"],qs={key:2,class:"mvi-calendar-date"},Xs={class:"mvi-calendar-date-header"},Us={class:"mvi-calendar-date-header-item"},Ks={class:"mvi-calendar-date-body"},Gs={class:"mvi-calendar-date-row"},Zs={class:"mvi-calendar-date-column"},Js=["disabled","onClick"];const Qs=S(Os,[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createElementBlock("div",Ls,["year"==s.view?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(new Array(3),((e,i)=>(t.openBlock(),t.createElementBlock("div",Ms,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.years.slice(4*i,4*i+4),(e=>(t.openBlock(),t.createElementBlock("div",Ws,[t.createElementVNode("div",{class:t.normalizeClass(l.yearClass(e)),disabled:l.yearDisabled(e)||null,onClick:t=>l.yearClick(e)},t.toDisplayString(e.getFullYear()),11,Hs)])))),256))])))),256)):"month"==s.view?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:1},t.renderList(new Array(3),((e,i)=>(t.openBlock(),t.createElementBlock("div",Fs,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.months.slice(4*i,4*i+4),(e=>(t.openBlock(),t.createElementBlock("div",js,[t.createElementVNode("div",{class:t.normalizeClass(l.monthClass(e)),disabled:l.monthDisabled(e)||null,onClick:t=>l.monthClick(e)},t.toDisplayString(s.monthText[e.getMonth()]),11,Ys)])))),256))])))),256)):"date"==s.view?(t.openBlock(),t.createElementBlock("div",qs,[t.createElementVNode("div",Xs,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(s.weekText,(e=>(t.openBlock(),t.createElementBlock("div",Us,t.toDisplayString(e),1)))),256))]),t.createElementVNode("div",Ks,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(new Array(6),((e,i)=>(t.openBlock(),t.createElementBlock("div",Gs,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.days.slice(7*i,7*i+7),((e,i)=>(t.openBlock(),t.createElementBlock("div",Zs,[t.createElementVNode("div",{class:t.normalizeClass(l.dateClass(e)),disabled:l.dateDisabled(e)||null,onClick:t=>l.dateClick(e)},t.toDisplayString(e.date.getDate()),11,Js)])))),256))])))),256))])])):t.createCommentVNode("",!0)])}],["__scopeId","data-v-93022d3b"]]);Qs.install=e=>{e.component(Qs.name,Qs)};const eo={name:"m-color-picker",data:()=>({hsv:[0,0,0],opacity:1,updateByDrag:!1,dragging:!1,heightObj:null,dragObj:null}),emits:["update:modelValue","change"],components:{Slider:Yt},props:{modelValue:{type:String,default:"#ff0000"},showAlpha:{type:Boolean,default:!0}},computed:{panelStyle(){const e=u.color.hsv2rgb([this.hsv[0],100,100]);return{background:`rgb(${e[0]},${e[1]},${e[2]})`}},alphaTrackColor(){const e=u.color.hsv2rgb(this.hsv);return`linear-gradient(to right, transparent 0%, rgb(${e[0]}, ${e[1]}, ${e[2]}) 100%)`}},watch:{modelValue(){this.initHSV(),this.setSliderPlacement()}},created(){this.initHSV()},mounted(){this.setPanelHeight(),this.setPanelDrag(),this.setSliderPlacement()},methods:{initHSV(){if(!this.updateByDrag)if(this.modelValue&&u.common.matchingText(this.modelValue,"hex")){const e=u.color.hex2rgb(this.modelValue);this.hsv=u.color.rgb2hsv(e),this.opacity=1}else try{let e=this.modelValue.indexOf("("),t=this.modelValue.lastIndexOf(")"),i=this.modelValue.substring(e+1,t).split(",");if(i.length<3)throw new Error("Color values are not RGB (RGBA) format and hexadecimal format");const s=[Number(i[0]),Number(i[1]),Number(i[2])];this.hsv=u.color.rgb2hsv(s),this.opacity=4==i.length?Number(i[3]):1}catch(e){throw new Error("Color values are not RGB (RGBA) format and hexadecimal format")}},setPanelHeight(){this.heightObj||(this.heightObj=new b(this.$refs.panel,.7),this.heightObj.init())},setPanelDrag(){this.dragObj||(this.dragObj=new y(this.$refs.slider,{container:this.$refs.panel,mode:"on",draggableX:!0,draggableY:!0,cursor:!1,beforeDrag:()=>{this.updateByDrag=!0,this.dragging=!0},drag:()=>{const e=u.element.getElementPoint(this.$refs.slider,this.$refs.panel);this.hsv[1]=(e.left+this.$refs.slider.offsetWidth/2)/this.$refs.panel.offsetWidth*100,this.hsv[2]=100*(1-(e.top+this.$refs.slider.offsetHeight/2)/this.$refs.panel.offsetHeight),this.setValue()},dragged:()=>{this.updateByDrag=!1,this.$nextTick((()=>{setTimeout((()=>{this.dragging=!1}),10)}))}}),this.dragObj.init())},setSliderPlacement(){this.$refs.slider.style.left=this.hsv[1]/100*this.$refs.panel.offsetWidth-this.$refs.slider.offsetWidth/2+"px",this.$refs.slider.style.top=(1-this.hsv[2]/100)*this.$refs.panel.offsetHeight-this.$refs.slider.offsetHeight/2+"px"},setValue(){const e=u.color.hsv2rgb(this.hsv);if(1==this.opacity){const t=`rgb(${e[0]},${e[1]},${e[2]})`;this.$emit("update:modelValue",t),this.$emit("change",t)}else{const t=`rgba(${e[0]},${e[1]},${e[2]},${Number(this.opacity.toFixed(2))})`;this.$emit("update:modelValue",t),this.$emit("change",t)}},clickPanelSetColor(e){if(this.dragging)return;this.updateByDrag=!0,this.$refs.slider.style.left=e.offsetX-this.$refs.slider.offsetWidth/2+"px",this.$refs.slider.style.top=e.offsetY-this.$refs.slider.offsetHeight/2+"px";const t=u.element.getElementPoint(this.$refs.slider,this.$refs.panel);this.hsv[1]=(t.left+this.$refs.slider.offsetWidth/2)/this.$refs.panel.offsetWidth*100,this.hsv[2]=100*(1-(t.top+this.$refs.slider.offsetHeight/2)/this.$refs.panel.offsetHeight),this.setValue()}},beforeUnmount(){this.dragObj&&this.dragObj.destroy(),this.heightObj&&this.heightObj.destroy()}},to=e=>(t.pushScopeId("data-v-2743107c"),e=e(),t.popScopeId(),e),io={class:"mvi-color-picker"},so={class:"mvi-color-picker-panel-slider",ref:"slider"},oo=to((()=>t.createElementVNode("div",{class:"mvi-color-picker-slider"},null,-1))),no={key:0,class:"mvi-color-picker-alpha"},lo=to((()=>t.createElementVNode("div",{class:"mvi-color-picker-slider"},null,-1)));const ro=S(eo,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Slider");return t.openBlock(),t.createElementBlock("div",io,[t.createElementVNode("div",{class:"mvi-color-picker-panel",ref:"panel",style:t.normalizeStyle(l.panelStyle),onClick:i[0]||(i[0]=(...e)=>l.clickPanelSetColor&&l.clickPanelSetColor(...e))},[t.createElementVNode("div",so,null,512)],4),t.createVNode(r,{modelValue:n.hsv[0],"onUpdate:modelValue":i[1]||(i[1]=e=>n.hsv[0]=e),min:0,max:360,"stroke-width":"0.3rem",square:"","track-color":"linear-gradient(to right, #f00 0%, #ff0 16.66%, #0f0 33.33%, #0ff 50%, #00f 66.66%, #f0f 83.33%, #f00 100%)",color:"transparent",onChange:l.setValue},{button:t.withCtx((()=>[oo])),_:1},8,["modelValue","onChange"]),s.showAlpha?(t.openBlock(),t.createElementBlock("div",no,[t.createVNode(r,{modelValue:n.opacity,"onUpdate:modelValue":i[2]||(i[2]=e=>n.opacity=e),min:0,max:1,"stroke-width":"0.3rem",square:"","track-color":l.alphaTrackColor,color:"transparent",onChange:l.setValue},{button:t.withCtx((()=>[lo])),_:1},8,["modelValue","track-color","onChange"])])):t.createCommentVNode("",!0)])}],["__scopeId","data-v-2743107c"]]);ro.install=e=>{e.component(ro.name,ro)};const ao={name:"m-image-preview",data:()=>({firstShow:!1,enableTouch:!0,imageRefs:[]}),emits:["update:modelValue","change"],props:{modelValue:{type:Boolean,default:!1},images:{type:Array,default:function(){return[]}},descriptions:{type:Array,default:function(){return[]}},active:{type:Number,default:0},mountEl:{type:String,default:null},showPage:{type:Boolean,default:!0},zIndex:{type:Number,default:5e3},fade:{type:Boolean,default:!1},showControl:{type:Boolean,default:!1},usePadding:{type:Boolean,default:!1},errorIcon:{type:[String,Object],default:function(){return{size:"1rem"}}},loadIcon:{type:[String,Object],default:function(){return{size:"1rem"}}},useTools:{type:Boolean,default:!1},maxScale:{type:Number,default:3},minScale:{type:Number,default:.3}},computed:{$$el(){return this.$refs.overlay.$$el},show:{set(e){this.$emit("update:modelValue",e)},get(){return this.modelValue}}},components:{Overlay:re,Swiper:cs,SwiperSlide:ds,Icon:T,RichImage:S({name:"m-rich-image",data:()=>({isDoubleTouch:!1,touchDistance:0,scale:1,translateX:0,translateY:0,startX:0,startY:0,canMove:!1,downPoint:null,upPoint:null,isTriggerDouble:!1,timer:null,rotate:0}),props:{src:{type:String,default:""},loadIcon:{type:[String,Object],default:null},errorIcon:{type:[String,Object],default:null},maxScale:{type:Number,default:3},minScale:{type:Number,default:.3}},emits:["close-preview","disable-swiper-touch","enable-swiper-touch"],components:{Image:le},computed:{imgStyle(){return{transform:`scale(${this.scale}) translate(${this.translateX}px,${this.translateY}px) rotate(${this.rotate}deg)`}}},setup:()=>({uid:t.getCurrentInstance().uid}),mounted(){u.event.on(document.documentElement,`mousemove.richImage_${this.uid}`,this.imageMouseMove),u.event.on(document.documentElement,`mouseup.richImage_${this.uid}`,this.imageMouseUp)},methods:{leftRotate(){this.translateX=0,this.translateY=0,this.scale=1,this.rotate-=90},rightRotate(){this.translateX=0,this.translateY=0,this.scale=1,this.rotate+=90},scalePlus(){this.scale<this.maxScale&&(this.translateX=0,this.translateY=0,this.scale=u.number.add(this.scale,.1))},scaleMinus(){this.scale>this.minScale&&(this.translateX=0,this.translateY=0,this.scale=u.number.subtract(this.scale,.1))},scaleImageByWheel(e){e.cancelable&&e.preventDefault(),(e.wheelDeltaY||-e.deltaY)>0?this.scalePlus():this.scaleMinus()},scaleImageByTouch(e,t){if(0==e)this.isTriggerDouble=!1,2==t.touches.length?(this.disableSwiperTouch(),this.isDoubleTouch=!0,this.canMove=!1,this.touchDistance=this.getDistance(t.touches[0],t.touches[1])):(this.isDoubleTouch=!1,this.scale>1&&(this.disableSwiperTouch(),this.startX=t.targetTouches[0].pageX,this.startY=t.targetTouches[0].pageY,this.canMove=!0));else if(1==e)if(2==t.touches.length&&this.isDoubleTouch){t.cancelable&&t.preventDefault();let e=this.getDistance(t.touches[0],t.touches[1]);e<this.touchDistance?this.scale>this.minScale&&(this.translateX=0,this.translateY=0,this.scale=u.number.add(this.scale,u.number.divide(u.number.subtract(e,this.touchDistance),this.$el.offsetWidth))):this.scale<this.maxScale&&(this.translateX=0,this.translateY=0,this.scale=u.number.add(this.scale,u.number.divide(u.number.subtract(e,this.touchDistance),this.$el.offsetWidth))),this.touchDistance=e}else{t.cancelable&&t.preventDefault();let e=t.targetTouches[0].pageX,i=t.targetTouches[0].pageY;this.canMove&&this.imageTranslate(e,i)}else 2==e&&(this.isDoubleTouch?(this.scale<1&&this.doTransition((()=>{this.scale=1})),this.isTriggerDouble=!0,this.isDoubleTouch=!1,this.enableSwiperTouch()):this.canMove&&!this.isTriggerDouble&&this.imageTranslateEnd())},getDistance(e,t){let i=t.pageX-e.pageX,s=t.pageY-e.pageY;return Math.sqrt(i*i+s*s)},reset(){this.scale=1,this.translateX=0,this.translateY=0,this.rotate=0,this.enableSwiperTouch()},judgeClose(e,t){0==e?this.downPoint={x:t.pageX,y:t.pageY}:1==e&&(this.upPoint={x:t.pageX,y:t.pageY})},closePreview(){this.downPoint&&this.upPoint&&this.downPoint.x==this.upPoint.x&&this.downPoint.y==this.upPoint.y&&this.$emit("close-preview")},imageMouseDown(e){this.scale<=1||(this.disableSwiperTouch(),this.startX=e.pageX,this.startY=e.pageY,this.canMove=!0)},imageMouseMove(e){e.cancelable&&e.preventDefault();let t=e.pageX,i=e.pageY;this.canMove&&this.imageTranslate(t,i)},imageMouseUp(e){this.canMove&&this.imageTranslateEnd()},doTransition(e){this.$refs.img.$el.style.transition="transform 300ms",this.$refs.img.$el.style.webkitTransition="transform 300ms",this.$refs.img.$el.offsetWidth,e(),setTimeout((()=>{this.$refs.img.$el.style.transition="",this.$refs.img.$el.style.webkitTransition="",this.$refs.img.$el.offsetWidth}),300)},imageTranslate(e,t){let i=u.number.divide(e-this.startX,2),s=u.number.divide(t-this.startY,2);const o=u.element.getElementBounding(this.$refs.img.$el);i>0&&o.left>=0||i<0&&o.right>=0||s>0&&o.top>=0||s<0&&o.bottom>=0||(this.translateX=this.translateX+i,this.translateY=this.translateY+s,this.startX=e,this.startY=t)},imageTranslateEnd(){const e=u.element.getElementBounding(this.$refs.img.$el);e.left>0&&this.doTransition((()=>{this.translateX=this.translateX-e.left})),e.top>0&&this.doTransition((()=>{this.translateY=this.translateY-e.top})),e.right>0&&this.doTransition((()=>{this.translateX=this.translateX+e.right})),e.bottom>0&&this.doTransition((()=>{this.translateY=this.translateY+e.bottom})),this.canMove=!1,this.enableSwiperTouch()},disableSwiperTouch(){clearTimeout(this.timer),this.$emit("disable-swiper-touch")},enableSwiperTouch(){this.timer=setTimeout((()=>{this.$emit("enable-swiper-touch")}),100)}},beforeUnmount(){u.event.off(document.documentElement,`mousemove.richImage_${this.uid} mouseup.richImage_${this.uid}`)}},[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Image");return t.openBlock(),t.createElementBlock("div",{class:"mvi-rich-image",onMousewheel:i[0]||(i[0]=(...e)=>l.scaleImageByWheel&&l.scaleImageByWheel(...e)),onTouchstart:i[1]||(i[1]=e=>l.scaleImageByTouch(0,e)),onTouchmove:i[2]||(i[2]=e=>l.scaleImageByTouch(1,e)),onTouchend:i[3]||(i[3]=e=>l.scaleImageByTouch(2,e)),onMousedown:i[4]||(i[4]=e=>l.judgeClose(0,e)),onMouseup:i[5]||(i[5]=e=>l.judgeClose(1,e)),onClick:i[6]||(i[6]=(...e)=>l.closePreview&&l.closePreview(...e))},[t.createVNode(r,{ref:"img",fit:"response",onMousedown:l.imageMouseDown,style:t.normalizeStyle(l.imgStyle),width:"100%",height:"100%",src:s.src,"load-icon":s.loadIcon,"error-icon":s.errorIcon},null,8,["onMousedown","style","src","load-icon","error-icon"])],32)}],["__scopeId","data-v-a4afd322"]])},methods:{resetImage(e){this.imageRefs[e].reset()},plusImage(e){this.imageRefs[e].scalePlus()},minusImage(e){this.imageRefs[e].scaleMinus()},leftRotateImage(e){this.imageRefs[e].leftRotate()},rightRotateImage(e){this.imageRefs[e].rightRotate()},overlayShowing(){this.firstShow||(this.firstShow=!0)},closeOverlay(e){for(let t of this.imageRefs)t.reset();this.show=!1},swiperChange(e){for(let t of this.imageRefs)t.reset();this.$emit("change",e)}}},ho={key:0,class:"mvi-image-preview-page"},co={key:1},mo=["textContent"],uo=(e=>(t.pushScopeId("data-v-8c3f058a"),e=e(),t.popScopeId(),e))((()=>t.createElementVNode("span",null,"/",-1))),po=["textContent"],fo={key:1,class:"mvi-image-preview-footer"},go={key:0,class:"mvi-image-preview-tools"},yo=["textContent"];const bo=S(ao,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("RichImage"),a=t.resolveComponent("SwiperSlide"),h=t.resolveComponent("Icon"),c=t.resolveComponent("Swiper"),d=t.resolveComponent("Overlay");return t.openBlock(),t.createBlock(d,{ref:"overlay",modelValue:l.show,"onUpdate:modelValue":i[2]||(i[2]=e=>l.show=e),color:"#000",fade:!1,onShowing:l.overlayShowing,"z-index":s.zIndex,"use-padding":s.usePadding,mountEl:s.mountEl},{default:t.withCtx((()=>[n.firstShow?(t.openBlock(),t.createBlock(c,{key:0,class:"mvi-image-preview-swiper","initial-slide":s.active,"show-indicators":"",ref:"swiper",onChange:l.swiperChange,"show-control":s.showControl,fade:s.fade,touchable:n.enableTouch},{indicators:t.withCtx((i=>[s.showPage?(t.openBlock(),t.createElementBlock("div",ho,[e.$slots.page?t.renderSlot(e.$slots,"page",{key:0,total:i.total,current:i.active},void 0,!0):(t.openBlock(),t.createElementBlock("div",co,[t.createElementVNode("span",{textContent:t.toDisplayString(i.active+1)},null,8,mo),uo,t.createElementVNode("span",{textContent:t.toDisplayString(i.total)},null,8,po)]))])):t.createCommentVNode("",!0),s.useTools||e.$slots.descriptions||s.descriptions.length>0?(t.openBlock(),t.createElementBlock("div",fo,[s.useTools?(t.openBlock(),t.createElementBlock("div",go,[t.createVNode(h,{onClick:e=>l.plusImage(i.active),class:"mvi-image-preview-tools-icon",type:"search-plus-o"},null,8,["onClick"]),t.createVNode(h,{onClick:e=>l.minusImage(i.active),class:"mvi-image-preview-tools-icon",type:"search-minus-o"},null,8,["onClick"]),t.createVNode(h,{onClick:e=>l.resetImage(i.active),class:"mvi-image-preview-tools-icon",type:"double-circle"},null,8,["onClick"]),t.createVNode(h,{onClick:e=>l.leftRotateImage(i.active),class:"mvi-image-preview-tools-icon",type:"left-rotate"},null,8,["onClick"]),t.createVNode(h,{onClick:e=>l.rightRotateImage(i.active),class:"mvi-image-preview-tools-icon",type:"right-rotate"},null,8,["onClick"]),e.$slots.tools?t.renderSlot(e.$slots,"tools",{key:0},void 0,!0):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.$slots.descriptions||s.descriptions.length>0?(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(["mvi-image-preview-description",s.useTools?"mvi-image-preview-description-margin":""])},[e.$slots.descriptions?t.renderSlot(e.$slots,"descriptions",{key:0,total:i.total,current:i.active},void 0,!0):s.descriptions.length>0?(t.openBlock(),t.createElementBlock("div",{key:1,class:"mvi-image-preview-description-el",textContent:t.toDisplayString(s.descriptions[i.active])},null,8,yo)):t.createCommentVNode("",!0)],2)):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0)])),default:t.withCtx((()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(s.images,((e,o)=>(t.openBlock(),t.createBlock(a,{class:"mvi-preview-container"},{default:t.withCtx((()=>[t.createVNode(r,{ref_for:!0,ref:e=>n.imageRefs[o]=e,onClosePreview:l.closeOverlay,onDisableSwiperTouch:i[0]||(i[0]=e=>n.enableTouch=!1),onEnableSwiperTouch:i[1]||(i[1]=e=>n.enableTouch=!0),src:e,"error-icon":s.errorIcon,"load-icon":s.loadIcon,"max-scale":s.maxScale,"min-scale":s.minScale},null,8,["onClosePreview","src","error-icon","load-icon","max-scale","min-scale"])])),_:2},1024)))),256))])),_:3},8,["initial-slide","onChange","show-control","fade","touchable"])):t.createCommentVNode("",!0)])),_:3},8,["modelValue","onShowing","z-index","use-padding","mountEl"])}],["__scopeId","data-v-8c3f058a"]]);bo.install=e=>{e.component(bo.name,bo)};const vo={name:"m-page",data:()=>({el:null}),emits:["update:modelValue","change"],props:{modelValue:{type:Number,default:1},total:{type:Number,default:1},overNumber:{type:Number,default:3,validator:e=>e%2!=0},prevText:{type:String,default:null},nextText:{type:String,default:null},prevIcon:{type:[String,Object],default:"angle-left"},nextIcon:{type:[String,Object],default:"angle-right"},simple:{type:Boolean,default:!1},firstText:{type:String,default:null},lastText:{type:String,default:null},firstIcon:{type:[Object,String],default:"angle-double-left"},lastIcon:{type:[Object,String],default:"angle-double-right"},color:{type:String,default:null},active:{type:Boolean,default:!0}},computed:{pageStyle(){return e=>{let t={};return this.modelValue==e?(this.el&&(t.color=u.element.getCssStyle(this.el,"background-color")),t.backgroundColor=this.color||""):t.color=this.color||"",t}},arr(){let e=[];if(this.modelValue<=(this.overNumber-1)/2+1)for(let t=0;t<this.overNumber;t++)e.push(t+1);else if(this.modelValue<=this.total-(this.overNumber-1)/2){for(let t=0;t<(this.overNumber-1)/2;t++)e.push(this.modelValue-((this.overNumber-1)/2-t));e.push(this.modelValue);for(let t=0;t<(this.overNumber-1)/2;t++)e.push(this.modelValue+(t+1))}else for(let t=0;t<this.overNumber;t++)e.push(this.total-(this.overNumber-1-t));return e},parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},firstStyle(){let e={};return this.modelValue>1&&this.color&&(e.color=this.color),e},lastStyle(){let e={};return this.modelValue<this.total&&this.color&&(e.color=this.color),e}},components:{Icon:T},mounted(){this.el=this.$el},methods:{pagePrev(){if(1==this.modelValue)return;let e=this.modelValue-1;this.$emit("update:modelValue",e),this.$emit("change",e)},pageNext(){if(this.modelValue==this.total)return;let e=this.modelValue+1;this.$emit("update:modelValue",e),this.$emit("change",e)},pageFirst(){1!=this.modelValue&&(this.$emit("update:modelValue",1),this.$emit("change",1))},pageLast(){this.modelValue!=this.total&&(this.$emit("update:modelValue",this.total),this.$emit("change",this.total))},toPage(e){this.modelValue!=e&&(e>=this.total&&(e=this.total),e<=1&&(e=1),this.$emit("update:modelValue",e),this.$emit("change",e))}}},ko={class:"mvi-page"},wo=["disabled"],Co=["textContent"],Eo=["disabled"],xo=["textContent"],$o={class:"mvi-page-numbers"},So={key:0,class:"mvi-page-numbers-simple"},To={key:1,class:"mvi-page-numbers-items"},Bo=["textContent","onClick"],Io=["textContent","onClick"],Po=["disabled"],Vo=["textContent"],zo=["disabled"],No=["textContent"];const _o=S(vo,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",ko,[s.firstText||l.parseIcon(s.firstIcon).type||l.parseIcon(s.firstIcon).url?(t.openBlock(),t.createElementBlock("div",{key:0,disabled:1==s.modelValue||null,onClick:i[0]||(i[0]=(...e)=>l.pageFirst&&l.pageFirst(...e)),class:t.normalizeClass(["mvi-page-first",s.active&&1!=s.modelValue?"active":""]),style:t.normalizeStyle(l.firstStyle)},[l.parseIcon(s.firstIcon).type||l.parseIcon(s.firstIcon).url?(t.openBlock(),t.createBlock(r,{key:0,class:t.normalizeClass(s.firstText?"margin-right":""),type:l.parseIcon(s.firstIcon).type,url:l.parseIcon(s.firstIcon).url,spin:l.parseIcon(s.firstIcon).spin,size:l.parseIcon(s.firstIcon).size,color:l.parseIcon(s.firstIcon).color},null,8,["class","type","url","spin","size","color"])):t.createCommentVNode("",!0),s.firstText?(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(s.firstText)},null,8,Co)):t.createCommentVNode("",!0)],14,wo)):t.createCommentVNode("",!0),s.prevText||l.parseIcon(s.prevIcon).type||l.parseIcon(s.prevIcon).url?(t.openBlock(),t.createElementBlock("div",{key:1,disabled:1==s.modelValue||null,onClick:i[1]||(i[1]=(...e)=>l.pagePrev&&l.pagePrev(...e)),class:t.normalizeClass(["mvi-page-prev",s.active&&1!=s.modelValue?"active":""]),style:t.normalizeStyle(l.firstStyle)},[l.parseIcon(s.prevIcon).type||l.parseIcon(s.prevIcon).url?(t.openBlock(),t.createBlock(r,{key:0,class:t.normalizeClass(s.prevText?"margin-right":""),type:l.parseIcon(s.prevIcon).type,url:l.parseIcon(s.prevIcon).url,size:l.parseIcon(s.prevIcon).size,spin:l.parseIcon(s.prevIcon).spin,color:l.parseIcon(s.prevIcon).color},null,8,["class","type","url","size","spin","color"])):t.createCommentVNode("",!0),s.prevText?(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(s.prevText)},null,8,xo)):t.createCommentVNode("",!0)],14,Eo)):t.createCommentVNode("",!0),t.createElementVNode("div",$o,[s.simple?(t.openBlock(),t.createElementBlock("div",So,t.toDisplayString(s.modelValue)+" / "+t.toDisplayString(s.total),1)):(t.openBlock(),t.createElementBlock("div",To,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(s.total,(e=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[s.total<=s.overNumber?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["mvi-page-numbers-item",s.modelValue==e?"number-active":"",s.active&&s.modelValue!=e?"active":""]),textContent:t.toDisplayString(e),onClick:t=>l.toPage(e),style:t.normalizeStyle(l.pageStyle(e))},null,14,Bo)):t.createCommentVNode("",!0)],64)))),256)),s.total>s.overNumber&&s.modelValue>(s.overNumber-1)/2+1?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["mvi-page-numbers-item",s.active?"active":""]),onClick:i[2]||(i[2]=e=>l.toPage(s.modelValue-(s.overNumber-1))),style:t.normalizeStyle({color:s.color||""})},"...",6)):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.arr,(e=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[s.total>s.overNumber?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["mvi-page-numbers-item",s.modelValue==e?"number-active":"",s.active&&s.modelValue!=e?"active":""]),textContent:t.toDisplayString(e),onClick:t=>l.toPage(e),style:t.normalizeStyle(l.pageStyle(e))},null,14,Io)):t.createCommentVNode("",!0)],64)))),256)),s.total>s.overNumber&&s.modelValue<s.total-(s.overNumber-1)/2?(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(["mvi-page-numbers-item",s.active?"active":""]),onClick:i[3]||(i[3]=e=>l.toPage(s.modelValue+(s.overNumber-1))),style:t.normalizeStyle({color:s.color||""})},"...",6)):t.createCommentVNode("",!0)]))]),s.nextText||l.parseIcon(s.nextIcon).type||l.parseIcon(s.nextIcon).url?(t.openBlock(),t.createElementBlock("div",{key:2,disabled:s.modelValue==s.total||null,onClick:i[4]||(i[4]=(...e)=>l.pageNext&&l.pageNext(...e)),class:t.normalizeClass(["mvi-page-next",s.active&&s.modelValue!=s.total?"active":""]),style:t.normalizeStyle(l.lastStyle)},[s.nextText?(t.openBlock(),t.createElementBlock("span",{key:0,textContent:t.toDisplayString(s.nextText)},null,8,Vo)):t.createCommentVNode("",!0),l.parseIcon(s.nextIcon).type||l.parseIcon(s.nextIcon).url?(t.openBlock(),t.createBlock(r,{key:1,class:t.normalizeClass(s.nextText?"margin-left":""),type:l.parseIcon(s.nextIcon).type,url:l.parseIcon(s.nextIcon).url,size:l.parseIcon(s.nextIcon).size,spin:l.parseIcon(s.nextIcon).spin,color:l.parseIcon(s.nextIcon).color},null,8,["class","type","url","size","spin","color"])):t.createCommentVNode("",!0)],14,Po)):t.createCommentVNode("",!0),s.lastText||l.parseIcon(s.lastIcon).type||l.parseIcon(s.lastIcon).url?(t.openBlock(),t.createElementBlock("div",{key:3,disabled:s.modelValue==s.total||null,onClick:i[5]||(i[5]=(...e)=>l.pageLast&&l.pageLast(...e)),class:t.normalizeClass(["mvi-page-last",s.active&&s.modelValue!=s.total?"active":""]),style:t.normalizeStyle(l.lastStyle)},[s.lastText?(t.openBlock(),t.createElementBlock("span",{key:0,textContent:t.toDisplayString(s.lastText)},null,8,No)):t.createCommentVNode("",!0),l.parseIcon(s.lastIcon).type||l.parseIcon(s.lastIcon).url?(t.openBlock(),t.createBlock(r,{key:1,class:t.normalizeClass(s.lastText?"margin-left":""),type:l.parseIcon(s.lastIcon).type,url:l.parseIcon(s.lastIcon).url,size:l.parseIcon(s.lastIcon).size,spin:l.parseIcon(s.lastIcon).spin,color:l.parseIcon(s.lastIcon).color},null,8,["class","type","url","size","spin","color"])):t.createCommentVNode("",!0)],14,zo)):t.createCommentVNode("",!0)])}],["__scopeId","data-v-ffcb1a13"]]);_o.install=e=>{e.component(_o.name,_o)};const Do=S({name:"m-loading-bar",data:()=>({opacityTime:300,widthEnterTime:4e3,widthLeaveTime:2e3,timer:null,hasTriggerLeave:!1}),props:{color:{type:String,default:null},zIndex:{type:Number,default:null},__remove:{type:Function,default:function(){return function(){}}},__init:{type:Function,default:function(){return function(){}}}},computed:{cmpColor(){return"string"==typeof this.color&&this.color?this.color:null},cmpZIndex(){return u.number.isNumber(this.zIndex)?this.zIndex:null},barStyle(){let e={};return this.cmpColor&&(e.background=this.cmpColor),this.cmpZIndex&&(e.zIndex=this.cmpZIndex),e}},mounted(){this.__init(this),this.enter()},methods:{enter(){this.removeTransition(),this.$refs.bar.style.width=0,this.addTransition("enter"),this.$refs.bar.style.width=.9*window.innerWidth+"px",this.$refs.bar.style.opacity=1},leave(){this.hasTriggerLeave||(this.hasTriggerLeave=!0,this.addTransition("leave"),this.$refs.bar.style.width=window.innerWidth+"px",this.$refs.bar.style.opacity=0,this.timer=setTimeout((()=>{this.__remove()}),this.widthLeaveTime+this.opacityTime))},addTransition(e){"enter"==e?(this.$refs.bar.style.transition=`opacity ${this.opacityTime}ms linear, width ${this.widthEnterTime}ms ease-out`,this.$refs.bar.style.webkitTransition=`opacity ${this.opacityTime}ms linear, width ${this.widthEnterTime}ms ease-out`):"leave"==e&&(this.$refs.bar.style.transition=`opacity ${this.opacityTime}ms ${this.widthLeaveTime}ms linear, width ${this.widthLeaveTime}ms ease`,this.$refs.bar.style.webkitTransition=`opacity ${this.opacityTime}ms ${this.widthLeaveTime}ms linear, width ${this.widthLeaveTime}ms ease`),this.$refs.bar.offsetWidth},removeTransition(){this.$refs.bar.style.transition="",this.$refs.bar.style.webkitTransition="",this.$refs.bar.offsetWidth}},beforeUnmount(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[t.createElementVNode("div",{class:"mvi-loading-bar",ref:"bar",style:t.normalizeStyle(l.barStyle)},null,4)])}],["__scopeId","data-v-efd41e28"]]),Ro={initParams:e=>{let t={};return u.common.isObject(e)?(t.color=e.color,t.zIndex=e.zIndex):"string"==typeof e&&(t.color=e),t},showLoadingBar:e=>new Promise(((i,s)=>{Ro.$el&&Ro.$instance&&(Ro.$instance.unmount(),Ro.$el.remove());let o=Ro.initParams(e),n=u.element.string2dom("<div></div>");document.body.appendChild(n);const l=t.createApp(Do,{...o,__init:e=>{Ro.$vm=e},__remove:()=>{l.unmount(),n.remove(),i()}});l.mount(n),Ro.$el=n,Ro.$instance=l})),hideLoadingBar:()=>{Ro.$vm&&Ro.$vm.leave()},install:e=>{e.config.globalProperties.$showLoadingBar=Ro.showLoadingBar,e.provide("$showLoadingBar",Ro.showLoadingBar),e.config.globalProperties.$hideLoadingBar=Ro.hideLoadingBar,e.provide("$hideLoadingBar",Ro.hideLoadingBar)}},Ao={name:"m-list",emits:["load","update:loading","update:error"],data:()=>({scrollObj:null}),props:{loading:{type:Boolean,default:!1},error:{type:Boolean,default:!1},finished:{type:Boolean,default:!1},loadingText:{type:String,default:"正在加载"},errorText:{type:String,default:"数据加载失败"},finishedText:{type:String,default:"没有更多了"},immediateLoad:{type:Boolean,default:!1},content:{type:String,default:"点我加载更多"},scrollEl:{type:String,default:null}},mounted(){this.initScroll(),this.immediateLoad&&this.doLoad()},methods:{initScroll(){const e=document.body.querySelector(this.scrollEl);e&&(this.scrollObj||(this.scrollObj=new v(e,{bottom:()=>{this.finished||this.loading||this.error||this.doLoad()}}),this.scrollObj.init()))},doLoad(){this.finished||(this.$emit("update:loading",!0),this.$emit("update:error",!1),this.$emit("load"))}}},Oo={class:"mvi-list"},Lo={key:0,class:"mvi-list-finished"},Mo={key:1},Wo={key:1,class:"mvi-list-loading"},Ho={key:1},Fo={key:1},jo={key:1};const Yo=S(Ao,[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createElementBlock("div",Oo,[t.renderSlot(e.$slots,"default",{},void 0,!0),s.finished?(t.openBlock(),t.createElementBlock("div",Lo,[e.$slots.finished?t.renderSlot(e.$slots,"finished",{key:0},void 0,!0):(t.openBlock(),t.createElementBlock("span",Mo,t.toDisplayString(s.finishedText),1))])):s.loading?(t.openBlock(),t.createElementBlock("div",Wo,[e.$slots.loading?t.renderSlot(e.$slots,"loading",{key:0},void 0,!0):(t.openBlock(),t.createElementBlock("span",Ho,t.toDisplayString(s.loadingText),1))])):s.error?(t.openBlock(),t.createElementBlock("div",{key:2,onClick:i[0]||(i[0]=(...e)=>l.doLoad&&l.doLoad(...e)),class:"mvi-list-error"},[e.$slots.error?t.renderSlot(e.$slots,"error",{key:0},void 0,!0):(t.openBlock(),t.createElementBlock("span",Fo,t.toDisplayString(s.errorText),1))])):s.content||e.$slots.content?(t.openBlock(),t.createElementBlock("div",{key:3,onClick:i[1]||(i[1]=(...e)=>l.doLoad&&l.doLoad(...e)),class:"mvi-list-content"},[e.$slots.content?t.renderSlot(e.$slots,"content",{key:0},void 0,!0):(t.openBlock(),t.createElementBlock("span",jo,t.toDisplayString(s.content),1))])):t.createCommentVNode("",!0)])}],["__scopeId","data-v-72b97f74"]]);Yo.install=e=>{e.component(Yo.name,Yo)};const qo={name:"m-skeleton",props:{loading:{type:Boolean,default:!0},rows:{type:Number,default:1,validator:e=>e>0},rowWidth:{type:[String,Array],default:null},avatar:{type:Boolean,default:!1},title:{type:Boolean,default:!1},titleWidth:{type:String,default:null},animation:{type:Boolean,default:!1},round:{type:Boolean,default:!1},avatarSize:{type:String,default:null},avatarRound:{type:Boolean,default:!1}},computed:{avatarStyle(){let e={};return this.avatarSize&&(e.width=this.avatarSize,e.height=this.avatarSize),e},rowStyle(){return e=>{let t={};return this.rowWidth&&"string"==typeof this.rowWidth?t.width=this.rowWidth:Array.isArray(this.rowWidth)&&(t.width=this.rowWidth[e]||""),t}},titleStyle(){let e={};return this.titleWidth&&(e.width=this.titleWidth),e},rowsArray(){let e=[];for(let t=0;t<this.rows;t++)e.push(t);return e}}},Xo={class:"mvi-skeleton-container"},Uo={key:0,class:"mvi-skeleton-avatar"},Ko={class:"mvi-skeleton-rows"};const Go=S(qo,[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createElementBlock("div",Xo,[s.loading?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["mvi-skeleton",s.animation?"animation":""])},[s.avatar?(t.openBlock(),t.createElementBlock("div",Uo,[t.createElementVNode("div",{class:t.normalizeClass(["mvi-skeleton-avatar-el",s.avatarRound?"round":""]),style:t.normalizeStyle(l.avatarStyle)},null,6)])):t.createCommentVNode("",!0),t.createElementVNode("div",Ko,[s.title?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["mvi-skeleton-title",s.round?"round":""]),style:t.normalizeStyle(l.titleStyle)},null,6)):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.rowsArray,(e=>(t.openBlock(),t.createElementBlock("div",{style:t.normalizeStyle(l.rowStyle(e)),class:t.normalizeClass(["mvi-skeleton-row",s.round?"round":""])},null,6)))),256))])],2)):t.renderSlot(e.$slots,"default",{key:1},void 0,!0)])}],["__scopeId","data-v-3e02f14d"]]);Go.install=e=>{e.component(Go.name,Go)};const Zo=S({name:"m-sign",props:{color:{type:String,default:"#505050"},background:{type:String,default:"#fff"},width:{type:Number,default:.05}},data:()=>({drawing:!1,inCanvas:!1}),setup:()=>({uid:t.getCurrentInstance().uid}),mounted(){this.init()},watch:{background(){this.clear()}},methods:{init(){this.$el.setAttribute("width",u.element.getCssStyle(this.$el,"width")),this.$el.setAttribute("height",u.element.getCssStyle(this.$el,"height")),this.clear(),u.event.on(document.documentElement,`mousemove.sign_${this.uid}`,this.canvasMouseMove),u.event.on(document.documentElement,`mouseup.sign_${this.uid}`,this.canvasMouseUp)},canvasMouseDown(e){this.drawing=!0,this.inCanvas=!0;const t=this.$el.getContext("2d"),i=u.element.getElementBounding(this.$el);t.beginPath(),t.moveTo(e.pageX-i.left,e.pageY-i.top)},canvasMouseMove(e){if(this.drawing&&this.inCanvas){const t=this.$el.getContext("2d"),i=u.element.getElementBounding(this.$el);t.lineTo(e.pageX-i.left,e.pageY-i.top),t.strokeStyle=this.color,t.lineWidth=u.element.rem2px(this.width),t.stroke()}},canvasMouseUp(e){this.drawing=!1;this.$el.getContext("2d").closePath()},canvasMouseEnter(e){if(this.drawing){this.inCanvas=!0;const t=this.$el.getContext("2d"),i=u.element.getElementBounding(this.$el);t.beginPath(),t.moveTo(e.pageX-i.left,e.pageY-i.top)}},canvasMouseLeave(e){if(this.drawing){this.$el.getContext("2d").closePath(),this.inCanvas=!1}},canvasTouchStart(e){const t=this.$el.getContext("2d"),i=u.element.getElementBounding(this.$el);t.beginPath(),t.moveTo(e.targetTouches[0].pageX-i.left,e.targetTouches[0].pageY-i.top)},canvasTouchMove(e){e.cancelable&&e.preventDefault();const t=this.$el.getContext("2d"),i=u.element.getElementBounding(this.$el);t.lineTo(e.targetTouches[0].pageX-i.left,e.targetTouches[0].pageY-i.top),t.strokeStyle=this.color,t.lineWidth=u.element.rem2px(this.width),t.stroke()},canvasTouchEnd(e){this.$el.getContext("2d").closePath()},clear(){const e=this.$el.getContext("2d");e.beginPath(),e.clearRect(0,0,this.$el.width,this.$el.height),e.rect(0,0,this.$el.width,this.$el.height),e.fillStyle=this.background,e.fill(),e.closePath()},getImage(){return this.$el.toDataURL("image/png")}},beforeUnmount(){u.event.off(document.documentElement,`mousemove.sign_${this.uid} mouseup.sign_${this.uid}`)}},[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createElementBlock("canvas",{class:"mvi-sign",onMousedown:i[0]||(i[0]=(...e)=>l.canvasMouseDown&&l.canvasMouseDown(...e)),onTouchstart:i[1]||(i[1]=(...e)=>l.canvasTouchStart&&l.canvasTouchStart(...e)),onTouchmove:i[2]||(i[2]=(...e)=>l.canvasTouchMove&&l.canvasTouchMove(...e)),onTouchend:i[3]||(i[3]=(...e)=>l.canvasTouchEnd&&l.canvasTouchEnd(...e)),onMouseleave:i[4]||(i[4]=(...e)=>l.canvasMouseLeave&&l.canvasMouseLeave(...e)),onMouseenter:i[5]||(i[5]=(...e)=>l.canvasMouseEnter&&l.canvasMouseEnter(...e))},null,32)}],["__scopeId","data-v-e343f79d"]]);Zo.install=e=>{e.component(Zo.name,Zo)};const Jo={name:"m-select",emits:["update:modelValue","change","clear"],data:()=>({hover:!1,focus:!1,target:null}),props:{modelValue:{type:[Object,Number,String,Array],default:null},options:{type:Array,default:[]},placeholder:{type:String,default:""},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},layerProps:{type:Object,default:function(){return{}}},height:{type:String,default:null},activeType:{type:String,default:"info",validator:e=>["info","success","warn","primary","error"].includes(e)},activeColor:{type:String,default:null,validator:e=>u.common.matchingText(e,"hex")},disabled:{type:Boolean,default:!1},icon:{type:String,default:"caret-down"},name:{type:String,default:null},round:{type:Boolean,default:!1},square:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},filterMethod:{type:Function,default:null},showSelected:{type:Boolean,default:!0},selectedIcon:{type:[String,Object],default:"success"},clearable:{type:Boolean,default:!1},props:{type:Object,default:function(){return{label:"label",value:"value"}}}},setup:()=>({uid:t.getCurrentInstance().uid}),computed:{formData(){return this.multiple&&Array.isArray(this.modelValue)?this.modelValue.join(","):this.modelValue},menuStyle(){let e={};return this.height&&(e.maxHeight=this.height),e},selectClass(){let e=["mvi-select",this.size];return this.round?e.push("round"):this.square&&e.push("square"),e},targetClass(){let e=["mvi-select-target"];return this.activeType&&!this.activeColor&&this.focus&&e.push(this.activeType),e},targetStyle(){let e={};if(this.activeColor&&this.focus){e.borderColor=this.activeColor;const t=u.color.hex2rgb(this.activeColor);e.boxShadow=`0 0 0.16rem rgba(${t[0]},${t[1]},${t[2]},0.5)`}return e},iconClass(){let e=["mvi-select-icon"];return this.focus&&e.push("active"),e},selectLabel(){if(this.multiple){let e=[];return this.options.forEach(((t,i)=>{if(Array.isArray(this.modelValue)){this.modelValue.some((e=>u.common.equal(e,t[this.props.value])))&&e.push(t[this.props.label])}})),"function"==typeof this.filterMethod?this.filterMethod(e):e.join(" ")}{let e="";return this.options.forEach(((t,i)=>{u.common.equal(this.modelValue,t[this.props.value])&&(e=t[this.props.label])})),"function"==typeof this.filterMethod?this.filterMethod(e):e}},isSelect(){return e=>{if(this.multiple){let t=this.modelValue.some((t=>u.common.equal(t,e[this.props.value])));return this.showSelected&&t}return!1}},parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},showClearIcon(){return this.multiple?!(0==this.modelValue.length||!this.hover):!(""===this.modelValue||null===this.modelValue||void 0===this.modelValue||!this.hover)},layerRealProps(){return{placement:this.layerProps.placement?this.layerProps.placement:"bottom-start",fixed:"boolean"==typeof this.layerProps.fixed&&this.layerProps.fixed,fixedAuto:"boolean"==typeof this.layerProps.fixedAuto&&this.layerProps.fixedAuto,width:this.layerProps.width,zIndex:u.number.isNumber(this.layerProps.zIndex)?this.layerProps.zIndex:400,offset:this.layerProps.offset?this.layerProps.offset:"0.1rem",animation:this.layerProps.animation,timeout:u.number.isNumber(this.layerProps.timeout)?this.layerProps.timeout:200,showTriangle:"boolean"==typeof this.layerProps.showTriangle&&this.layerProps.showTriangle,shadow:"boolean"!=typeof this.layerProps.shadow||this.layerProps.shadow,border:"boolean"==typeof this.layerProps.border&&this.layerProps.border,borderColor:this.layerProps.borderColor}}},components:{Layer:Cs,Icon:T},methods:{doClear(e){e.stopPropagation(),this.disabled||this.clearable&&(this.focus&&(this.focus=!1),this.multiple?(this.$emit("update:modelValue",[]),this.$emit("clear",[])):(this.$emit("update:modelValue",null),this.$emit("clear",null)))},layerShow(){this.layerRealProps.width||(this.$refs.menu.style.width=this.$refs.target.offsetWidth+"px")},optionClick(e){if(!this.disabled&&!e.disabled){if(this.multiple){let t=this.modelValue;if(!Array.isArray(t))throw new TypeError("modelValue should be an array");t.some((t=>u.common.equal(t,e[this.props.value])))?t=t.filter((t=>!u.common.equal(t,e[this.props.value]))):t.push(e[this.props.value]),this.$emit("update:modelValue",t),this.$emit("change",this.options.filter((e=>t.some((t=>u.common.equal(e[this.props.value],t))))))}else this.$emit("update:modelValue",e[this.props.value]),this.$emit("change",e);this.trigger()}},trigger(){this.disabled||(this.focus=!this.focus)}}},Qo=["data-id","disabled"],en=["data-id"],tn=["data-placeholder","innerHTML"],sn=["onClick","disabled"],on=["innerHTML"],nn=["value","name"];const ln=S(Jo,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon"),a=t.resolveComponent("Layer");return t.openBlock(),t.createElementBlock("div",{"data-id":"mvi-select-"+o.uid,class:t.normalizeClass(l.selectClass),disabled:s.disabled||null},[t.createElementVNode("div",{onMouseenter:i[0]||(i[0]=e=>n.hover=!0),onMouseleave:i[1]||(i[1]=e=>n.hover=!1),"data-id":"mvi-select-target-"+o.uid,class:t.normalizeClass(l.targetClass),style:t.normalizeStyle(l.targetStyle),ref:"target",onClick:i[2]||(i[2]=(...e)=>l.trigger&&l.trigger(...e))},[t.createElementVNode("span",{class:t.normalizeClass(["mvi-select-label",l.selectLabel?"":"placeholder"]),"data-placeholder":s.placeholder,innerHTML:l.selectLabel},null,10,tn),s.clearable?t.withDirectives((t.openBlock(),t.createBlock(r,{key:0,onClick:l.doClear,class:"mvi-clear-icon",type:"times-o"},null,8,["onClick"])),[[t.vShow,l.showClearIcon]]):t.createCommentVNode("",!0),t.withDirectives(t.createVNode(r,{class:t.normalizeClass(l.iconClass),type:s.icon},null,8,["class","type"]),[[t.vShow,!s.clearable||!l.showClearIcon]])],46,en),t.createVNode(a,{modelValue:n.focus,"onUpdate:modelValue":i[3]||(i[3]=e=>n.focus=e),target:`[data-id='mvi-select-target-${o.uid}']`,root:`[data-id='mvi-select-${o.uid}']`,placement:l.layerRealProps.placement,offset:l.layerRealProps.offset,fixed:l.layerRealProps.fixed,"fixed-auto":l.layerRealProps.fixedAuto,"z-index":l.layerRealProps.zIndex,closable:"","show-triangle":l.layerRealProps.showTriangle,animation:l.layerRealProps.animation,timeout:l.layerRealProps.timeout,shadow:l.layerRealProps.shadow,border:l.layerRealProps.border,"border-color":l.layerRealProps.borderColor,width:l.layerRealProps.width,onShowing:l.layerShow,ref:"layer"},{default:t.withCtx((()=>[t.createElementVNode("div",{class:"mvi-select-menu",ref:"menu",style:t.normalizeStyle(l.menuStyle)},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(s.options,(e=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-option",s.size]),onClick:t=>l.optionClick(e),disabled:e.disabled||null},[t.createElementVNode("div",{class:"mvi-option-value",innerHTML:e[s.props.label]},null,8,on),l.isSelect(e)?(t.openBlock(),t.createBlock(r,{key:0,type:l.parseIcon(s.selectedIcon).type,spin:l.parseIcon(s.selectedIcon).spin,size:l.parseIcon(s.selectedIcon).size,url:l.parseIcon(s.selectedIcon).url,color:l.parseIcon(s.selectedIcon).color},null,8,["type","spin","size","url","color"])):t.createCommentVNode("",!0)],10,sn)))),256))],4)])),_:1},8,["modelValue","target","root","placement","offset","fixed","fixed-auto","z-index","show-triangle","animation","timeout","shadow","border","border-color","width","onShowing"]),t.createElementVNode("input",{type:"hidden",value:l.formData,name:s.name},null,8,nn)],10,Qo)}],["__scopeId","data-v-b3f0d00d"]]);ln.install=e=>{e.component(ln.name,ln)};const rn={name:"m-autocomplete",data:()=>({focus:!1}),emits:["update:modelValue","focus","blur","input","left-click","right-click","select","clear"],props:{modelValue:{type:String,default:""},placeholder:{type:String,default:""},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},list:{type:Array,default:function(){return[]}},activeType:{type:String,default:"info",validator:e=>["info","success","warn","error","primary"].includes(e)},activeColor:{type:String,default:null,validator:e=>u.common.matchingText(e,"hex")},filterMethod:{type:[Function,Boolean],default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},layerProps:{type:Object,default:function(){return{}}},height:{type:String,default:null},name:{type:String,default:null},leftIcon:{type:[String,Object],default:null},rightIcon:{type:[String,Object],default:null},round:{type:Boolean,default:!1},square:{type:Boolean,default:!1},align:{type:String,default:"left",validator:e=>["left","right","center"].includes(e)}},components:{Icon:T,Layer:Cs},setup:()=>({uid:t.getCurrentInstance().uid}),computed:{show(){return this.focus&&0!=this.cmpFilter.length},parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},showClearIcon(){return!this.disabled&&!(!this.realValue||!this.focus)},clearStyle(){let e={};return(this.parseIcon(this.rightIcon).type||this.parseIcon(this.rightIcon).url)&&(e.borderRadius=0),e},menuStyle(){let e={};return this.height&&(e.maxHeight=this.height),e},cmpFilter(){return"function"==typeof this.filterMethod?this.filterMethod(this.realValue,this.list):this.filterMethod?this.defaultFilter():this.list},inputStyle(){let e={};return(this.parseIcon(this.leftIcon).type||this.parseIcon(this.leftIcon).url)&&(e.paddingLeft=0),(this.showClearIcon&&this.clearable||this.parseIcon(this.rightIcon).type||this.parseIcon(this.rightIcon).url)&&(e.paddingRight=0),this.align&&(e.textAlign=this.align),e},autocompleteClass(){let e=["mvi-autocomplete",this.size];return this.round?e.push("round"):this.square&&e.push("square"),e},targetStyle(){let e={};if(this.activeColor&&this.focus){e.borderColor=this.activeColor;const t=u.color.hex2rgb(this.activeColor);e.boxShadow=`0 0 0.16rem rgba(${t[0]},${t[1]},${t[2]},0.5)`}return e},targetClass(){let e=["mvi-autocomplete-target"];return this.activeType&&!this.activeColor&&this.focus&&e.push(this.activeType),e},realValue:{set(e){this.modelValue!==e&&this.$emit("update:modelValue",e)},get(){return this.modelValue}},layerRealProps(){return{placement:this.layerProps.placement?this.layerProps.placement:"bottom-start",fixed:"boolean"==typeof this.layerProps.fixed&&this.layerProps.fixed,fixedAuto:"boolean"==typeof this.layerProps.fixedAuto&&this.layerProps.fixedAuto,width:this.layerProps.width,zIndex:u.number.isNumber(this.layerProps.zIndex)?this.layerProps.zIndex:400,offset:this.layerProps.offset?this.layerProps.offset:"0.1rem",animation:this.layerProps.animation,timeout:u.number.isNumber(this.layerProps.timeout)?this.layerProps.timeout:200,showTriangle:"boolean"==typeof this.layerProps.showTriangle&&this.layerProps.showTriangle,shadow:"boolean"!=typeof this.layerProps.shadow||this.layerProps.shadow,border:"boolean"==typeof this.layerProps.border&&this.layerProps.border,borderColor:this.layerProps.borderColor}}},methods:{layerShow(){this.layerRealProps.width||(this.$refs.menu.style.width=this.$refs.target.offsetWidth+"px")},rightClick(e){this.disabled||this.$emit("right-click",this.realValue)},leftClick(e){this.disabled||this.$emit("left-click",this.realValue)},input(){this.disabled||(this.focus=!0,this.$refs.layer.reset(),this.$emit("input",this.realValue))},inputBlur(){this.disabled||setTimeout((()=>{this.focus=!1,this.$emit("blur",this.realValue)}),100)},inputFocus(){this.disabled||(this.focus=!0,this.$emit("focus",this.realValue))},doClear(){this.disabled||this.clearable&&setTimeout((()=>{this.realValue="",this.$emit("clear",""),this.$refs.input.focus()}),110)},doSelect(e){this.disabled||(this.realValue=e,this.$emit("select",e),this.focus=!1)},defaultFilter(){return this.list.filter((e=>String(e).toLocaleLowerCase().includes(this.realValue.toLocaleLowerCase())))}}},an=["data-id","disabled"],hn=["data-id"],cn=["placeholder","name","disabled"],dn=["textContent","onClick"];const mn=S(rn,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon"),a=t.resolveComponent("Layer");return t.openBlock(),t.createElementBlock("div",{"data-id":"mvi-autocomplete-"+o.uid,class:t.normalizeClass(l.autocompleteClass),disabled:s.disabled||null},[t.createElementVNode("div",{class:t.normalizeClass(l.targetClass),style:t.normalizeStyle(l.targetStyle),"data-id":"mvi-autocomplete-target-"+o.uid,ref:"target"},[l.parseIcon(s.leftIcon).type||l.parseIcon(s.leftIcon).url?(t.openBlock(),t.createElementBlock("div",{key:0,onClick:i[0]||(i[0]=(...e)=>l.leftClick&&l.leftClick(...e)),class:"mvi-autocomplete-left-icon"},[t.createVNode(r,{type:l.parseIcon(s.leftIcon).type,url:l.parseIcon(s.leftIcon).url,spin:l.parseIcon(s.leftIcon).spin,size:l.parseIcon(s.leftIcon).size,color:l.parseIcon(s.leftIcon).color},null,8,["type","url","spin","size","color"])])):t.createCommentVNode("",!0),t.withDirectives(t.createElementVNode("input",{ref:"input",onInput:i[1]||(i[1]=(...e)=>l.input&&l.input(...e)),"onUpdate:modelValue":i[2]||(i[2]=e=>l.realValue=e),type:"text",placeholder:s.placeholder,style:t.normalizeStyle(l.inputStyle),name:s.name,onFocus:i[3]||(i[3]=(...e)=>l.inputFocus&&l.inputFocus(...e)),onBlur:i[4]||(i[4]=(...e)=>l.inputBlur&&l.inputBlur(...e)),disabled:s.disabled||null,autocomplete:"off"},null,44,cn),[[t.vModelText,l.realValue]]),s.clearable?t.withDirectives((t.openBlock(),t.createElementBlock("div",{key:1,onClick:i[5]||(i[5]=(...e)=>l.doClear&&l.doClear(...e)),class:"mvi-autocomplete-clear",style:t.normalizeStyle(l.clearStyle)},[t.createVNode(r,{type:"times-o"})],4)),[[t.vShow,l.showClearIcon]]):t.createCommentVNode("",!0),l.parseIcon(s.rightIcon).type||l.parseIcon(s.rightIcon).url?(t.openBlock(),t.createElementBlock("div",{key:2,class:"mvi-autocomplete-right-icon",onClick:i[6]||(i[6]=(...e)=>l.rightClick&&l.rightClick(...e))},[t.createVNode(r,{type:l.parseIcon(s.rightIcon).type,url:l.parseIcon(s.rightIcon).url,spin:l.parseIcon(s.rightIcon).spin,size:l.parseIcon(s.rightIcon).size,color:l.parseIcon(s.rightIcon).color},null,8,["type","url","spin","size","color"])])):t.createCommentVNode("",!0)],14,hn),t.createVNode(a,{"model-value":l.show,target:`[data-id='mvi-autocomplete-target-${o.uid}']`,root:`[data-id='mvi-autocomplete-${o.uid}']`,placement:l.layerRealProps.placement,offset:l.layerRealProps.offset,fixed:l.layerRealProps.fixed,"z-index":l.layerRealProps.zIndex,"fixed-auto":l.layerRealProps.fixedAuto,ref:"layer",animation:l.layerRealProps.animation,shadow:l.layerRealProps.shadow,border:l.layerRealProps.border,timeout:l.layerRealProps.timeout,closable:!1,"show-triangle":l.layerRealProps.showTriangle,"border-color":l.layerRealProps.borderColor,width:l.layerRealProps.width,onShowing:l.layerShow},{default:t.withCtx((()=>[t.createElementVNode("div",{class:"mvi-autocomplete-menu",style:t.normalizeStyle(l.menuStyle),ref:"menu"},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.cmpFilter,(e=>(t.openBlock(),t.createElementBlock("div",{class:"mvi-autocomplete-list",textContent:t.toDisplayString(e),onClick:t=>l.doSelect(e)},null,8,dn)))),256))],4)])),_:1},8,["model-value","target","root","placement","offset","fixed","z-index","fixed-auto","animation","shadow","border","timeout","show-triangle","border-color","width","onShowing"])],10,an)}],["__scopeId","data-v-2944b7f3"]]);mn.install=e=>{e.component(mn.name,mn)};const un={name:"m-date-chooser",data:()=>({show:!1,view:"date",selectedDate:new Date}),emits:["update:modelValue","change"],props:{modelValue:{type:Date,default:function(){return new Date}},disabled:{type:Boolean,default:!1},layerProps:{type:Object,default:function(){return{}}},closable:{type:Boolean,default:!0},trigger:{type:String,default:"click",validator:e=>["hover","click","custom"].includes(e)},mode:{type:String,default:"date",validator:e=>["year","month","date"].includes(e)},monthText:{type:Array,default:function(){return["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]}},weekText:{type:Array,default:function(){return["日","一","二","三","四","五","六"]}},startDate:{type:Date,default:function(){return Ce("1970-01-01").toDate()}},endDate:{type:Date,default:function(){return Ce("2099-01-01").toDate()}},active:{type:Boolean,default:!0},type:{type:String,default:"info",validator:e=>["info","primary","error","warn","success"].includes(e)},block:{type:Boolean,default:!1},headerFormatter:{type:Function}},setup:()=>({uid:t.getCurrentInstance().uid}),computed:{layerRealProps(){return{placement:this.layerProps.placement?this.layerProps.placement:"bottom-start",fixed:"boolean"==typeof this.layerProps.fixed&&this.layerProps.fixed,fixedAuto:"boolean"==typeof this.layerProps.fixedAuto&&this.layerProps.fixedAuto,width:this.layerProps.width,zIndex:u.number.isNumber(this.layerProps.zIndex)?this.layerProps.zIndex:400,offset:this.layerProps.offset?this.layerProps.offset:"0.2rem",animation:this.layerProps.animation,timeout:u.number.isNumber(this.layerProps.timeout)?this.layerProps.timeout:200,showTriangle:"boolean"==typeof this.layerProps.showTriangle&&this.layerProps.showTriangle,shadow:"boolean"!=typeof this.layerProps.shadow||this.layerProps.shadow,border:"boolean"==typeof this.layerProps.border&&this.layerProps.border,borderColor:this.layerProps.borderColor}},years(){let e=[];const t=this.selectedDate.getFullYear(),i=this.startDate.getFullYear();let s=Math.floor((t-i)/12);for(let o=i+12*s;o<i+12*s+12;o++)e.push(Ce(this.modelValue).year(o).toDate());return e},formatShow(){return(e,t)=>{if("function"==typeof this.headerFormatter){if("year"==e)return this.headerFormatter.apply(this,[e,t.getFullYear()]);if("month"==e)return this.headerFormatter.apply(this,[e,t.getMonth()+1])}return"year"==e?Ce(t).format("YYYY")+"年":"month"==e?Ce(t).format("MM")+"月":void 0}}},components:{Layer:Cs,Icon:T,Calendar:Qs},created(){this.view=this.mode,this.selectedDate=this.modelValue},mounted(){"hover"==this.trigger&&(u.event.on(this.$el,"mouseenter.dateChooser",this.openCalendar),u.event.on(this.$el,"mouseleave.dateChooser",this.closeCalendar))},methods:{layerShow(){this.layerRealProps.width||(this.$refs.panel.style.width=this.$refs.target.offsetWidth+"px")},clickCalendar(){this.disabled||"click"==this.trigger&&(this.show?this.closeCalendar():this.openCalendar())},dateClick(e){this.$emit("update:modelValue",e),this.$emit("change",e),this.show=!1},yearClick(e){if("year"==this.mode)return this.$emit("update:modelValue",e),this.$emit("change",e),void(this.show=!1);setTimeout((()=>{this.view="month"}),0)},monthClick(e){if("month"==this.mode)return this.$emit("update:modelValue",e),this.$emit("change",e),void(this.show=!1);setTimeout((()=>{this.view="date"}),0)},updateYear(e){this.selectedDate=Ce(this.selectedDate).add(e,"year").toDate(),this.$emit("update:modelValue",this.selectedDate),this.$emit("change",this.selectedDate)},updateMonth(e){this.selectedDate=Ce(this.selectedDate).add(e,"month").toDate(),this.$emit("update:modelValue",this.selectedDate),this.$emit("change",this.selectedDate)},goYear(){setTimeout((()=>{this.view="year"}),0)},goMonth(){setTimeout((()=>{this.view="month"}),0)},openCalendar(){this.disabled||(this.show=!0)},closeCalendar(){this.disabled||(this.show=!1)}},beforeUnmount(){"hover"==this.trigger&&u.event.off(this.$el,"mouseenter.dateChooser mouseleave.dateChooser")}},pn=["data-id"],fn=["data-id"],gn={class:"mvi-date-chooser-layer",ref:"panel"},yn={key:0,class:"mvi-date-chooser-year-header"},bn={class:"mvi-date-chooser-year-center"},vn=(e=>(t.pushScopeId("data-v-fb236e1d"),e=e(),t.popScopeId(),e))((()=>t.createElementVNode("span",null,"-",-1))),kn={key:1,class:"mvi-date-chooser-month-header"},wn={key:2,class:"mvi-date-chooser-date-header"},Cn={class:"mvi-date-chooser-date-left"},En={class:"mvi-date-chooser-date-center"},xn={class:"mvi-date-chooser-date-right"};const $n=S(un,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon"),a=t.resolveComponent("Calendar"),h=t.resolveComponent("Layer");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-date-chooser",s.block?"block":""]),"data-id":`mvi-date-chooser-${o.uid}`},[t.createElementVNode("div",{class:"mvi-date-chooser-target","data-id":`mvi-date-chooser-target-${o.uid}`,ref:"target",onClick:i[0]||(i[0]=(...e)=>l.clickCalendar&&l.clickCalendar(...e))},[t.renderSlot(e.$slots,"default",{},void 0,!0)],8,fn),t.createVNode(h,{target:`[data-id='mvi-date-chooser-target-${o.uid}']`,root:`[data-id='mvi-date-chooser-${o.uid}']`,modelValue:n.show,"onUpdate:modelValue":i[13]||(i[13]=e=>n.show=e),placement:l.layerRealProps.placement,fixed:l.layerRealProps.fixed,"fixed-auto":l.layerRealProps.fixedAuto,offset:l.layerRealProps.offset,"z-index":l.layerRealProps.zIndex,shadow:l.layerRealProps.shadow,border:l.layerRealProps.border,animation:l.layerRealProps.animation,"border-color":l.layerRealProps.borderColor,timeout:l.layerRealProps.timeout,closable:s.closable,"show-triangle":l.layerRealProps.showTriangle,width:l.layerRealProps.width,onShowing:l.layerShow},{default:t.withCtx((()=>[t.createElementVNode("div",gn,["year"==n.view?(t.openBlock(),t.createElementBlock("div",yn,[t.createElementVNode("div",{class:t.normalizeClass(["mvi-date-chooser-year-left",s.type]),onClick:i[1]||(i[1]=e=>l.updateYear(-1))},[t.createVNode(r,{type:"angle-double-left"})],2),t.createElementVNode("div",bn,[t.createElementVNode("span",null,t.toDisplayString(l.formatShow("year",l.years[0])),1),vn,t.createElementVNode("span",null,t.toDisplayString(l.formatShow("year",l.years[l.years.length-1])),1)]),t.createElementVNode("div",{class:t.normalizeClass(["mvi-date-chooser-year-right",s.type]),onClick:i[2]||(i[2]=e=>l.updateYear(1))},[t.createVNode(r,{type:"angle-double-right"})],2)])):"month"==n.view?(t.openBlock(),t.createElementBlock("div",kn,[t.createElementVNode("div",{class:t.normalizeClass(["mvi-date-chooser-month-left",s.type]),onClick:i[3]||(i[3]=e=>l.updateYear(-1))},[t.createVNode(r,{type:"angle-double-left"})],2),t.createElementVNode("div",{class:t.normalizeClass(["mvi-date-chooser-month-center",s.type]),onClick:i[4]||(i[4]=(...e)=>l.goYear&&l.goYear(...e))},t.toDisplayString(l.formatShow("year",n.selectedDate)),3),t.createElementVNode("div",{class:t.normalizeClass(["mvi-date-chooser-month-right",s.type]),onClick:i[5]||(i[5]=e=>l.updateYear(1))},[t.createVNode(r,{type:"angle-double-right"})],2)])):"date"==n.view?(t.openBlock(),t.createElementBlock("div",wn,[t.createElementVNode("div",Cn,[t.createElementVNode("div",{class:t.normalizeClass(s.type),onClick:i[6]||(i[6]=e=>l.updateYear(-1))},[t.createVNode(r,{type:"angle-double-left"})],2),t.createElementVNode("div",{class:t.normalizeClass(s.type),onClick:i[7]||(i[7]=e=>l.updateMonth(-1))},[t.createVNode(r,{type:"angle-left"})],2)]),t.createElementVNode("div",En,[t.createElementVNode("div",{class:t.normalizeClass(s.type),onClick:i[8]||(i[8]=(...e)=>l.goYear&&l.goYear(...e))},t.toDisplayString(l.formatShow("year",n.selectedDate)),3),t.createElementVNode("div",{class:t.normalizeClass(s.type),onClick:i[9]||(i[9]=(...e)=>l.goMonth&&l.goMonth(...e))},t.toDisplayString(l.formatShow("month",n.selectedDate)),3)]),t.createElementVNode("div",xn,[t.createElementVNode("div",{class:t.normalizeClass(s.type),onClick:i[10]||(i[10]=e=>l.updateMonth(1))},[t.createVNode(r,{type:"angle-right"})],2),t.createElementVNode("div",{class:t.normalizeClass(s.type),onClick:i[11]||(i[11]=e=>l.updateYear(1))},[t.createVNode(r,{type:"angle-double-right"})],2)])])):t.createCommentVNode("",!0),t.createVNode(a,{view:n.view,modelValue:n.selectedDate,"onUpdate:modelValue":i[12]||(i[12]=e=>n.selectedDate=e),"month-text":s.monthText,"week-text":s.weekText,"start-date":s.startDate,"end-year":s.endDate,"non-current-click":!1,active:s.active,type:s.type,onDateClick:l.dateClick,onMonthClick:l.monthClick,onYearClick:l.yearClick,ref:"calendar"},null,8,["view","modelValue","month-text","week-text","start-date","end-year","active","type","onDateClick","onMonthClick","onYearClick"])],512)])),_:1},8,["target","root","modelValue","placement","fixed","fixed-auto","offset","z-index","shadow","border","animation","border-color","timeout","closable","show-triangle","width","onShowing"])],10,pn)}],["__scopeId","data-v-fb236e1d"]]);$n.install=e=>{e.component($n.name,$n)};const Sn={name:"m-field",emits:["update:modelValue","prepend-click","prefix-click","append-click","suffix-click","focus","blur","input","clear"],data:()=>({focus:!1}),props:{modelValue:{type:[String,Number],default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},placeholder:{type:String,default:""},type:{type:String,default:"text",validator:e=>["text","password","number","tel","textarea"].includes(e)},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},maxlength:{type:Number,default:-1},round:{type:Boolean,default:!1},square:{type:Boolean,default:!1},prefix:{type:[String,Object],default:null},suffix:{type:[String,Object],default:null},prepend:{type:[String,Object],default:null},append:{type:[String,Object],default:null},activeType:{type:String,default:"info",validator:e=>["info","success","warn","primary","error"].includes(e)},activeColor:{type:String,default:null,validator:e=>u.common.matchingText(e,"hex")},clearable:{type:Boolean,default:!1},align:{type:String,default:"left",validator:e=>["left","center","right"].includes(e)},name:{type:String,default:null},autofocus:{type:Boolean,default:!1},inputMode:{type:[String,Boolean],default:!1,validator:e=>[!1,"none","text","decimal","numeric","tel","search","email","url"].includes(e)},rows:{type:Number,default:1},autosize:{type:[Boolean,Object],default:!1}},computed:{parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},showClear(){return!this.disabled&&!this.readonly&&!(!this.realValue||!this.focus)},clearStyle(){return{borderRadius:this.showSuffix?0:"",paddingRight:this.showSuffix?0:""}},inputStyle(){return{paddingLeft:this.showPrefix?0:"",paddingRight:this.showSuffix?0:"",textAlign:this.align?this.align:""}},fieldBodyStyle(){let e={};if(this.focus&&this.activeColor){e.borderColor=this.activeColor;const t=u.color.hex2rgb(this.activeColor);e.boxShadow=`0 0 0.16rem rgba(${t[0]},${t[1]},${t[2]},0.5)`}return e},fieldBodyClass(){let e=["mvi-field-body"];return this.showPrepend&&e.push("left-none-radius"),this.showAppend&&e.push("right-none-radius"),!this.activeColor&&this.activeType&&this.focus&&e.push(this.activeType),e},fieldClass(){let e=["mvi-field",this.size];return"textarea"==this.type||(this.round?e.push("round"):this.square&&e.push("square")),e},cmpType(){return"number"==this.type?"text":this.type},rowsFilter(){let e=this.rows;return u.common.isObject(this.autosize)&&(u.number.isNumber(this.autosize.minRows)&&this.rows<this.autosize.minRows&&(e=this.autosize.minRows),u.number.isNumber(this.autosize.maxRows)&&this.rows>this.autosize.maxRows&&(e=this.autosize.maxRows)),e},realValue:{set(e){this.modelValue!==e&&this.$emit("update:modelValue",e)},get(){let e=null===this.modelValue?"":this.modelValue.toString();return"number"==this.type&&(e=e.replace(/\D/g,"")),this.maxlength>0&&e.length>this.maxlength&&(e=e.substr(0,this.maxlength)),this.modelValue!==e&&this.$emit("update:modelValue",e),e}},showPrepend(){return"textarea"!=this.type&&(this.parseIcon(this.prepend).type||this.parseIcon(this.prepend).url||this.$slots.prepend)},showPrefix(){return"textarea"!=this.type&&(this.parseIcon(this.prefix).type||this.parseIcon(this.prefix).url||this.$slots.prefix)},showSuffix(){return"textarea"!=this.type&&(this.parseIcon(this.suffix).type||this.parseIcon(this.suffix).url||this.$slots.suffix)},showPrepend(){return"textarea"!=this.type&&(this.parseIcon(this.prepend).type||this.parseIcon(this.prepend).url||this.$slots.prepend)},showAppend(){return"textarea"!=this.type&&(this.parseIcon(this.append).type||this.parseIcon(this.append).url||this.$slots.append)}},components:{Icon:T},watch:{realValue(){this.$nextTick((()=>{this.$refs.textarea&&(1==this.autosize||u.common.isObject(this.autosize))&&this.autosizeSet()}))},rows(){this.$nextTick((()=>{this.$refs.textarea&&this.setMaxMinHeight()}))},autosize(){this.$nextTick((()=>{this.$refs.textarea&&this.setMaxMinHeight()}))}},mounted(){this.$refs.textarea&&(this.setMaxMinHeight(),(1==this.autosize||u.common.isObject(this.autosize))&&this.autosizeSet())},methods:{autosizeSet(){this.$refs.textarea.style.overflow="hidden",this.$refs.textarea.style.height="auto",this.$refs.textarea.scrollTop=0,this.$refs.textarea.style.height=u.element.getScrollHeight(this.$refs.textarea)+"px"},rows2Height(e){return e*Math.floor(parseFloat(u.element.getCssStyle(this.$refs.textarea,"line-height")))},setMaxMinHeight(){if(u.common.isObject(this.autosize)){if(u.number.isNumber(this.autosize.maxRows)){let e=this.rows2Height(this.autosize.maxRows)+parseFloat(u.element.getCssStyle(this.$refs.textarea,"padding-top"))+parseFloat(u.element.getCssStyle(this.$refs.textarea,"padding-bottom"));this.$refs.textarea.style.maxHeight=e+"px"}if(u.number.isNumber(this.autosize.minRows)){let e=this.rows2Height(this.autosize.minRows)+parseFloat(u.element.getCssStyle(this.$refs.textarea,"padding-top"))+parseFloat(u.element.getCssStyle(this.$refs.textarea,"padding-bottom"));this.$refs.textarea.style.minHeight=e+"px"}}else this.$refs.textarea.style.maxHeight="",this.$refs.textarea.style.minHeight=""},inputFocus(){this.disabled||(this.focus=!0,this.$emit("focus",this.realValue))},inputBlur(){this.disabled||setTimeout((()=>{this.focus=!1,this.$emit("blur",this.realValue)}),100)},input(){this.disabled||this.$emit("input",this.realValue)},prependClick(){this.disabled||this.$emit("prepend-click",this.realValue)},prefixClick(){this.disabled||this.$emit("prefix-click",this.realValue)},appendClick(){this.disabled||this.$emit("append-click",this.realValue)},suffixClick(){this.disabled||this.$emit("suffix-click",this.realValue)},doClear(){this.disabled||this.clearable&&setTimeout((()=>{this.realValue="",(this.$refs.input||this.$refs.textarea).focus(),this.$emit("clear",this.realValue)}),110)}}},Tn=["disabled","data-type"],Bn=["disabled","readonly","placeholder","maxlength","name","autofocus","rows"],In=["disabled","readonly","type","placeholder","inputmode","maxlength","name","autofocus"];const Pn=S(Sn,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(l.fieldClass),disabled:s.disabled||null,"data-type":s.type},[l.showPrepend?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-field-prepend",onClick:i[0]||(i[0]=(...e)=>l.prependClick&&l.prependClick(...e))},[e.$slots.prepend?t.renderSlot(e.$slots,"prepend",{key:0},void 0,!0):(t.openBlock(),t.createBlock(r,{key:1,type:l.parseIcon(this.prepend).type,url:l.parseIcon(this.prepend).url,spin:l.parseIcon(this.prepend).spin,size:l.parseIcon(this.prepend).size,color:l.parseIcon(this.prepend).color},null,8,["type","url","spin","size","color"]))])):t.createCommentVNode("",!0),t.createElementVNode("div",{class:t.normalizeClass(l.fieldBodyClass),style:t.normalizeStyle(l.fieldBodyStyle)},[l.showPrefix?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-field-prefix",onClick:i[1]||(i[1]=(...e)=>l.prefixClick&&l.prefixClick(...e))},[e.$slots.prefix?t.renderSlot(e.$slots,"prefix",{key:0},void 0,!0):(t.openBlock(),t.createBlock(r,{key:1,type:l.parseIcon(this.prefix).type,url:l.parseIcon(this.prefix).url,spin:l.parseIcon(this.prefix).spin,size:l.parseIcon(this.prefix).size,color:l.parseIcon(this.prefix).color},null,8,["type","url","spin","size","color"]))])):t.createCommentVNode("",!0),"textarea"==s.type?t.withDirectives((t.openBlock(),t.createElementBlock("textarea",{key:1,ref:"textarea",disabled:s.disabled||null,readonly:s.readonly||null,class:"mvi-field-input",style:t.normalizeStyle(l.inputStyle),placeholder:s.placeholder,"onUpdate:modelValue":i[2]||(i[2]=e=>l.realValue=e),autocomplete:"off",onFocus:i[3]||(i[3]=(...e)=>l.inputFocus&&l.inputFocus(...e)),onBlur:i[4]||(i[4]=(...e)=>l.inputBlur&&l.inputBlur(...e)),maxlength:s.maxlength,name:s.name,autofocus:s.autofocus,rows:l.rowsFilter,onInput:i[5]||(i[5]=(...e)=>l.input&&l.input(...e))},null,44,Bn)),[[t.vModelText,l.realValue]]):t.withDirectives((t.openBlock(),t.createElementBlock("input",{key:2,ref:"input",disabled:s.disabled||null,readonly:s.readonly||null,class:"mvi-field-input",style:t.normalizeStyle(l.inputStyle),type:l.cmpType,placeholder:s.placeholder,"onUpdate:modelValue":i[6]||(i[6]=e=>l.realValue=e),autocomplete:"off",inputmode:s.inputMode,onFocus:i[7]||(i[7]=(...e)=>l.inputFocus&&l.inputFocus(...e)),onBlur:i[8]||(i[8]=(...e)=>l.inputBlur&&l.inputBlur(...e)),maxlength:s.maxlength,name:s.name,autofocus:s.autofocus,onInput:i[9]||(i[9]=(...e)=>l.input&&l.input(...e))},null,44,In)),[[t.vModelDynamic,l.realValue]]),s.clearable&&"textarea"!=s.type?t.withDirectives((t.openBlock(),t.createElementBlock("div",{key:3,class:"mvi-field-clear",style:t.normalizeStyle(l.clearStyle),onClick:i[10]||(i[10]=(...e)=>l.doClear&&l.doClear(...e))},[t.createVNode(r,{type:"times-o"})],4)),[[t.vShow,l.showClear]]):t.createCommentVNode("",!0),l.showSuffix?(t.openBlock(),t.createElementBlock("div",{key:4,class:"mvi-field-suffix",onClick:i[11]||(i[11]=(...e)=>l.suffixClick&&l.suffixClick(...e))},[e.$slots.suffix?t.renderSlot(e.$slots,"suffix",{key:0},void 0,!0):(t.openBlock(),t.createBlock(r,{key:1,type:l.parseIcon(this.suffix).type,url:l.parseIcon(this.suffix).url,spin:l.parseIcon(this.suffix).spin,size:l.parseIcon(this.suffix).size,color:l.parseIcon(this.suffix).color},null,8,["type","url","spin","size","color"]))])):t.createCommentVNode("",!0)],6),l.showAppend?(t.openBlock(),t.createElementBlock("div",{key:1,class:"mvi-field-append",onClick:i[12]||(i[12]=(...e)=>l.appendClick&&l.appendClick(...e))},[e.$slots.append?t.renderSlot(e.$slots,"append",{key:0},void 0,!0):(t.openBlock(),t.createBlock(r,{key:1,type:l.parseIcon(this.append).type,url:l.parseIcon(this.append).url,spin:l.parseIcon(this.append).spin,size:l.parseIcon(this.append).size,color:l.parseIcon(this.append).color},null,8,["type","url","spin","size","color"]))])):t.createCommentVNode("",!0)],10,Tn)}],["__scopeId","data-v-d3cbe34d"]]);Pn.install=e=>{e.component(Pn.name,Pn)};const Vn={getAttributes(e){let t={};for(let i of e.attributes)/(^on)|(^style$)|(^contenteditable$)/g.test(i.nodeName)||(t[i.nodeName]=i.nodeValue);return t},getStyles(e){let t={};if(e.getAttribute("style")){const i=e.getAttribute("style");let s=0,o=0,n=[];for(;s<i.length;)";"==i[s]&&"base64,"!=i.substring(s+1,s+8)&&(n.push(i.substring(o,s)),o=s+1),s==i.length-1&&o<s&&n.push(i.substring(o,s)),s++;n.forEach((e=>{const i=e.indexOf(":"),s=e.substring(0,i).trim(),o=e.substring(i+1).trim();t[s]=o}))}return t},getUniqueKey(){let e=u.data.get(window,"data-alex-editor-key")||0;return e++,u.data.set(window,"data-alex-editor-key",e),e},isSpaceText:e=>/^[\uFEFF]+$/g.test(e),clone:e=>u.common.isObject(e)||Array.isArray(e)?JSON.parse(JSON.stringify(e)):e,isContains:(e,t)=>3==t.nodeType?u.element.isContains(e,t.parentNode):u.element.isContains(e,t),blobToBase64:e=>new Promise((t=>{const i=new FileReader;i.onload=e=>{t(e.target.result)},i.readAsDataURL(e)})),createGuid(){let e=u.data.get(document.documentElement,"mvi-editor-guid")||0;return e++,u.data.set(document.body,"mvi-editor-guid",e),e}},zn=class{constructor(e,t,i,s,o){this.key=Vn.getUniqueKey(),this.type=e,this.parsedom=t,this.marks=i,this.styles=s,this.textContent=o,this.children=null,this.parent=null,this.behavior="default",this._elm=null}isBlock(){return"block"==this.type}isInblock(){return"inblock"==this.type}isInline(){return"inline"==this.type}isClosed(){return"closed"==this.type}isText(){return"text"==this.type}isBreak(){return this.isClosed()&&"br"==this.parsedom}isEmpty(){if(this.isText())return!this.textContent;if(this.isBlock()||this.isInblock()||this.isInline()){if(!this.hasChildren())return!0;return this.children.every((e=>!e||e.isEmpty()))}return!1}isSpaceText(){return this.isText()&&!this.isEmpty()&&Vn.isSpaceText(this.textContent)}isEqual(e){return!!zn.isElement(e)&&this.key==e.key}isContains(e){return!!this.isEqual(e)||!e.isBlock()&&this.isContains(e.parent)}isOnlyHasBreak(){return!!this.hasChildren()&&this.children.every((e=>e.isBreak()||e.isEmpty()))}isPreStyle(){const e=this.getBlock(),t=this.getInblock();return t?"pre"==t.parsedom||(!(!t.hasStyles()||"pre"!=t.styles["white-space"]&&"pre-wrap"!=t.styles["white-space"])||t.parent.isPreStyle()):"pre"==e.parsedom||!(!e.hasStyles()||"pre"!=e.styles["white-space"]&&"pre-wrap"!=e.styles["white-space"])}hasMarks(){return!!this.marks&&(!!u.common.isObject&&!u.common.isEmptyObject(this.marks))}hasStyles(){return!!this.styles&&(!!u.common.isObject(this.styles)&&!u.common.isEmptyObject(this.styles))}hasChildren(){return!this.isClosed()&&!this.isText()&&(!!Array.isArray(this.children)&&!!this.children.length)}hasContains(e){return this.isContains(e)||e.isContains(this)}clone(e=!0){if("boolean"!=typeof e)throw new Error("The parameter must be a Boolean");let t=new zn(this.type,this.parsedom,Vn.clone(this.marks),Vn.clone(this.styles),this.textContent);return t.behavior=this.behavior,e&&this.hasChildren()&&this.children.forEach((i=>{let s=i.clone(e);t.hasChildren()?t.children.push(s):t.children=[s],s.parent=t})),t}convertToBlock(){if(this.isBlock())throw new Error('This element is already of type "block"');let e=this.clone();this.type="block",this.parsedom=zn.BLOCK_NODE,this.marks=null,this.styles=null,this.textContent=null,this.children=[e],e.parent=this}toEmpty(){this.isEmpty()||(this.isText()?(this.marks=null,this.styles=null,this.textContent=null,this._elm=null):this.isClosed()?(this.type="text",this.parsedom=null,this.marks=null,this.styles=null,this.textContent=null,this._elm=null):this.hasChildren()&&this.children.forEach((e=>{e.toEmpty()})))}getBlock(){return this.isBlock()?this:this.parent.getBlock()}getInblock(){return this.isInblock()?this:this.isBlock()?null:this.parent.getInblock()}getInline(){return this.isInline()?this:this.isBlock()?null:this.parent.getInline()}isEqualStyles(e){return!this.hasStyles()&&!e.hasStyles()||!!(this.hasStyles()&&e.hasStyles()&&u.common.equal(this.styles,e.styles))}isEqualMarks(e){return!this.hasMarks()&&!e.hasMarks()||!!(this.hasMarks()&&e.hasMarks()&&u.common.equal(this.marks,e.marks))}__renderElement(){let e=null;if(this.isText()){e=document.createElement(zn.TEXT_NODE);const t=document.createTextNode(this.textContent);e.appendChild(t)}else if(e=document.createElement(this.parsedom),this.hasChildren())for(let t of this.children)t.__renderElement(),e.appendChild(t._elm);if(this.hasMarks())for(let t in this.marks)/(^on)|(^style$)|(^contenteditable$)/g.test(t)||e.setAttribute(t,this.marks[t]);if(this.hasStyles())for(let t in this.styles)e.style.setProperty(t,this.styles[t]);u.data.set(e,"data-alex-editor-key",this.key),this._elm=e}__fullClone(){let e=new zn(this.type,this.parsedom,Vn.clone(this.marks),Vn.clone(this.styles),this.textContent);return e.behavior=this.behavior,e.key=this.key,e._elm=this._elm,this.hasChildren()&&this.children.forEach((t=>{let i=t.__fullClone();e.hasChildren()?e.children.push(i):e.children=[i],i.parent=e})),e}__getLink(){return"a"==this.parsedom?this:this.isBlock()?null:this.parent.__getLink()}static isElement(e){return e instanceof zn}static flatElements(e){const t=e=>{let i=[];return e.forEach((e=>{if(zn.isElement(e)&&(i.push(e),e.hasChildren())){let s=t(e.children);i=[...i,...s]}})),i};return t(e)}static getSpaceElement(){return new zn("text",null,null,null,"\ufeff")}};let Nn=zn;__publicField(Nn,"BLOCK_NODE","p"),__publicField(Nn,"TEXT_NODE","span"),__publicField(Nn,"VOID_NODES",["colgroup","col"]);const _n=Nn;class Dn{constructor(e,t){this.element=e,this.offset=t,this._init()}_init(){this.element.isText()||this.element.isClosed()||(0==this.offset?this.moveToStart(this.element):this.moveToEnd(this.element))}static isPoint(e){return e instanceof Dn}isEqual(e){return!!Dn.isPoint(e)&&(this.element.isEqual(e.element)&&this.offset==e.offset)}moveToEnd(e){if(!_n.isElement(e))throw new Error("The argument must be an AlexElement instance");if(e.isEmpty())throw new Error("The argument cannot be an empty element");if(e.isText())this.element=e,this.offset=e.textContent.length;else if(e.isClosed())this.element=e,this.offset=1;else if(e.hasChildren()){const t=_n.flatElements(e.children).filter((e=>!e.isEmpty())),i=t.length;this.moveToEnd(t[i-1])}}moveToStart(e){if(!_n.isElement(e))throw new Error("The argument must be an AlexElement instance");if(e.isEmpty())throw new Error("The argument cannot be an empty element");if(e.isText())this.element=e,this.offset=0;else if(e.isClosed())this.element=e,this.offset=0;else if(e.hasChildren()){const t=_n.flatElements(e.children).filter((e=>!e.isEmpty()));this.moveToStart(t[0])}}}class Rn{constructor(e,t){this.anchor=e,this.focus=t}}class An{constructor(){this.records=[],this.current=-1}push(e,t){this.current<this.records.length-1&&(this.records.length=this.current+1);const i=e.map((e=>e.__fullClone())),s=_n.flatElements(i).find((e=>e.key==t.anchor.element.key)),o=_n.flatElements(i).find((e=>e.key==t.focus.element.key)),n=new Dn(s,t.anchor.offset),l=new Dn(o,t.focus.offset),r=new Rn(n,l);this.records.push({stack:i,range:r}),this.current+=1}get(e){if(-1==e){if(this.current<=0)return null;this.current-=1}else if(1==e){if(this.current>=this.records.length-1)return null;this.current+=1}const{stack:t,range:i}=this.records[this.current],s=t.map((e=>e.__fullClone())),o=_n.flatElements(s).find((e=>e.key==i.anchor.element.key)),n=_n.flatElements(s).find((e=>e.key==i.focus.element.key)),l=new Dn(o,i.anchor.offset),r=new Dn(n,i.focus.offset);return{stack:s,range:new Rn(l,r)}}}const{Mac:On}=u.platform.os(),Ln={Undo:e=>On?90==e.keyCode&&e.metaKey&&!e.ctrlKey&&!e.shiftKey&&!e.altKey:90==e.keyCode&&e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey,Redo:e=>On?90==e.keyCode&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey:89==e.keyCode&&e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey,Indent:e=>!(9!=e.keyCode||e.metaKey||e.shiftKey||e.ctrlKey||e.altKey),Outdent:e=>9==e.keyCode&&!e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey},Mn={block:[{parsedom:"p"},{parsedom:"div"},{parsedom:"table"},{parsedom:"ul"},{parsedom:"ol"},{parsedom:"h1"},{parsedom:"h2"},{parsedom:"h3"},{parsedom:"h4"},{parsedom:"h5"},{parsedom:"h6"},{parsedom:"blockquote"},{parsedom:"pre"},{parsedom:"address",parse:!0},{parsedom:"article",parse:!0},{parsedom:"aside",parse:!0},{parsedom:"nav",parse:!0},{parsedom:"section",parse:!0}],inblock:[{parsedom:"li",block:!0},{parsedom:"tfoot"},{parsedom:"tbody"},{parsedom:"thead"},{parsedom:"tr"},{parsedom:"th"},{parsedom:"td"},{parsedom:"colgroup"}],inline:[{parsedom:"span"},{parsedom:"a"},{parsedom:"label"},{parsedom:"code"},{parsedom:"b",parse:{"font-weight":"bold"}},{parsedom:"strong",parse:{"font-weight":"bold"}},{parsedom:"sup",parse:{"vertical-align":"super"}},{parsedom:"sub",parse:{"vertical-align":"sub"}},{parsedom:"i",parse:{"font-style":"italic"}},{parsedom:"u",parse:{"text-decoration-line":"underline"}},{parsedom:"del",parse:{"text-decoration-line":"line-through"}},{parsedom:"abbr",parse:!0},{parsedom:"acronym",parse:!0},{parsedom:"bdo",parse:!0}],closed:[{parsedom:"br"},{parsedom:"col"},{parsedom:"img"},{parsedom:"hr"},{parsedom:"video"},{parsedom:"audio"}]};class Wn{constructor(e,t){if(__publicField(this,"__formatUnchangeableRules",[e=>{e.parent||e.isBlock()||e.isEmpty()||e.convertToBlock()},e=>{if(e.hasChildren()){const t=e.children.some((e=>!e.isEmpty()&&e.isBlock()));t&&e.children.forEach((t=>{!t.isEmpty()&&t.isBlock()&&(t.type="inline"==e.type?"inline":"inblock")}))}},e=>{if(e.hasChildren()){let t=e.children.some((e=>!e.isEmpty()&&e.isInblock())),i=e.children.some((e=>!e.isEmpty()&&!e.isInblock()));t&&i&&e.children.forEach((e=>{!e.isEmpty()&&e.isInblock()&&(e.type="inline")}))}},e=>{if(e.isInline()&&e.hasChildren()){const t=e.children.some((e=>!e.isEmpty()&&e.isInblock()));t&&e.children.forEach((e=>{!e.isEmpty()&&e.isInblock()&&(e.type="inline")}))}},e=>{if(e.hasChildren())if(e.isBlock()||e.isInblock()){let t=e.children.some((e=>e.isBreak())),i=e.children.some((e=>!e.isEmpty()&&!e.isBreak()));t&&i?e.children.forEach((e=>{e.isBreak()&&e.toEmpty()})):t&&e.children.length>1&&e.children.forEach(((e,t)=>{e.isBreak()&&t>0&&e.toEmpty()}))}else e.isInline()&&e.children.forEach((e=>{e.isBreak()&&e.toEmpty()}))},e=>{const t=e=>{const i=(e,i)=>{if(e.isEmpty()||i.isEmpty()){if(i.isEmpty()){this.range&&i.isContains(this.range.anchor.element)&&(e.isEmpty()?(this.range.anchor.element=e,this.range.anchor.offset=0):this.range.anchor.moveToEnd(e)),this.range&&i.isContains(this.range.focus.element)&&(e.isEmpty()?(this.range.focus.element=e,this.range.focus.offset=0):this.range.focus.moveToEnd(e));const t=i.parent.children.findIndex((e=>i.isEqual(e)));i.parent.children.splice(t,1)}else if(e.isEmpty()){this.range&&e.isContains(this.range.anchor.element)&&(i.isEmpty()?(this.range.anchor.element=i,this.range.anchor.offset=0):this.range.anchor.moveToStart(i)),this.range&&e.isContains(this.range.focus.element)&&(i.isEmpty()?(this.range.focus.element=i,this.range.focus.offset=0):this.range.focus.moveToStart(i));const t=e.parent.children.findIndex((t=>e.isEqual(t)));e.parent.children.splice(t,1)}}else if(e.isText()){this.range&&i.isEqual(this.range.anchor.element)&&(this.range.anchor.element=e,this.range.anchor.offset=e.textContent.length+this.range.anchor.offset),this.range&&i.isEqual(this.range.focus.element)&&(this.range.focus.element=e,this.range.focus.offset=e.textContent.length+this.range.focus.offset),e.textContent||(e.textContent=""),i.textContent||(i.textContent=""),e.textContent+=i.textContent;const t=i.parent.children.findIndex((e=>i.isEqual(e)));i.parent.children.splice(t,1)}else if(e.isInline()){e.hasChildren()||(e.children=[]),i.hasChildren()||(i.children=[]),e.children.push(...i.children),e.children.forEach((t=>{t.parent=e})),t(e);const s=i.parent.children.findIndex((e=>i.isEqual(e)));i.parent.children.splice(s,1)}};if(e.hasChildren()&&e.children.length>1){let t=0;for(;t<=e.children.length-2;)s=e.children[t],o=e.children[t+1],s.isEmpty()||o.isEmpty()||(s.isText()&&o.isText()?s.isEqualStyles(o)&&s.isEqualMarks(o):s.isInline()&&o.isInline()&&s.parsedom==o.parsedom&&s.isEqualMarks(o)&&s.isEqualStyles(o))?i(e.children[t],e.children[t+1]):t++}var s,o};t(e)},e=>{const t=(e,t)=>{t.isText()?(e.type="text",e.parsedom=null,t.hasMarks()&&(e.hasMarks()?Object.assign(e.marks,Vn.clone(t.marks)):e.marks=Vn.clone(t.marks)),t.hasStyles()&&(e.hasStyles()?Object.assign(e.styles,Vn.clone(t.styles)):e.styles=Vn.clone(t.styles)),e.textContent=t.textContent,e.children=null,this.range&&t.isEqual(this.range.anchor.element)&&(this.range.anchor.element=e),this.range&&t.isEqual(this.range.focus.element)&&(this.range.focus.element=e)):(t.hasMarks()&&(e.hasMarks()?Object.assign(e.marks,Vn.clone(t.marks)):e.marks=Vn.clone(t.marks)),t.hasStyles()&&(e.hasStyles()?Object.assign(e.styles,Vn.clone(t.styles)):e.styles=Vn.clone(t.styles)),t.hasChildren()&&(e.children=[...t.children],e.children.forEach((t=>{t.parent=e}))))};var i,s;e.hasChildren()&&1==e.children.length&&(i=e,(s=e.children[0]).isText()&&i.isInline()?i.parsedom==_n.TEXT_NODE:(i.isInline()&&s.isInline()||i.isInblock()&&s.isInblock())&&i.parsedom==s.parsedom)&&t(e,e.children[0])},e=>{e.isEmpty()&&(this.range&&e.isContains(this.range.anchor.element)&&this.__setRecentlyPoint(this.range.anchor),this.range&&e.isContains(this.range.focus.element)&&this.__setRecentlyPoint(this.range.focus))}]),"string"==typeof e&&e&&(e=document.body.querySelector(e)),!u.element.isElement(e))throw new Error("You must specify a dom container to initialize the editor");if(u.data.get(e,"data-alex-editor-init"))throw new Error("The element node has been initialized to the editor");u.data.set(e,"data-alex-editor-init",!0),t=this.__formatOptions(t),this.__guid=Vn.createGuid(),this.$el=e,this.disabled=t.disabled,this.value=t.value,this.renderRules=t.renderRules,this.htmlPaste=t.htmlPaste,this.range=null,this.history=new An,this.__events={},this.__oldValue=t.value,this.__isInputChinese=!1,this.stack=this.parseHtml(this.value),this.__oldStack=null,this.__initRange(),this.disabled?this.setDisabled():this.setEnabled(),this.useClipboard=!0,this.__judgeUseClipboard(),u.event.on(document,`selectionchange.alex_editor_${this.__guid}`,this.__handleSelectionChange.bind(this)),u.event.on(this.$el,"beforeinput.alex_editor",this.__handleBeforeInput.bind(this)),u.event.on(this.$el,"compositionstart.alex_editor compositionupdate.alex_editor compositionend.alex_editor",this.__handleChineseInput.bind(this)),u.event.on(this.$el,"keydown.alex_editor",this.__handleKeydown.bind(this)),u.event.on(this.$el,"cut.alex_editor",this.__handleCut.bind(this)),u.event.on(this.$el,"paste.alex_editor",this.__handlePaste.bind(this)),u.event.on(this.$el,"copy.alex_editor",this.__handleCopy.bind(this)),u.event.on(this.$el,"dragstart.alex_editor drop.alex_editor ",(e=>e.preventDefault())),u.event.on(this.$el,"focus.alex_editor",(()=>{this.emit("focus",this.value)})),u.event.on(this.$el,"blur.alex_editor",(()=>{this.emit("blur",this.value)}))}__formatOptions(e){let t={disabled:!1,renderRules:[],htmlPaste:!1,value:"<p><br></p>"};return u.common.isObject(e)&&("boolean"==typeof e.disabled&&(t.disabled=e.disabled),Array.isArray(e.renderRules)&&(t.renderRules=e.renderRules),"string"==typeof e.value&&e.value&&(t.value=e.value),"boolean"==typeof e.htmlPaste&&(t.htmlPaste=e.htmlPaste)),t}__initRange(){const e=this.stack[this.stack.length-1],t=new Dn(e,0),i=new Dn(e,0);this.range=new Rn(t,i),this.range.anchor.moveToEnd(e),this.range.focus.moveToEnd(e)}__rectifyRangeInBreak(){let e=!1;this.range.anchor.element.isBreak()&&1==this.range.anchor.offset&&(this.range.anchor.offset=0,e=!0),this.range.focus.element.isBreak()&&1==this.range.focus.offset&&(this.range.focus.offset=0,e=!0),e&&this.rangeRender()}__setRecentlyPoint(e){const t=this.getPreviousElementOfPoint(e),i=this.getNextElementOfPoint(e),s=e.element.getBlock(),o=e.element.getInblock();t&&o&&o.isContains(t)?e.moveToEnd(t):i&&o&&o.isContains(i)?e.moveToStart(i):t&&s.isContains(t)?e.moveToEnd(t):i&&s.isContains(i)?e.moveToStart(i):t?e.moveToEnd(t):e.moveToStart(i)}__judgeUseClipboard(){window.ClipboardItem||(this.useClipboard=!1,console.warn("window.ClipboardItem must be obtained in a secure environment, such as localhost, 127.0.0.1, or https, so the editor's copy, paste, and cut functions cannot be used")),navigator.clipboard||(this.useClipboard=!1,console.warn("navigator.clipboard must be obtained in a secure environment, such as localhost, 127.0.0.1, or https, so the editor's copy, paste, and cut functions cannot be used"))}__emptyDefaultBehaviorInblock(e){e.isInblock()&&"default"==e.behavior&&e.hasChildren()&&e.children.forEach((e=>{if(e.isInblock())this.__emptyDefaultBehaviorInblock(e);else if(e.toEmpty(),e.parent.isEmpty()){const t=new _n("closed","br",null,null,null);this.addElementTo(t,e.parent)}}))}__cloneStack(){return this.stack.map((e=>e.__fullClone()))}__removeDeletedElementDom(){const e=t=>{t.forEach((t=>{const i=_n.flatElements(this.stack).some((e=>e.isEqual(t)));i&&t.hasChildren()?e(t.children):i||t._elm.remove()}))};e(this.__oldStack)}__updateElementDom(){const e=t=>{t.forEach((t=>{const i=_n.flatElements(this.__oldStack).find((e=>e.isEqual(t)));if(i)if(i.type!=t.type||i.parsedom!=t.parsedom)t.__renderElement(),i._elm.parentNode.insertBefore(t._elm,i._elm),i._elm.remove();else{if(!i.isEqualMarks(t)){if(i.hasMarks())for(let e in i.marks)t._elm.removeAttribute(e);if(t.hasMarks())for(let e in t.marks)/(^on)|(^style$)|(^contenteditable$)/g.test(e)||t._elm.setAttribute(e,t.marks[e])}if(!i.isEqualStyles(t)&&(t._elm.removeAttribute("style"),t.hasStyles()))for(let e in t.styles)t._elm.style.setProperty(e,t.styles[e]);if(t.isText()&&i.textContent!=t.textContent){t._elm.innerHTML="";const e=document.createTextNode(t.textContent);t._elm.appendChild(e)}t.parent&&i.parent&&!t.parent.isEqual(i.parent)&&this.__insertNewDom(t,!1),t.hasChildren()&&e(t.children)}else i||this.__insertNewDom(t)}))};e(this.stack)}__insertNewDom(e,t=!0){t&&e.__renderElement();const i=this.getPreviousElement(e);if(i)i._elm.parentNode.insertBefore(e._elm,i._elm.nextSibling);else if(e.isBlock())this.$el.firstElementChild?this.$el.insertBefore(e._elm,this.$el.firstElementChild):this.$el.appendChild(e._elm);else{const t=e.parent._elm;t.firstElementChild?t.insertBefore(e._elm,t.firstElementChild):t.appendChild(e._elm)}}__filterIllegalDom(){const e=t=>{Array.from(t.childNodes).forEach((t=>{if(1==t.nodeType){const i=u.data.get(t,"data-alex-editor-key");if(i){this.getElementByKey(i)?e(t):t.remove()}else t.remove()}else if(3==t.nodeType){const e=t.parentNode,i=u.data.get(e,"data-alex-editor-key");if(i){const e=this.getElementByKey(i);e&&e.isText()||t.remove()}else t.remove()}else t.remove()}))};e(this.$el)}__safariLinkHandle(){const{Safari:e}=u.platform.browser(),t=this.range.anchor.element.__getLink();if(e&&t){if(t.hasChildren()){const e=_n.flatElements(t.children);for(let t=e.length-1;t>=0;t--)e[t]._elm.remove()}t._elm.remove(),this.__insertNewDom(t)}}__setRangeInVisible(){const e=e=>{const t=this.range.focus.element._elm,i=u.element.getElementBounding(t),s=u.element.getElementBounding(e);(Math.abs(i.top)<Math.abs(s.top)||Math.abs(i.bottom)<Math.abs(s.bottom))&&u.element.setScrollTop({el:e,number:0}).then((()=>{const i=u.element.getElementBounding(t),s=u.element.getElementBounding(e);u.element.setScrollTop({el:e,number:i.top-s.top})}))};let t=this.$el;for(;u.element.isElement(t)&&t!=document.documentElement;)e(t),t=t.parentNode}__handleSelectionChange(){if(this.disabled)return;if(this.__isInputChinese)return;const e=window.getSelection();if(e.rangeCount){const t=e.getRangeAt(0);if(Vn.isContains(this.$el,t.startContainer)&&Vn.isContains(this.$el,t.endContainer)){let e=null,i=null,s=null,o=null;if(3==t.startContainer.nodeType)e=t.startContainer.parentNode,s=t.startOffset;else if(1==t.startContainer.nodeType){const i=Array.from(t.startContainer.childNodes);i.length?(e=i[t.startOffset]?i[t.startOffset]:i[t.startOffset-1],s=i[t.startOffset]?0:1,3==e.nodeType&&(s=0==s?0:e.textContent.length,e=e.parentNode)):(e=t.startContainer,s=0)}if(3==t.endContainer.nodeType)i=t.endContainer.parentNode,o=t.endOffset;else if(1==t.endContainer.nodeType){const e=Array.from(t.endContainer.childNodes);e.length?(i=e[t.endOffset]?e[t.endOffset]:e[t.endOffset-1],o=e[t.endOffset]?0:1,3==i.nodeType&&(o=0==o?0:i.textContent.length,i=i.parentNode)):(i=t.endContainer,o=1)}const n=u.data.get(e,"data-alex-editor-key"),l=u.data.get(i,"data-alex-editor-key"),r=this.getElementByKey(n),a=this.getElementByKey(l),h=new Dn(r,s),c=new Dn(a,o);this.range=new Rn(h,c),this.__rectifyRangeInBreak(),this.emit("rangeUpdate",this.range)}}}__handleBeforeInput(e){this.disabled||"deleteByCut"!=e.inputType&&"insertFromPaste"!=e.inputType&&"deleteByDrag"!=e.inputType&&"insertFromDrop"!=e.inputType&&"insertCompositionText"!=e.inputType&&(e.preventDefault(),"insertText"==e.inputType&&e.data?(this.insertText(e.data),this.formatElementStack(),this.domRender(),this.rangeRender()):"insertParagraph"==e.inputType||"insertLineBreak"==e.inputType?(this.insertParagraph(),this.formatElementStack(),this.domRender(),this.rangeRender()):"deleteContentBackward"==e.inputType&&(this.delete(),this.formatElementStack(),this.domRender(),this.rangeRender()))}__handleChineseInput(e){this.disabled||(e.preventDefault(),"compositionstart"==e.type?this.__isInputChinese=!0:"compositionend"==e.type&&(e.data&&(this.insertText(e.data),this.formatElementStack(),this.__safariLinkHandle(),this.domRender(),this.rangeRender()),setTimeout((()=>{this.__isInputChinese=!1}),0)))}__handleKeydown(e){if(!this.disabled)if(Ln.Undo(e)){e.preventDefault();const t=this.history.get(-1);t&&(this.stack=t.stack,this.range=t.range,this.formatElementStack(),this.domRender(!0),this.rangeRender())}else if(Ln.Redo(e)){e.preventDefault();const t=this.history.get(1);t&&(this.stack=t.stack,this.range=t.range,this.formatElementStack(),this.domRender(!0),this.rangeRender())}else Ln.Indent(e)?(e.preventDefault(),this.setIndent(),this.formatElementStack(),this.domRender(),this.rangeRender()):Ln.Outdent(e)&&(e.preventDefault(),this.setOutdent(),this.formatElementStack(),this.domRender(),this.rangeRender())}async __handleCut(e){e.preventDefault();const t=await this.cut();this.formatElementStack(),t&&(this.domRender(),this.rangeRender())}async __handlePaste(e){e.preventDefault(),await this.paste(),this.formatElementStack(),this.domRender(),this.rangeRender()}async __handleCopy(e){e.preventDefault();const t=await this.copy();this.formatElementStack(),t&&(this.domRender(),this.rangeRender())}async paste(){if(!this.useClipboard)return!1;const e=(await navigator.clipboard.read())[0],t=[];for(const n of e.types)t.push(e.getType(n));const i=await Promise.all(t),s=i.every((e=>e.type.startsWith("image/"))),o=i.every((e=>e.type.startsWith("video/")));for(let n of i)if(s&&n.type.startsWith("image/")){const e=await Vn.blobToBase64(n);if(!this.emit("pasteImage",e)){const t=new _n("closed","img",{src:e},null,null);this.insertElement(t)}}else if(o&&n.type.startsWith("video/")){const e=await Vn.blobToBase64(n);if(!this.emit("pasteVideo",e)){const t=new _n("closed","video",{src:e},null,null);this.insertElement(t)}}else if("text/plain"==n.type){if(!this.htmlPaste){const e=await n.text();e&&(this.insertText(e),this.emit("pasteText",e))}}else if("text/html"==n.type&&this.htmlPaste){const e=await n.text();if(e){const t=this.parseHtml(e).filter((e=>!e.isEmpty()));for(let e=0;e<t.length;e++)this.insertElement(t[e],!1);this.emit("pasteHtml",e,t)}}}async cut(){if(!this.useClipboard)return!1;const e=await this.copy();return e&&(this.delete(),this.emit("cut")),e}async copy(){if(!this.useClipboard)return!1;const e=this.getElementsByRange(!0,!1);if(0==e.length)return!1;let t=0;for(;t<e.length;)if(e[t].isBlock())t++;else{if(e.some((i=>i.isEqual(e[t].parent))))t++;else{if(e[t].parent.children.every((t=>e.some((e=>e.isEqual(t)))))){const i=e.findIndex((i=>i.isEqual(e[t])));e.splice(i,0,e[t].parent)}else t++}}let i=[];e.forEach((t=>{if(t.isBlock())i.push(t);else{e.some((e=>e.isEqual(t.parent)))||i.push(t)}}));let s="",o="";i.forEach((e=>{const t=e.clone();t.__renderElement(),s+=t._elm.outerHTML,o+=t._elm.innerText}));const n=new window.ClipboardItem({"text/html":new Blob([s],{type:"text/html"}),"text/plain":new Blob([o],{type:"text/plain"})});return await navigator.clipboard.write([n]),this.emit("copy"),!0}delete(){if(this.range.anchor.isEqual(this.range.focus)){const e=this.getPreviousElementOfPoint(this.range.anchor),t=this.range.anchor.element.getBlock(),i=this.range.anchor.element.getInblock();if(i)if(0==this.range.anchor.offset)if(e){if(i.isContains(e))return this.range.anchor.moveToEnd(e),this.range.focus.moveToEnd(e),void this.delete();if("block"==i.behavior){const t=e.getBlock(),s=e.getInblock();s?"block"==s.behavior&&this.mergeBlockElement(i,s):this.mergeBlockElement(i,t)}}else this.emit("deleteInStart",i);else if(this.range.anchor.element.isSpaceText()){if(this.range.anchor.element.toEmpty(),!i.isEmpty())return this.range.anchor.offset=0,this.range.focus.offset=0,void this.delete();{const e=new _n("closed","br",null,null,null);this.addElementTo(e,i),this.range.anchor.moveToStart(e),this.range.focus.moveToStart(e)}}else if(this.range.anchor.element.isText()){const e=this.range.anchor.element.textContent;this.range.anchor.offset-=1;const t=Vn.isSpaceText(e[this.range.anchor.offset]);if(this.range.anchor.element.textContent=e.substring(0,this.range.anchor.offset)+e.substring(this.range.focus.offset),this.range.focus.offset=this.range.anchor.offset,t)return void this.delete();if(i.isEmpty()){const e=new _n("closed","br",null,null,null);this.addElementTo(e,i),this.range.anchor.moveToStart(e),this.range.focus.moveToStart(e)}}else{const t=this.range.anchor.element.isBreak();if(this.range.anchor.element.toEmpty(),i.isEmpty())if(t&&"default"!=i.behavior){if(!e){const e=new _n("closed","br",null,null,null);this.addElementTo(e,i),this.range.anchor.moveToStart(e),this.range.focus.moveToStart(e)}}else{const e=new _n("closed","br",null,null,null);this.addElementTo(e,i),this.range.anchor.moveToStart(e),this.range.focus.moveToStart(e)}}else if(0==this.range.anchor.offset)if(e){if(t.isContains(e))return this.range.anchor.moveToEnd(e),this.range.focus.moveToEnd(e),void this.delete();{const i=e.getInblock(),s=e.getBlock();i?"block"==i.behavior&&this.mergeBlockElement(t,i):this.mergeBlockElement(t,s)}}else this.emit("deleteInStart",t);else if(this.range.anchor.element.isSpaceText()){if(this.range.anchor.element.toEmpty(),!t.isEmpty())return this.range.anchor.offset=0,this.range.focus.offset=0,void this.delete();{const e=new _n("closed","br",null,null,null);this.addElementTo(e,t),this.range.anchor.moveToStart(e),this.range.focus.moveToStart(e)}}else if(this.range.anchor.element.isText()){const e=this.range.anchor.element.textContent;this.range.anchor.offset-=1;const i=Vn.isSpaceText(e[this.range.anchor.offset]);if(this.range.anchor.element.textContent=e.substring(0,this.range.anchor.offset)+e.substring(this.range.focus.offset),this.range.focus.offset=this.range.anchor.offset,i)return void this.delete();if(t.isEmpty()){const e=new _n("closed","br",null,null,null);this.addElementTo(e,t),this.range.anchor.moveToStart(e),this.range.focus.moveToStart(e)}}else{const i=this.range.anchor.element.isBreak();if(this.range.anchor.element.toEmpty(),t.isEmpty())if(i){if(!e){const e=new _n("closed","br",null,null,null);this.addElementTo(e,t),this.range.anchor.moveToStart(e),this.range.focus.moveToStart(e)}}else{const e=new _n("closed","br",null,null,null);this.addElementTo(e,t),this.range.anchor.moveToStart(e),this.range.focus.moveToStart(e)}}}else{const e=this.getElementsByRange(!0,!1).filter((e=>!_n.VOID_NODES.includes(e.parsedom))),t=this.range.anchor.element.getInblock(),i=this.range.focus.element.getInblock(),s=this.range.anchor.element.getBlock(),o=this.range.focus.element.getBlock();t&&i&&t.isEqual(i)?e.forEach((e=>{if(e.toEmpty(),t.isEmpty()){const e=new _n("closed","br",null,null,null);this.addElementTo(e,t)}})):t&&i?(e.forEach((e=>{if(e.isInblock()&&"default"==e.behavior)this.__emptyDefaultBehaviorInblock(e);else if(e.toEmpty(),e.parent&&(e.parent.isInblock()||e.parent.isBlock())&&e.parent.isEmpty()){const t=new _n("closed","br",null,null,null);this.addElementTo(t,e.parent)}})),"block"==t.behavior&&"block"==i.behavior&&this.mergeBlockElement(i,t)):t?(e.forEach((e=>{if(e.isInblock()&&"default"==e.behavior)this.__emptyDefaultBehaviorInblock(e);else if(e.toEmpty(),e.parent&&(e.parent.isInblock()||e.parent.isBlock())&&e.parent.isEmpty()){const t=new _n("closed","br",null,null,null);this.addElementTo(t,e.parent)}})),"block"==t.behavior&&this.mergeBlockElement(o,t)):i?(e.forEach((e=>{if(e.isInblock()&&"default"==e.behavior)this.__emptyDefaultBehaviorInblock(e);else if(e.toEmpty(),e.parent&&(e.parent.isInblock()||e.parent.isBlock())&&e.parent.isEmpty()){const t=new _n("closed","br",null,null,null);this.addElementTo(t,e.parent)}})),"block"==i.behavior&&this.mergeBlockElement(i,s)):s.isEqual(o)?e.forEach((e=>{if(e.toEmpty(),s.isEmpty()){const e=new _n("closed","br",null,null,null);this.addElementTo(e,s)}})):(e.forEach((e=>{if(e.isInblock()&&"default"==e.behavior)this.__emptyDefaultBehaviorInblock(e);else if(e.toEmpty(),e.parent&&(e.parent.isInblock()||e.parent.isBlock())&&e.parent.isEmpty()){const t=new _n("closed","br",null,null,null);this.addElementTo(t,e.parent)}})),this.mergeBlockElement(o,s))}this.range.anchor.element.isEmpty()&&this.__setRecentlyPoint(this.range.anchor),this.range.focus.element=this.range.anchor.element,this.range.focus.offset=this.range.anchor.offset}insertText(e){if(!e||"string"!=typeof e)throw new Error("The argument must be a string");if(this.range.anchor.isEqual(this.range.focus))if(this.range.anchor.element.isPreStyle()||(e=e.replace(/\s/g,(()=>{const e=document.createElement("span");return e.innerHTML="&nbsp;",e.innerText}))),this.range.anchor.element.isText()){let t=this.range.anchor.element.textContent;this.range.anchor.element.textContent=t.substring(0,this.range.anchor.offset)+e+t.substring(this.range.anchor.offset),this.range.anchor.offset=this.range.anchor.offset+e.length,this.range.focus.offset=this.range.anchor.offset}else{const t=new _n("text",null,null,null,e);0==this.range.anchor.offset?this.addElementBefore(t,this.range.anchor.element):this.addElementAfter(t,this.range.anchor.element),this.range.anchor.moveToEnd(t),this.range.focus.moveToEnd(t)}else this.delete(),this.insertText(e)}insertParagraph(){if(this.range.anchor.isEqual(this.range.focus)){const e=this.getPreviousElementOfPoint(this.range.anchor),t=this.getNextElementOfPoint(this.range.anchor),i=this.range.anchor.element.getBlock(),s=this.range.anchor.element.getInblock(),o=this.range.anchor.element.isText()?this.range.anchor.element.textContent.length:1;if(s){if(this.range.anchor.element.isPreStyle())this.range.anchor.element.isBreak()?(this.insertText("\n\n"),this.range.anchor.offset-=1,this.range.focus.offset-=1):this.range.anchor.offset!=o||t&&s.isContains(t)||this.range.anchor.element.isText()&&"\n"==this.range.anchor.element.textContent[this.range.anchor.offset-1]?this.insertText("\n"):(this.insertText("\n\n"),this.range.anchor.offset-=1,this.range.focus.offset-=1),this.emit("insertParagraph",null,s);else if("block"==s.behavior)if(0!=this.range.anchor.offset||e&&s.isContains(e))if(this.range.anchor.offset!=o||t&&s.isContains(t)){const e=s.clone();this.addElementAfter(e,s);const t=_n.flatElements(s.children).findIndex((e=>this.range.anchor.element.isEqual(e)));this.range.focus.moveToEnd(s),this.delete();const i=_n.flatElements(e.children);this.range.focus.element=i[t],this.range.focus.offset=this.range.anchor.offset,this.range.anchor.moveToStart(e),this.delete(),this.emit("insertParagraph",e,s)}else{const e=s.clone(!1),t=new _n("closed","br",null,null,null);this.addElementTo(t,e),this.addElementAfter(e,s),this.range.anchor.moveToStart(t),this.range.focus.moveToStart(t),this.emit("insertParagraph",e,s)}else{const e=s.clone(!1),t=new _n("closed","br",null,null,null);this.addElementTo(t,e),this.addElementBefore(e,s),this.emit("insertParagraph",s,e)}}else if(this.range.anchor.element.isPreStyle())this.range.anchor.element.isBreak()?(this.insertText("\n\n"),this.range.anchor.offset-=1,this.range.focus.offset-=1):this.range.anchor.offset!=o||t&&i.isContains(t)||this.range.anchor.element.isText()&&"\n"==this.range.anchor.element.textContent[this.range.anchor.offset-1]?this.insertText("\n"):(this.insertText("\n\n"),this.range.anchor.offset-=1,this.range.focus.offset-=1),this.emit("insertParagraph",null,i);else if(0!=this.range.anchor.offset||e&&i.isContains(e))if(this.range.anchor.offset!=o||t&&i.isContains(t)){const e=i.clone();this.addElementAfter(e,i);const t=_n.flatElements(i.children).findIndex((e=>this.range.anchor.element.isEqual(e)));this.range.focus.moveToEnd(i),this.delete();const s=_n.flatElements(e.children);this.range.focus.element=s[t],this.range.focus.offset=this.range.anchor.offset,this.range.anchor.moveToStart(e),this.delete(),this.emit("insertParagraph",e,i)}else{const e=i.clone(!1),t=new _n("closed","br",null,null,null);this.addElementTo(t,e),this.addElementAfter(e,i),this.range.anchor.moveToStart(t),this.range.focus.moveToStart(t),this.emit("insertParagraph",e,i)}else{const e=i.clone(!1),t=new _n("closed","br",null,null,null);this.addElementTo(t,e),this.addElementBefore(e,i),this.emit("insertParagraph",i,e)}}else this.delete(),this.insertParagraph()}insertElement(e,t=!0){if(!_n.isElement(e))throw new Error("The argument must be an AlexElement instance");if(!e.isEmpty())if(this.range.anchor.isEqual(this.range.focus)){const i=this.getPreviousElementOfPoint(this.range.anchor),s=this.getNextElementOfPoint(this.range.anchor),o=this.range.anchor.element.getBlock(),n=this.range.anchor.element.getInblock(),l=this.range.anchor.element.isText()?this.range.anchor.element.textContent.length:1;if(e.isInblock()&&"block"==e.behavior&&n&&"block"==n.behavior)if(n.isOnlyHasBreak()&&t)this.addElementBefore(e,n),n.toEmpty();else if(0!=this.range.anchor.offset||i&&n.isContains(i))if(this.range.anchor.offset!=l||s&&n.isContains(s)){const t=n.clone();this.addElementAfter(t,n),this.range.focus.moveToEnd(n),this.delete();const i=_n.flatElements(n.children).findIndex((e=>this.range.anchor.element.isEqual(e))),s=_n.flatElements(t.children);this.range.focus.element=s[i],this.range.focus.offset=this.range.anchor.offset,this.range.anchor.moveToStart(t),this.delete(),this.addElementBefore(e,t)}else this.addElementAfter(e,n);else this.addElementBefore(e,n);else if(e.isInblock()&&n)if(n.isOnlyHasBreak())this.addElementTo(e,n,0);else if(0!=this.range.anchor.offset||i&&n.isContains(i))if(this.range.anchor.offset!=l||s&&n.isContains(s)){const t=n.clone();this.addElementAfter(t,n),this.range.focus.moveToEnd(n),this.delete();const i=_n.flatElements(n.children).findIndex((e=>this.range.anchor.element.isEqual(e))),s=_n.flatElements(t.children);this.range.focus.element=s[i],this.range.focus.offset=this.range.anchor.offset,this.range.anchor.moveToStart(t),this.delete(),this.addElementTo(e,t),this.mergeBlockElement(t,n)}else this.addElementTo(e,n,n.children.length);else this.addElementTo(e,n,0);else if(e.isInblock())if(o.isOnlyHasBreak())this.addElementTo(e,o,0);else if(0!=this.range.anchor.offset||i&&o.isContains(i))if(this.range.anchor.offset!=l||s&&o.isContains(s)){const t=o.clone();this.addElementAfter(t,o),this.range.focus.moveToEnd(o),this.delete();const i=_n.flatElements(o.children).findIndex((e=>this.range.anchor.element.isEqual(e))),s=_n.flatElements(t.children);this.range.focus.element=s[i],this.range.focus.offset=this.range.anchor.offset,this.range.anchor.moveToStart(t),this.delete(),this.addElementTo(e,t),this.mergeBlockElement(t,o)}else this.addElementTo(e,o,o.children.length);else this.addElementTo(e,o,0);else if(e.isBlock())if(o.isOnlyHasBreak()&&t)this.addElementBefore(e,o),o.toEmpty();else if(0!=this.range.anchor.offset||i&&o.isContains(i))if(this.range.anchor.offset!=l||s&&o.isContains(s)){const t=o.clone();this.addElementAfter(t,o),this.range.focus.moveToEnd(o),this.delete();const i=_n.flatElements(o.children).findIndex((e=>this.range.anchor.element.isEqual(e))),s=_n.flatElements(t.children);this.range.focus.element=s[i],this.range.focus.offset=this.range.anchor.offset,this.range.anchor.moveToStart(t),this.delete(),this.addElementBefore(e,t)}else this.addElementAfter(e,o);else this.addElementBefore(e,o);else if(this.range.anchor.element.isText()){let t=this.range.anchor.element.textContent,i=this.range.anchor.element.clone();this.range.anchor.element.textContent=t.substring(0,this.range.anchor.offset),i.textContent=t.substring(this.range.anchor.offset),this.addElementAfter(i,this.range.anchor.element),this.addElementBefore(e,i)}else 0==this.range.anchor.offset?this.addElementBefore(e,this.range.anchor.element):this.addElementAfter(e,this.range.anchor.element);this.range.anchor.moveToEnd(e),this.range.focus.moveToEnd(e)}else this.delete(),this.insertElement(e,t)}formatElementStack(){const e=(t,i)=>{if(t.hasChildren()){let s=0;for(;s<t.children.length;){let o=t.children[s];e(o,i);s=t.children.findIndex((e=>o.isEqual(e)))+1}}i.apply(this,[t])},t=e=>{e.isEmpty()||e.hasChildren()&&(e.children.forEach((e=>{e.isEmpty()||t(e)})),e.children=e.children.filter((e=>!e.isEmpty())))};let i=this.renderRules.filter((e=>"function"==typeof e));if(i=[...i,...this.__formatUnchangeableRules],i.forEach((t=>{let i=0;for(;i<this.stack.length;){const s=this.stack[i];e(s,t);i=this.stack.findIndex((e=>s.isEqual(e)))+1}})),this.stack.forEach((e=>{t(e)})),this.stack=this.stack.filter((e=>!e.isEmpty())),0==this.stack.length){const e=new _n("block",_n.BLOCK_NODE,null,null,null),t=new _n("closed","br",null,null,null);this.addElementTo(t,e),this.stack=[e]}}domRender(e=!1){this.emit("beforeRender"),this.__oldStack?(this.__removeDeletedElementDom(),this.__updateElementDom(),this.__filterIllegalDom()):(this.$el.innerHTML="",this.stack.forEach((e=>{e.__renderElement(),this.$el.appendChild(e._elm)}))),this.emit("afterRender"),this.__oldValue=this.value,this.__oldStack=this.__cloneStack(),this.value=this.$el.innerHTML,this.__oldValue!=this.value&&(this.emit("change",this.value,this.__oldValue),e||this.history.push(this.stack,this.range)),this.__setRangeInVisible()}rangeRender(){if(this.disabled)return;const e=e=>{let t=null,i=null;if(e.element.isText())t=e.element._elm.childNodes[0],i=e.offset;else{t=e.element.parent._elm;const s=e.element.parent.children.findIndex((t=>e.element.isEqual(t)));i=e.offset+s}return{node:t,offset:i}},t=e(this.range.anchor),i=e(this.range.focus),s=window.getSelection();s.removeAllRanges();const o=document.createRange();o.setStart(t.node,t.offset),o.setEnd(i.node,i.offset),s.addRange(o)}parseHtml(e){if(!e)throw new Error("You need to give an html content to convert");const t=document.createElement("div");t.innerHTML=e;let i=[];return Array.from(t.childNodes).forEach((e=>{if(1==e.nodeType||3==e.nodeType){const t=this.parseNode(e);i.push(t)}})),i}parseNode(e){if(!(e instanceof Node))throw new Error("The argument must be an node");if(1!=e.nodeType&&3!=e.nodeType)throw new Error("The argument must be an element node or text node");if(3==e.nodeType)return new _n("text",null,null,null,e.textContent);const t=Vn.getAttributes(e),i=Vn.getStyles(e),s=e.nodeName.toLocaleLowerCase(),o=Mn.block.find((e=>e.parsedom==s)),n=Mn.inblock.find((e=>e.parsedom==s)),l=Mn.inline.find((e=>e.parsedom==s)),r=Mn.closed.find((e=>e.parsedom==s));let a=null,h={type:"inblock",parsedom:s,marks:t,styles:i,behavior:"default"};return o?(h.type="block",o.parse&&(h.parsedom=_n.BLOCK_NODE)):n?(h.type="inblock",n.block&&(h.behavior="block")):l?(h.type="inline",l.parse&&(h.parsedom=_n.TEXT_NODE,u.common.isObject(l.parse)&&Object.assign(h.styles,Vn.clone(l.parse)))):r?h.type="closed":(h.type="inline",h.parsedom="span"),a=new _n(h.type,h.parsedom,h.marks,h.styles,null),a.behavior=h.behavior,(o||n||l)&&Array.from(e.childNodes).forEach((e=>{if(1==e.nodeType||3==e.nodeType){const t=this.parseNode(e);t.parent=a,a.hasChildren()?a.children.push(t):a.children=[t]}})),a}mergeBlockElement(e,t){if(!_n.isElement(e))throw new Error("The first argument must be an AlexElement instance");if(!_n.isElement(t))throw new Error("The second argument must be an AlexElement instance");if(!e.isBlock()&&!e.isInblock()||!t.isBlock()&&!t.isInblock())throw new Error('Elements that are not "block" or "inblock" cannot be merged');t.children.push(...e.children),t.children.forEach((e=>{e.parent=t})),e.children=null}getElementByKey(e){if(!e)throw new Error("You need to specify a key to do the query");return _n.flatElements(this.stack).find((t=>t.key==e))}getPreviousElement(e){if(!_n.isElement(e))throw new Error("The argument must be an AlexElement instance");if(e.isBlock()){const t=this.stack.findIndex((t=>e.isEqual(t)));return t<=0?null:this.stack[t-1].isEmpty()?this.getPreviousElement(this.stack[t-1]):this.stack[t-1]}{const t=e.parent.children.findIndex((t=>e.isEqual(t)));return t<=0?null:e.parent.children[t-1].isEmpty()?this.getPreviousElement(e.parent.children[t-1]):e.parent.children[t-1]}}getNextElement(e){if(!_n.isElement(e))throw new Error("The argument must be an AlexElement instance");if(e.isBlock()){const t=this.stack.findIndex((t=>e.isEqual(t)));return t>=this.stack.length-1?null:this.stack[t+1].isEmpty()?this.getNextElement(this.stack[t+1]):this.stack[t+1]}{const t=e.parent.children.findIndex((t=>e.isEqual(t)));return t>=e.parent.children.length-1?null:e.parent.children[t+1].isEmpty()?this.getNextElement(e.parent.children[t+1]):e.parent.children[t+1]}}getPreviousElementOfPoint(e){if(!Dn.isPoint(e))throw new Error("The argument must be an AlexPoint instance");const t=_n.flatElements(this.stack),i=e=>{const s=t.findIndex((t=>e.isEqual(t)));if(s<=0)return null;let o=t[s-1];return!o.isText()&&!o.isClosed()||o.isEmpty()?i(o):o};return i(e.element)}getNextElementOfPoint(e){if(!Dn.isPoint(e))throw new Error("The argument must be an AlexPoint instance");const t=_n.flatElements(this.stack),i=e=>{const s=t.findIndex((t=>e.isEqual(t)));if(s==t.length-1)return null;let o=t[s+1];return!o.isText()&&!o.isClosed()||o.isEmpty()?i(o):o};return i(e.element)}getElementsByRange(e=!1,t=!1){if(this.range.anchor.isEqual(this.range.focus))return[];let i=[];if(this.range.anchor.element.isEqual(this.range.focus.element)){if(e)if(this.range.anchor.element.isText())if(0==this.range.anchor.offset&&this.range.focus.offset==this.range.anchor.element.textContent.length)i=[this.range.anchor.element];else if(0==this.range.anchor.offset){let e=this.range.anchor.element.textContent,t=this.range.anchor.element.clone();this.range.anchor.element.textContent=e.substring(0,this.range.focus.offset),t.textContent=e.substring(this.range.focus.offset),this.addElementAfter(t,this.range.anchor.element),i=[this.range.anchor.element]}else if(this.range.focus.offset==this.range.anchor.element.textContent.length){let e=this.range.anchor.element.clone(),t=this.range.anchor.element.textContent;this.range.anchor.element.textContent=t.substring(0,this.range.anchor.offset),e.textContent=t.substring(this.range.anchor.offset),this.addElementAfter(e,this.range.anchor.element),i=[e],this.range.anchor.moveToStart(e),this.range.focus.moveToEnd(e)}else{let e=this.range.anchor.element.clone(),t=this.range.anchor.element.clone(),s=this.range.anchor.element.textContent;this.range.anchor.element.textContent=s.substring(0,this.range.anchor.offset),e.textContent=s.substring(this.range.anchor.offset,this.range.focus.offset),t.textContent=s.substring(this.range.focus.offset),this.addElementAfter(e,this.range.anchor.element),this.addElementAfter(t,e),this.range.anchor.moveToStart(e),this.range.focus.moveToEnd(e),i=[e]}else i=[this.range.anchor.element]}else{const t=_n.flatElements(this.stack),s=t.findIndex((e=>this.range.anchor.element.isEqual(e))),o=t.findIndex((e=>this.range.focus.element.isEqual(e)));for(let e=s+1;e<o;e++)t[e].isContains(this.range.anchor.element)||t[e].isContains(this.range.focus.element)||i.push(t[e]);if(e){if(this.range.anchor.element.isText()){if(0==this.range.anchor.offset)i.unshift(this.range.anchor.element);else if(this.range.anchor.offset<this.range.anchor.element.textContent.length){let e=this.range.anchor.element.clone(),t=this.range.anchor.element.textContent;this.range.anchor.element.textContent=t.substring(0,this.range.anchor.offset),e.textContent=t.substring(this.range.anchor.offset),this.addElementAfter(e,this.range.anchor.element),i.unshift(e),this.range.anchor.moveToStart(e)}}else 0==this.range.anchor.offset&&i.unshift(this.range.anchor.element);if(this.range.focus.element.isText()){if(this.range.focus.offset==this.range.focus.element.textContent.length)i.push(this.range.focus.element);else if(this.range.focus.offset>0){let e=this.range.focus.element.clone(),t=this.range.focus.element.textContent;this.range.focus.element.textContent=t.substring(0,this.range.focus.offset),e.textContent=t.substring(this.range.focus.offset),this.addElementAfter(e,this.range.focus.element),i.push(this.range.focus.element)}}else 1==this.range.focus.offset&&i.push(this.range.focus.element)}}if(t)return i;let s=[];return i.forEach((e=>{if(e.isBlock())s.push(e);else{i.some((t=>t.isEqual(e.parent)))||s.push(e)}})),s}addElementTo(e,t,i=0){if(!_n.isElement(e))throw new Error("The first argument must be an AlexElement instance");if(!_n.isElement(t))throw new Error("The second argument must be an AlexElement instance");if("number"!=typeof i||isNaN(i)||i<0)throw new Error("The third argument must be an integer not less than 0");t.hasChildren()?i>=t.children.length?t.children.push(e):t.children.splice(i,0,e):t.children=[e],e.parent=t}addElementBefore(e,t){if(!_n.isElement(e))throw new Error("The first argument must be an AlexElement instance");if(!_n.isElement(t))throw new Error("The second argument must be an AlexElement instance");if(t.isBlock()){const i=this.stack.findIndex((e=>t.isEqual(e)));this.stack.splice(i,0,e),e.parent=null}else{const i=t.parent.children.findIndex((e=>t.isEqual(e)));this.addElementTo(e,t.parent,i)}}addElementAfter(e,t){if(!_n.isElement(e))throw new Error("The first argument must be an AlexElement instance");if(!_n.isElement(t))throw new Error("The second argument must be an AlexElement instance");if(t.isBlock()){const i=this.stack.findIndex((e=>t.isEqual(e)));i>=this.stack.length-1?this.stack.push(e):this.stack.splice(i+1,0,e),e.parent=null}else{const i=t.parent.children.findIndex((e=>t.isEqual(e)));this.addElementTo(e,t.parent,i+1)}}collapseToStart(e){if(!this.disabled)if(_n.isElement(e))this.range.anchor.moveToStart(e),this.range.focus.moveToStart(e);else{const e=_n.flatElements(this.stack);this.range.anchor.moveToStart(e[0]),this.range.focus.moveToStart(e[0])}}collapseToEnd(e){if(!this.disabled)if(_n.isElement(e))this.range.anchor.moveToEnd(e),this.range.focus.moveToEnd(e);else{const e=_n.flatElements(this.stack),t=e.length;this.range.anchor.moveToEnd(e[t-1]),this.range.focus.moveToEnd(e[t-1])}}setDisabled(){this.disabled=!0,this.$el.removeAttribute("contenteditable")}setEnabled(){this.disabled=!1,this.$el.setAttribute("contenteditable",!0)}setTextStyle(e){if(!u.common.isObject(e))throw new Error("The argument must be an object");if(this.range.anchor.isEqual(this.range.focus))if(this.range.anchor.element.isSpaceText())this.range.anchor.element.hasStyles()?Object.assign(this.range.anchor.element.styles,Vn.clone(e)):this.range.anchor.element.styles=Vn.clone(e);else if(this.range.anchor.element.isText()){const t=_n.getSpaceElement();t.styles=Vn.clone(this.range.anchor.element.styles),t.marks=Vn.clone(this.range.anchor.element.marks),t.hasStyles()?Object.assign(t.styles,Vn.clone(e)):t.styles=Vn.clone(e),this.insertElement(t)}else{const t=_n.getSpaceElement();t.styles=Vn.clone(e),this.insertElement(t)}else{this.getElementsByRange(!0,!0).forEach((t=>{t.isText()&&(t.hasStyles()?Object.assign(t.styles,Vn.clone(e)):t.styles=Vn.clone(e))}))}}removeTextStyle(e){const t=t=>{if(Array.isArray(e)){if(t.hasStyles()){let i={};for(let s in t.styles)e.includes(s)||(i[s]=t.styles[s]);t.styles=i}}else t.styles=null};if(this.range.anchor.isEqual(this.range.focus)){if(this.range.anchor.element.isSpaceText())t(this.range.anchor.element);else if(this.range.anchor.element.isText()){const e=_n.getSpaceElement();e.styles=Vn.clone(this.range.anchor.element.styles),e.marks=Vn.clone(this.range.anchor.element.marks),t(e),this.insertElement(e)}}else{this.getElementsByRange(!0,!0).forEach((e=>{e.isText()&&t(e)}))}}queryTextStyle(e,t){if(!e)throw new Error("The first argument cannot be null");if(this.range.anchor.isEqual(this.range.focus))return!(!this.range.anchor.element.isText()||!this.range.anchor.element.hasStyles())&&(null==t||null==t?this.range.anchor.element.styles.hasOwnProperty(e):this.range.anchor.element.styles[e]==t);const i=this.getElementsByRange(!0,!0).filter((e=>e.isText()));if(0==i.length)return!1;return i.every((i=>!!i.hasStyles()&&(null==t||null==t?i.styles.hasOwnProperty(e):i.styles[e]==t)))}setTextMark(e){if(!u.common.isObject(e))throw new Error("The argument must be an object");if(this.range.anchor.isEqual(this.range.focus))if(this.range.anchor.element.isSpaceText())this.range.anchor.element.hasMarks()?Object.assign(this.range.anchor.element.marks,Vn.clone(e)):this.range.anchor.element.marks=Vn.clone(e);else if(this.range.anchor.element.isText()){const t=_n.getSpaceElement();t.styles=Vn.clone(this.range.anchor.element.styles),t.marks=Vn.clone(this.range.anchor.element.marks),t.hasMarks()?Object.assign(t.marks,Vn.clone(e)):t.marks=Vn.clone(e),this.insertElement(t)}else{const t=_n.getSpaceElement();t.marks=Vn.clone(e),this.insertElement(t)}else{this.getElementsByRange(!0,!0).forEach((t=>{t.isText()&&(t.hasMarks()?Object.assign(t.marks,Vn.clone(e)):t.marks=Vn.clone(e))}))}}removeTextMark(e){const t=t=>{if(Array.isArray(e)){if(t.hasMarks()){let i={};for(let s in t.marks)e.includes(s)||(i[s]=t.marks[s]);t.marks=i}}else t.marks=null};if(this.range.anchor.isEqual(this.range.focus)){if(this.range.anchor.element.isSpaceText())t(this.range.anchor.element);else if(this.range.anchor.element.isText()){const e=_n.getSpaceElement();e.styles=Vn.clone(this.range.anchor.element.styles),e.marks=Vn.clone(this.range.anchor.element.marks),t(e),this.insertElement(e)}}else{this.getElementsByRange(!0,!0).forEach((e=>{e.isText()&&t(e)}))}}queryTextMark(e,t){if(!e)throw new Error("The first argument cannot be null");if(this.range.anchor.isEqual(this.range.focus))return!(!this.range.anchor.element.isText()||!this.range.anchor.element.hasMarks())&&(null==t||null==t?this.range.anchor.element.marks.hasOwnProperty(e):this.range.anchor.element.marks[e]==t);const i=this.getElementsByRange(!0,!0).filter((e=>e.isText()));if(0==i.length)return!1;return i.every((i=>!!i.hasMarks()&&(null==t||null==t?i.marks.hasOwnProperty(e):i.marks[e]==t)))}setIndent(){const e=e=>{if(e.hasStyles())if(e.styles.hasOwnProperty("text-indent")){let t=e.styles["text-indent"];t=t.endsWith("em")?parseFloat(t):0,e.styles["text-indent"]=`${t+2}em`}else e.styles["text-indent"]="2em";else e.styles={"text-indent":"2em"}};if(this.range.anchor.isEqual(this.range.focus)){const t=this.range.anchor.element.getBlock(),i=this.range.anchor.element.getInblock();i&&"block"==i.behavior?e(i):e(t)}else{this.getElementsByRange(!0,!1).forEach((t=>{const i=t.getBlock(),s=t.getInblock();s&&"block"==s.behavior?e(s):e(i)}))}}setOutdent(){const e=e=>{if(e.hasStyles()&&e.styles.hasOwnProperty("text-indent")){let t=e.styles["text-indent"];t=t.endsWith("em")?parseFloat(t):0,e.styles["text-indent"]=(t-2>=0?t-2:0)+"em"}};if(this.range.anchor.isEqual(this.range.focus)){const t=this.range.anchor.element.getBlock(),i=this.range.anchor.element.getInblock();i&&"block"==i.behavior?e(i):e(t)}else{this.getElementsByRange(!0,!1).forEach((t=>{const i=t.getBlock(),s=t.getInblock();s&&"block"==s.behavior?e(s):e(i)}))}}emit(e,...t){return!!Array.isArray(this.__events[e])&&(this.__events[e].forEach((e=>{e.apply(this,[...t])})),!0)}on(e,t){this.__events[e]||(this.__events[e]=[]),this.__events[e].push(t)}destroy(){this.setDisabled(),u.event.off(document,`selectionchange.alex_editor_${this.__guid}`),u.event.off(this.$el,"beforeinput.alex_editor compositionstart.alex_editor compositionupdate.alex_editor compositionend.alex_editor keydown.alex_editor cut.alex_editor paste.alex_editor copy.alex_editor dragstart.alex_editor drop.alex_editor focus.alex_editor blur.alex_editor")}}const Hn={isList:(e,t=!1)=>"block"==e.type&&"div"==e.parsedom&&e.hasMarks()&&e.marks["data-list"]==(t?"ol":"ul"),toParagraph(e){if(this.isList(e,!0)||this.isList(e,!1)){let t={};for(let i in e.marks)"data-list"!=i&&"data-value"!=i&&(t[i]=e.marks[i]);e.marks=t}e.parsedom=_n.BLOCK_NODE},toList(e,t=!1){e.parsedom="div",e.hasMarks()||(e.marks={}),e.marks["data-list"]=t?"ol":"ul"}},Fn={name:"m-editor",emits:["update:modelValue","focus","blur","change","paste-image","paste-video","range-update"],props:{modelValue:{type:String,default:"<p><br></p>"},autofocus:{type:Boolean,default:!1},placeholder:{type:String,default:""},height:{type:String,default:"8rem"},autoheight:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},border:{type:Boolean,default:!1},activeColor:{type:String,default:"#0b73de",validator:e=>u.common.matchingText(e,"hex")},htmlPaste:{type:Boolean,default:!1},customImagePaste:{type:Boolean,default:!1},customVideoPaste:{type:Boolean,default:!1}},data:()=>({codeViewShow:!1,editor:null,compositionFlag:!1,isModelChange:!1,useMenus:!1,canUseMenus:!1,linkAdjusterProps:{show:!1,target:"",newWindow:!1,url:"",props:{placeholder:"输入地址",targetText:"新窗口打开",removeText:"移除链接",insertText:"插入"}},mediaAdjusterProps:{show:!1,target:""},tableAdjusterProps:{show:!1,target:"",props:{insertRowText:"插入行",removeRowText:"删除行",insertColumnText:"插入列",removeColumnText:"删除列"}}}),setup:()=>({uid:t.getCurrentInstance().uid}),components:{Icon:T,Field:Pn,Checkbox:pe},computed:{cmpValue:{set(e){this.$emit("update:modelValue",e)},get(){return this.modelValue}},contentStyle(){let e={};return this.autoheight?e.minHeight=this.height:e.height=this.height,e},isEmpty(){return"<p><br></p>"==this.cmpValue&&!this.compositionFlag}},watch:{disabled(e){e?this.editor.setDisabled():this.editor.setEnabled()},cmpValue(e){if(this.codeViewShow)return;if(this.isModelChange)return;this.editor.stack=this.editor.parseHtml(e),this.editor.formatElementStack();const t=_n.flatElements(this.editor.stack);this.editor.range.anchor.moveToEnd(t[t.length-1]),this.editor.range.focus.moveToEnd(t[t.length-1]),this.editor.domRender(),this.editor.rangeRender()}},mounted(){this.editor=new Wn(this.$refs.content,{disabled:this.disabled,value:this.cmpValue,renderRules:[this.orderListHandle,this.codeHandle,this.mediaHandle,this.thParseTdHandle,this.tableHandle],htmlPaste:this.htmlPaste}),this.internalModify(this.editor.value),this.editor.on("change",this.handleContentChange),this.editor.on("focus",this.handleContentFocus),this.editor.on("blur",this.handleContentBlur),this.editor.on("insertParagraph",this.handleInsertParagraph),this.editor.on("deleteInStart",this.handleDelete),this.editor.on("rangeUpdate",this.handleRangeUpdate),this.editor.on("afterRender",this.handleAfterRender),this.editor.on("pasteHtml",this.handlePasteHtml),this.customImagePaste&&this.editor.on("pasteImage",(e=>{this.$emit("paste-image",e)})),this.customVideoPaste&&this.editor.on("pasteVideo",(e=>{this.$emit("paste-video",e)})),this.onScroll(),this.editor.formatElementStack(),this.editor.domRender(),!this.autofocus||this.codeViewShow||this.disabled||this.collapseToEnd()},methods:{orderListHandle(e){if(!e.isEmpty()&&("ol"!=e.parsedom&&"ul"!=e.parsedom||(e.hasChildren()&&e.children.forEach(((t,i)=>{const s=t.clone();s.parsedom="div",s.type="block",s.hasMarks()||(s.marks={}),s.marks["data-list"]=e.parsedom,"ol"==e.parsedom&&(s.marks["data-value"]=i+1),this.editor.addElementBefore(s,e)})),e.toEmpty()),"block"==e.type&&e.hasMarks()&&"ol"==e.marks["data-list"])){const t=this.editor.getPreviousElement(e);if(t&&t.hasMarks()&&"ol"==t.marks["data-list"]){const i=Number(t.marks["data-value"]);e.marks["data-value"]=i+1}else e.marks["data-value"]=1}},mediaHandle(e){if(!e.isEmpty()){if("img"==e.parsedom){const t={"mvi-editor-element-key":e.key};e.hasMarks()?Object.assign(e.marks,t):e.marks=t}if("video"==e.parsedom){const t={controls:!0,autoplay:!0,muted:!0,"mvi-editor-element-key":e.key};e.hasMarks()?Object.assign(e.marks,t):e.marks=t}if("a"==e.parsedom){const t={"mvi-editor-element-key":e.key};e.hasMarks()?Object.assign(e.marks,t):e.marks=t}}},codeHandle(e){if(!e.isEmpty()&&"code"==e.parsedom){e.parsedom="span";const t={"data-code-style":!0};e.hasMarks()?Object.assign(e.marks,t):e.marks=t}},thParseTdHandle(e){"th"==e.parsedom&&(e.parsedom="td")},tableHandle(e){if("table"==e.parsedom&&!e.isEmpty()){const t={"mvi-editor-element-key":e.key};e.hasMarks()?Object.assign(e.marks,t):e.marks=t;const i=_n.flatElements(e.children),s=i.filter((e=>"tr"==e.parsedom));let o=i.find((e=>"colgroup"==e.parsedom));if(o)o.children.forEach((e=>{e.hasMarks()?e.marks.width||(e.marks.width="auto"):e.marks={width:"auto"}}));else{o=new _n("inblock","colgroup",null,null,null);for(let e=s[0].children.length-1;e>=0;e--){const e=new _n("closed","col",{width:"auto"},null,null);this.editor.addElementTo(e,o)}}e.children=[];const n=new _n("inblock","tbody",null,null,null);s.reverse().forEach((e=>{this.editor.addElementTo(e,n)})),this.editor.addElementTo(n,e),this.editor.addElementTo(o,e)}},inputFocus(e){e.currentTarget.style.borderColor=this.activeColor},inputBlur(e){e.currentTarget.style.borderColor=""},autoLayerOffset(e){const t=u.element.getElementBounding(this.$el),i=u.element.getElementBounding(this.$refs[e].$el);t.top>=i.top||t.bottom>=i.bottom?(this.$refs[e].$el.style.bottom=t.bottom+"px",this.$refs[e].$el.style.top="auto"):this.$refs[e].reset()},onScroll(){const e=t=>{u.event.on(t,`scroll.editor_${this.uid}`,(e=>{this.linkAdjusterProps.show&&(this.linkAdjusterProps.show=!1),this.mediaAdjusterProps.show&&(this.mediaAdjusterProps.show=!1),this.tableAdjusterProps.show&&(this.tableAdjusterProps.show=!1)})),t.parentNode&&e(t.parentNode)};e(this.$refs.content)},removeScroll(){const e=t=>{u.event.off(t,`scroll.editor_${this.uid}`),t.parentNode&&e(t.parentNode)};e(this.$refs.content)},internalModify(e){this.isModelChange=!0,this.cmpValue=e,this.$nextTick((()=>{this.isModelChange=!1}))},clickEditor(e){if(this.disabled)return;const t=e.target;if(e.preventDefault(),"img"==t.nodeName.toLocaleLowerCase()||"video"==t.nodeName.toLocaleLowerCase()){const e=t.getAttribute("mvi-editor-element-key"),i=this.editor.getElementByKey(e);this.editor.range.anchor.moveToStart(i),this.editor.range.focus.moveToEnd(i),this.editor.rangeRender()}},handleContentChange(e,t){this.disabled||(this.internalModify(e),this.$emit("change",e,t))},handleContentFocus(e){if(!this.disabled){if(this.border&&this.activeColor){this.$refs.content.style.borderColor=this.activeColor;const e=u.color.hex2rgb(this.activeColor);this.$refs.content.style.boxShadow=`0 0 0.16rem rgba(${e[0]},${e[1]},${e[2]},0.5)`}setTimeout((()=>{this.canUseMenus=!0}),0),this.$emit("focus",e)}},handleContentBlur(e){this.disabled||(this.border&&this.activeColor&&(this.$refs.content.style.borderColor="",this.$refs.content.style.boxShadow=""),this.$emit("blur",e))},handleInsertParagraph(e,t){t.isOnlyHasBreak()&&e.isOnlyHasBreak()&&(t.isBlock()||t.convertToBlock(),t.parsedom!=_n.BLOCK_NODE&&(Hn.toParagraph(t),this.editor.range.anchor.moveToStart(t),this.editor.range.focus.moveToStart(t),e.toEmpty()))},handleDelete(e){e.isBlock()&&Hn.toParagraph(e)},handleRangeUpdate(e){if(this.disabled)return;this.$emit("range-update",e);const t=this.getCurrentParsedomElement("img"),i=this.getCurrentParsedomElement("a"),s=this.getCurrentParsedomElement("video"),o=this.getCurrentParsedomElement("table");setTimeout((()=>{if(t||s){const e=t||s;this.mediaAdjusterProps.target=`[mvi-editor-element-key='${e.key}']`,this.mediaAdjusterProps.show=!0,this.linkAdjusterProps.show=!1,this.tableAdjusterProps.show=!1}else i?(this.linkAdjusterProps.target=`[mvi-editor-element-key='${i.key}']`,this.linkAdjusterProps.show=!0,this.linkAdjusterProps.url=i.marks.href,this.linkAdjusterProps.newWindow="_blank"==i.marks.target,this.mediaAdjusterProps.show=!1,this.tableAdjusterProps.show=!1):o?(this.tableAdjusterProps.target=`[mvi-editor-element-key='${o.key}']`,this.tableAdjusterProps.show=!0,this.mediaAdjusterProps.show=!1,this.linkAdjusterProps.show=!1):(this.tableAdjusterProps.show=!1,this.mediaAdjusterProps.show=!1,this.linkAdjusterProps.show=!1)}),100)},handleAfterRender(){_n.flatElements(this.editor.stack).filter((e=>"table"==e.parsedom)).forEach((e=>{const t=_n.flatElements(e.children).filter((e=>"tr"==e.parsedom))[0];t.children.forEach(((i,s)=>{this.setTabelColumnResize(e,t,i,s)}))}))},handlePasteHtml(e,t){_n.flatElements(t).forEach((e=>{if(["table","tr","th","td","tbody","br","blockquote","ol","ul","li","pre","code","label","hr","colgroup"].includes(e.parsedom))if(e.marks=null,e.isBlock()||e.isInblock()){if(e.hasStyles()){let t={};for(let i in e.styles)["text-indent","text-align"].includes(i)&&(t[i]=e.styles[i]);e.styles=t}}else e.styles=null}))},setTabelColumnResize(e,t,i,s){if(this.disabled)return;if(s==t.children.length-1)return;const o=i.parent.children.findIndex((e=>e.isEqual(i))),n=e.children.find((e=>"colgroup"==e.parsedom));u.event.off(i._elm,"mousedown"),u.event.off(document.documentElement,`mousemove.editor_table_${e.key}_${o}_${this.uid} mouseup.editor_table_${e.key}_${o}_${this.uid}`);let l=!1,r=0;u.event.on(i._elm,"mousedown",(e=>{if(this.disabled)return;const t=u.element.getElementBounding(i._elm);Math.abs(t.left+i._elm.offsetWidth-e.pageX)<u.element.rem2px(.2)?(l=!0,r=e.pageX):l=!1})),u.event.on(document.documentElement,`mousemove.editor_table_${e.key}_${o}_${this.uid}`,(e=>{this.disabled||l&&(n.children[o].marks.width=""+(i._elm.offsetWidth+e.pageX-r),n.children[o]._elm.setAttribute("width",""+(i._elm.offsetWidth+e.pageX-r)),r=e.pageX)})),u.event.on(document.documentElement,`mouseup.editor_table_${e.key}_${o}_${this.uid}`,(e=>{if(!this.disabled&&l){const e=Number(n.children[o].marks.width);isNaN(e)||(n.children[o].marks.width=`${Number((e/t._elm.offsetWidth*100).toFixed(2))}%`,this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()),l=!1,r=0}}))},deleteLink(){if(this.disabled)return;const e=this.getCurrentParsedomElement("a");e.parsedom=_n.TEXT_NODE,delete e.marks.target,delete e.marks.href,this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender(),this.linkAdjusterProps.show=!1},updateLink(){if(this.disabled)return;if(!this.linkAdjusterProps.url)return;const e=this.getCurrentParsedomElement("a");e.marks.href=this.linkAdjusterProps.url,this.linkAdjusterProps.newWindow?e.marks.target="_blank":delete e.marks.target,this.editor.formatElementStack(),this.editor.domRender()},setMediaWidth(e){const t=this.getCurrentParsedomElement("img")||this.getCurrentParsedomElement("video"),i={width:e};t.hasStyles()?Object.assign(t.styles,i):t.styles=i,this.editor.range.anchor.moveToEnd(t),this.editor.range.focus.moveToEnd(t),this.editor.domRender(),this.editor.rangeRender(),this.mediaAdjusterProps.show=!1},deleteMedia(){this.editor.delete(),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender(),this.mediaAdjusterProps.show=!1},insertParagraph(e){if(this.disabled)return;this.editor.range.anchor.isEqual(this.editor.range.focus)||(this.editor.range.anchor.element=this.editor.range.focus.element,this.editor.range.anchor.offset=this.editor.range.focus.offset);const t=this.getCurrentParsedomElement("table"),i=new _n("block",_n.BLOCK_NODE,null,null,null),s=new _n("closed","br",null,null,null);this.editor.addElementTo(s,i),"up"==e?this.editor.addElementBefore(i,t):this.editor.addElementAfter(i,t),this.editor.range.anchor.moveToEnd(i),this.editor.range.focus.moveToEnd(i),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},addTableRow(){if(this.disabled)return;this.editor.range.anchor.isEqual(this.editor.range.focus)||(this.editor.range.anchor.element=this.editor.range.focus.element,this.editor.range.anchor.offset=this.editor.range.focus.offset);const e=this.getCurrentParsedomElement("tr"),t=e.clone();t.children.forEach((e=>{e.children=[];const t=new _n("closed","br",null,null,null);this.editor.addElementTo(t,e)})),this.editor.addElementAfter(t,e),this.editor.formatElementStack(),this.editor.range.anchor.moveToStart(t),this.editor.range.focus.moveToStart(t),this.editor.domRender(),this.editor.rangeRender()},removeTableRow(){if(this.disabled)return;this.editor.range.anchor.isEqual(this.editor.range.focus)||(this.editor.range.anchor.element=this.editor.range.focus.element,this.editor.range.anchor.offset=this.editor.range.focus.offset);const e=this.getCurrentParsedomElement("tr");if(1==e.parent.children.length)return void this.deleteTable();const t=this.editor.getPreviousElement(e),i=this.editor.getNextElement(e);e.toEmpty(),this.editor.formatElementStack(),t?(this.editor.range.anchor.moveToEnd(t.children[0]),this.editor.range.focus.moveToEnd(t.children[0])):(this.editor.range.anchor.moveToEnd(i.children[0]),this.editor.range.focus.moveToEnd(i.children[0])),this.editor.domRender(),this.editor.rangeRender(),this.$refs.tableLayer.reset()},addTableColumn(){if(this.disabled)return;this.editor.range.anchor.isEqual(this.editor.range.focus)||(this.editor.range.anchor.element=this.editor.range.focus.element,this.editor.range.anchor.offset=this.editor.range.focus.offset);const e=this.getCurrentParsedomElement("td"),t=this.getCurrentParsedomElement("tbody").children,i=e.parent.children.findIndex((t=>t.isEqual(e)));t.forEach((t=>{const s=e.clone(!1),o=new _n("closed","br",null,null,null);this.editor.addElementTo(o,s),this.editor.addElementTo(s,t,i+1)})),this.editor.formatElementStack();const s=this.editor.getNextElement(e);this.editor.range.anchor.moveToStart(s),this.editor.range.focus.moveToStart(s),this.editor.domRender(),this.editor.rangeRender()},removeTableColumn(){if(this.disabled)return;this.editor.range.anchor.isEqual(this.editor.range.focus)||(this.editor.range.anchor.element=this.editor.range.focus.element,this.editor.range.anchor.offset=this.editor.range.focus.offset);const e=this.getCurrentParsedomElement("td"),t=this.getCurrentParsedomElement("tbody").children;if(1==e.parent.children.length)return void this.deleteTable();const i=this.editor.getPreviousElement(e),s=this.editor.getNextElement(e),o=e.parent.children.findIndex((t=>t.isEqual(e)));t.forEach((e=>{e.children[o].toEmpty()})),this.editor.formatElementStack(),i?(this.editor.range.anchor.moveToEnd(i),this.editor.range.focus.moveToEnd(i)):(this.editor.range.anchor.moveToEnd(s),this.editor.range.focus.moveToEnd(s)),this.editor.domRender(),this.editor.rangeRender()},deleteTable(){if(this.disabled)return;this.editor.range.anchor.isEqual(this.editor.range.focus)||(this.editor.range.anchor.element=this.editor.range.focus.element,this.editor.range.anchor.offset=this.editor.range.focus.offset);this.getCurrentParsedomElement("table").toEmpty(),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},use(e){if(this.useMenus)throw new Error("The editor has already used a menu bar and cannot be used repeatedly");e.instance=this,this.useMenus=!0},getCurrentParsedomElement(e){const t=i=>i.isBlock()?i.parsedom==e?i:null:i.isText()||i.parsedom!=e?t(i.parent):i;if(this.editor.range.anchor.element.isEqual(this.editor.range.focus.element))return t(this.editor.range.anchor.element);const i=this.editor.getElementsByRange(!0,!1);this.editor.formatElementStack();const s=[];if(i.forEach((e=>{s.push(t(e))})),s.some((e=>null==e)))return null;if(1==s.length)return s[0];let o=!0;for(let n=1;n<s.length;n++)if(!s[n].isEqual(s[0])){o=!1;break}return o?s[0]:null},collapseToEnd(){this.disabled||(this.editor.collapseToEnd(),this.editor.rangeRender(),u.element.setScrollTop({el:this.$refs.content,number:1e6,time:0}))},collapseToStart(){this.disabled||(this.editor.collapseToStart(),this.editor.rangeRender(),this.$nextTick((()=>{u.element.setScrollTop({el:this.$refs.content,number:0,time:0})})))},insertImage(e){const t=new _n("closed","img",{src:e},null,null);this.editor.insertElement(t),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},insertVideo(e){const t=new _n("closed","video",{src:e},null,null);this.editor.insertElement(t);const i=_n.getSpaceElement(),s=_n.getSpaceElement();this.editor.addElementAfter(s,t),this.editor.addElementBefore(i,t),this.editor.range.anchor.moveToEnd(s),this.editor.range.focus.moveToEnd(s),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},insertHtml(e){if(!e)return;const t=this.editor.parseHtml(e);t.reverse().forEach(((e,i)=>{0==i?this.editor.insertElement(e):this.editor.addElementBefore(e,t[0])})),this.editor.range.anchor.moveToEnd(t[t.length-1]),this.editor.range.focus.moveToEnd(t[t.length-1]),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},insertText(e){e&&(this.editor.insertText(e),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender())}},beforeUnmount(){this.removeScroll();const e=u.event.get(document.documentElement);for(let t in e)(t.startsWith("mousemove.editor_")||t.startsWith("mouseup.editor_"))&&u.event.off(document.documentElement,t)}},jn={class:"mvi-editor"},Yn=["value"],qn=["data-placeholder","disabled"],Xn={class:"mvi-editor-layer-link"},Un=["placeholder"],Kn={class:"mvi-editor-layer-link-footer"},Gn={class:"mvi-editor-layer"},Zn={class:"mvi-editor-layer"};const Jn=S(Fn,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Checkbox"),a=t.resolveComponent("m-layer"),h=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",jn,[n.codeViewShow?(t.openBlock(),t.createElementBlock("textarea",{key:0,ref:"code",readonly:"",class:"mvi-editor-code",value:l.cmpValue},null,8,Yn)):t.createCommentVNode("",!0),t.createElementVNode("div",{ref:"content","data-placeholder":s.placeholder,class:t.normalizeClass(["mvi-editor-content",s.border?"border":"",l.isEmpty?"empty":""]),style:t.normalizeStyle(l.contentStyle),onCompositionstart:i[0]||(i[0]=e=>n.compositionFlag=!0),onCompositionend:i[1]||(i[1]=e=>n.compositionFlag=!1),onClick:i[2]||(i[2]=(...e)=>l.clickEditor&&l.clickEditor(...e)),disabled:s.disabled||null},null,46,qn),t.createVNode(a,{modelValue:n.linkAdjusterProps.show,"onUpdate:modelValue":i[9]||(i[9]=e=>n.linkAdjusterProps.show=e),fixed:"",target:n.linkAdjusterProps.target,placement:"bottom-start",animation:"mvi-editor-layer-animation",timeout:50,border:"",background:"#fff","border-color":"#eee",offset:"0.05rem",closable:"",ref:"linkLayer",onShowing:i[10]||(i[10]=e=>l.autoLayerOffset("linkLayer"))},{default:t.withCtx((()=>[t.createElementVNode("div",Xn,[t.withDirectives(t.createElementVNode("input",{onChange:i[3]||(i[3]=(...e)=>l.updateLink&&l.updateLink(...e)),ref:"linkUrl",onFocus:i[4]||(i[4]=(...e)=>l.inputFocus&&l.inputFocus(...e)),onBlur:i[5]||(i[5]=(...e)=>l.inputBlur&&l.inputBlur(...e)),"onUpdate:modelValue":i[6]||(i[6]=e=>n.linkAdjusterProps.url=e),placeholder:n.linkAdjusterProps.props.placeholder,type:"text"},null,40,Un),[[t.vModelText,n.linkAdjusterProps.url,void 0,{trim:!0}]]),t.createElementVNode("div",Kn,[t.createVNode(r,{onChange:l.updateLink,label:n.linkAdjusterProps.props.targetText,"label-placement":"right",icon:{size:"0.24rem"},"label-size":"0.28rem","label-color":"#505050","fill-color":s.activeColor,modelValue:n.linkAdjusterProps.newWindow,"onUpdate:modelValue":i[7]||(i[7]=e=>n.linkAdjusterProps.newWindow=e)},null,8,["onChange","label","fill-color","modelValue"]),t.createElementVNode("span",{class:"mvi-editor-layer-link-delete",onClick:i[8]||(i[8]=(...e)=>l.deleteLink&&l.deleteLink(...e))},t.toDisplayString(n.linkAdjusterProps.props.removeText),1)])])])),_:1},8,["modelValue","target"]),t.createVNode(a,{modelValue:n.mediaAdjusterProps.show,"onUpdate:modelValue":i[15]||(i[15]=e=>n.mediaAdjusterProps.show=e),fixed:"",target:n.mediaAdjusterProps.target,placement:"bottom-start",animation:"mvi-editor-layer-animation",timeout:50,border:"",background:"#fff","border-color":"#eee",offset:"0.05rem",closable:"",ref:"mediaLayer",onShowing:i[16]||(i[16]=e=>l.autoLayerOffset("mediaLayer"))},{default:t.withCtx((()=>[t.createElementVNode("div",Gn,[t.createElementVNode("div",{onClick:i[11]||(i[11]=e=>l.setMediaWidth("20%")),class:"mvi-editor-layer-item"},"20%"),t.createElementVNode("div",{onClick:i[12]||(i[12]=e=>l.setMediaWidth("50%")),class:"mvi-editor-layer-item"},"50%"),t.createElementVNode("div",{onClick:i[13]||(i[13]=e=>l.setMediaWidth("100%")),class:"mvi-editor-layer-item"},"100%"),t.createElementVNode("div",{onClick:i[14]||(i[14]=(...e)=>l.deleteMedia&&l.deleteMedia(...e)),class:"mvi-editor-layer-item"},[t.createVNode(h,{type:"trash-alt"})])])])),_:1},8,["modelValue","target"]),t.createVNode(a,{modelValue:n.tableAdjusterProps.show,"onUpdate:modelValue":i[24]||(i[24]=e=>n.tableAdjusterProps.show=e),fixed:"",target:n.tableAdjusterProps.target,placement:"bottom-start",animation:"mvi-editor-layer-animation",timeout:50,border:"",background:"#fff","border-color":"#eee",offset:"0.05rem",closable:"",ref:"tableLayer",onShowing:i[25]||(i[25]=e=>l.autoLayerOffset("tableLayer"))},{default:t.withCtx((()=>[t.createElementVNode("div",Zn,[t.createElementVNode("div",{onClick:i[17]||(i[17]=e=>l.insertParagraph("up")),class:"mvi-editor-layer-item"},[t.createVNode(h,{style:{transform:"rotate(180deg)"},type:"turn-arrow-text"})]),t.createElementVNode("div",{onClick:i[18]||(i[18]=e=>l.insertParagraph("down")),class:"mvi-editor-layer-item"},[t.createVNode(h,{type:"turn-arrow-text"})]),t.createElementVNode("div",{onClick:i[19]||(i[19]=(...e)=>l.addTableRow&&l.addTableRow(...e)),style:t.normalizeStyle({color:s.activeColor}),class:"mvi-editor-layer-item"},t.toDisplayString(n.tableAdjusterProps.props.insertRowText),5),t.createElementVNode("div",{onClick:i[20]||(i[20]=(...e)=>l.removeTableRow&&l.removeTableRow(...e)),class:"mvi-editor-layer-item"},t.toDisplayString(n.tableAdjusterProps.props.removeRowText),1),t.createElementVNode("div",{onClick:i[21]||(i[21]=(...e)=>l.addTableColumn&&l.addTableColumn(...e)),style:t.normalizeStyle({color:s.activeColor}),class:"mvi-editor-layer-item"},t.toDisplayString(n.tableAdjusterProps.props.insertColumnText),5),t.createElementVNode("div",{onClick:i[22]||(i[22]=(...e)=>l.removeTableColumn&&l.removeTableColumn(...e)),class:"mvi-editor-layer-item"},t.toDisplayString(n.tableAdjusterProps.props.removeColumnText),1),t.createElementVNode("div",{onClick:i[23]||(i[23]=(...e)=>l.deleteTable&&l.deleteTable(...e)),class:"mvi-editor-layer-item"},[t.createVNode(h,{type:"trash-alt"})])])])),_:1},8,["modelValue","target"])])}],["__scopeId","data-v-5675ff00"]]);Jn.install=e=>{e.component(Jn.name,Jn)};const Qn={placement:"bottom",timeout:200,color:"#333",textColor:"#fff",borderColor:"#333",offset:"0.1rem",zIndex:100,fixed:!1,fixedAuto:!1,width:null,showTriangle:!0,animation:null},el={placement:"bottom-start",offset:"0rem",zIndex:400,fixed:!1,fixedAuto:!1,width:null,timeout:100,showTriangle:!1,animation:null,shadow:!0,border:!0},tl={multiple:!1,allowedFileType:["jpg","png","JPG","PNG","JPEG","jpeg","gif","GIF","jfif","JFIF","webp","WEBP"],accept:"image",minSize:-1,maxSize:-1,minLength:-1,maxLength:-1},il={multiple:!1,allowedFileType:["mp4","MP4","avi","AVI","WAV","wav"],accept:"video",minSize:-1,maxSize:-1,minLength:-1,maxLength:-1};const sl=S({name:"m-editor-menus",data:()=>({instance:null}),emits:["upload-image","upload-video"],provide(){return{menus:this}},props:{useTooltip:{type:Boolean,default:!1},layerProps:{type:Object,default:function(){return{}}},uploadImageProps:{type:Object,default:function(){return{}}},uploadVideoProps:{type:Object,default:function(){return{}}},useBase64:{type:Boolean,default:!0},uploadImageError:{type:Function},uploadVideoError:{type:Function},trigger:{type:String,default:"click",validator:e=>["hover","click"].includes(e)},tooltipProps:{type:Object,default:function(){return{}}},border:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{combinedTooltipProps(){return this.initOption(Qn,this.tooltipProps)},combinedLayerProps(){return this.initOption(el,this.layerProps)},combinedUploadImageProps(){return this.initOption(tl,this.uploadImageProps)},combinedUploadVideoProps(){return this.initOption(il,this.uploadVideoProps)}},setup:()=>({uid:t.getCurrentInstance().uid}),mounted(){u.event.on(document.documentElement,`mousedown.editor_menus_${this.uid}`,(e=>{this.instance&&(u.element.isContains(this.$el,e.target)||u.element.isContains(this.instance.$el,e.target)||(this.instance.canUseMenus=!1))}))},methods:{initOption(e,t){let i={};return Object.assign(i,e),Object.assign(i,t),i}},beforeUnmount(){u.event.off(document.documentElement,`click.editor_menus_${this.uid}`)}},[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-editor-menus",s.border?"border":""])},[t.renderSlot(e.$slots,"default",{},void 0,!0)],2)}],["__scopeId","data-v-86e12942"]]);sl.install=e=>{e.component(sl.name,sl)};const ol=[{name:"undo",type:"default",icon:"undo",title:"撤销"},{name:"redo",type:"default",icon:"redo",title:"重做"},{name:"removeformat",type:"default",icon:"clear",title:"清除格式"},{name:"indent",type:"select",icon:"indent-right",title:"缩进",list:[{label:"增加缩进",value:"indent-right",icon:"indent-right"},{label:"减少缩进",value:"indent-left",icon:"indent-left"}]},{name:"divider",type:"default",icon:"divider",title:"分隔线"},{name:"code",type:"default",icon:"code",title:"代码"},{name:"bold",type:"default",icon:"bold",title:"加粗"},{name:"italic",type:"default",icon:"italic",title:"斜体"},{name:"underline",type:"default",icon:"underline",title:"下划线"},{name:"strikethrough",type:"default",icon:"strikethrough",title:"删除线"},{name:"subscript",type:"default",icon:"subscript",title:"下标"},{name:"superscript",type:"default",icon:"superscript",title:"上标"},{name:"title",type:"display",title:"标题",list:[{label:"一级标题",value:"h1"},{label:"二级标题",value:"h2"},{label:"三级标题",value:"h3"},{label:"四级标题",value:"h4"},{label:"五级标题",value:"h5"},{label:"六级标题",value:"h6"},{label:"正文",value:"p"}],value:"p"},{name:"fontfamily",type:"display",title:"字体",value:"",list:[{label:"默认字体",value:""},"黑体","仿宋","楷体","宋体","Arial","Consolas"]},{name:"fontsize",type:"display",title:"字号",value:"",list:[{label:"默认字号",value:""},{label:"12px",value:"0.24rem"},{label:"16px",value:"0.32rem"},{label:"20px",value:"0.4rem"},{label:"28px",value:"0.56rem"},{label:"36px",value:"0.72rem"},{label:"48px",value:"0.96rem"}]},{name:"forecolor",type:"select",title:"文字颜色",icon:"color-picker",list:["#000000","#505050","#808080","#BBBBBB","#CCCCCC","#EEEEEE","#F7F7F7","#FFFFFF","#EC1A0A","#FF9900","#FFFF00","#07C160","#00FFFF","#0B73DE","#9C00FF","#FF00FF","#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE","#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD","#e45649","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5","#CE0000","#E79439","#EFC631","#50a14f","#4A7B8C","#03A8F3","#634AA5","#A54A7B","#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842","#630000","#7B3900","#986801","#295218","#083139","#003163","#21104A","#4A1031"]},{name:"backcolor",type:"select",title:"背景颜色",icon:"brush",list:["#000000","#505050","#808080","#BBBBBB","#CCCCCC","#EEEEEE","#F7F7F7","#FFFFFF","#EC1A0A","#FF9900","#FFFF00","#07C160","#00FFFF","#0B73DE","#9C00FF","#FF00FF","#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE","#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD","#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5","#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#03A8F3","#634AA5","#A54A7B","#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842","#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]},{name:"ol",type:"default",icon:"ol",title:"有序列表"},{name:"ul",type:"default",icon:"ul",title:"无序列表"},{name:"justify",type:"select",icon:"align-left",title:"对齐方式",list:[{label:"左对齐",value:"left",icon:"align-left"},{label:"居中对齐",value:"center",icon:"align-center"},{label:"右对齐",value:"right",icon:"align-right"},{label:"两端对齐",value:"justify",icon:"align-justify"}]},{name:"quote",type:"default",icon:"quote",title:"引用"},{name:"link",type:"select",icon:"link",title:"插入链接",props:{placeholder:["输入文本","输入地址"],targetText:"新窗口打开",removeText:"移除链接",insertText:"插入"}},{name:"image",icon:"image",title:"插入图片",type:"select",props:{placeholder:"图片地址",insertText:"插入"},list:[{label:"本地上传",value:"upload"},{label:"网络图片",value:"remote"}]},{name:"video",icon:"video",title:"插入视频",type:"select",props:{placeholder:"视频地址",insertText:"插入"},list:[{label:"本地上传",value:"upload"},{label:"网络视频",value:"remote"}]},{name:"table",type:"select",icon:"table-alt",title:"插入表格",props:{insertRowText:"插入行",removeRowText:"删除行",insertColumnText:"插入列",removeColumnText:"删除列",deleteText:"删除表格"}},{name:"codeblock",type:"default",icon:"code-block",title:"代码块"},{name:"codeview",type:"default",icon:"eye",title:"源码视图"}],nl=e=>"custom"==e?null:ol.find((t=>e==t.name)),ll=function(){const e=[];for(let t=0;t<10;t++){let i=[];for(let e=0;e<10;e++)i.push({x:e+1,y:t+1,inside:!1});e.push(i)}return e},rl={name:"m-editor-menu",emits:["custom"],props:{name:{type:String,default:null},type:{type:String,default:function(e){const t=nl(e.name);return t?t.type:"default"},validator:e=>["default","select","display"].includes(e)},icon:{type:[String,Object],default:function(e){const t=nl(e.name);return t?t.icon:null}},list:{type:Array,default:function(e){const t=nl(e.name);return t&&t.list||[]}},title:{type:String,default:function(e){const t=nl(e.name);return t?t.title:""}},value:{type:[String,Number],default:function(e){const t=nl(e.name);return t?t.value:null}},props:{type:Object,default:function(e){const t=nl(e.name);return t&&t.props||{}}},disabled:{type:Boolean,default:!1},customActive:{type:Function}},inject:["menus"],data:()=>({rangeUpdateTimer:null,defaultVal:{},selectedVal:{},layerShow:!1,active:!1,relevanceDisabled:!1,linkParams:{url:"",text:"",target:!1,showText:!0},mediaParams:{tabIndex:0,remoteUrl:""},tableParams:{size:[],grids:ll()}}),computed:{parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},parseList(){return Array.isArray(this.list)?this.list.map((e=>{let t={};return u.common.isObject(e)?(t.label=e.label,t.value=e.value,t.icon=this.parseIcon(e.icon)):"string"==typeof e&&(t.label=e,t.value=e,t.icon=this.parseIcon(null)),t})):[]},cmpDisabled(){return!!this.disabled||(!!this.menus.disabled||(!this.menus.instance||(!!this.menus.instance.disabled||(!this.menus.instance.canUseMenus||(!(!this.menus.instance.codeViewShow||"codeview"==this.name)||this.relevanceDisabled)))))},layerElTag(){return e=>"title"==this.name?e.value:"div"},activeColorStyle(){let e={};return this.cmpDisabled||this.active&&(e.opacity=1,e.color=this.activeColor),e},activeColor(){return this.cmpDisabled?"":this.menus.instance.activeColor?this.menus.instance.activeColor:""},isDefinedMenu(){return!!nl(this.name)},menuColorStyle(){return e=>{let t={};return this.cmpDisabled||this.selectedVal.value==e.value&&(t.borderColor=this.activeColor),t}},uploadOptions(){let e={};return this.cmpDisabled?e:("image"==this.name?e=this.menus.combinedUploadImageProps:"video"==this.name&&(e=this.menus.combinedUploadVideoProps),{...e,select:e=>{this.menus.useBase64?e.forEach((e=>{u.file.dataFileToBase64(e).then((e=>{"image"==this.name?this.menus.instance.insertImage(e):"video"==this.name&&this.menus.instance.insertVideo(e)}))})):"image"==this.name?this.menus.$emit("upload-image",e):"video"==this.name&&this.menus.$emit("upload-video",e),this.hideLayer()},error:(e,t,i)=>{"image"==this.name?"function"==typeof this.menus.uploadImageError?this.menus.uploadImageError(e,t,i):wt.msgbox({message:t,animation:"scale"}):"video"==this.name&&("function"==typeof this.menus.uploadVideoError?this.menus.uploadVideoError(e,t,i):wt.msgbox({message:t,animation:"scale"})),this.hideLayer()}})}},components:{Icon:T,Tooltip:Ts,Layer:Cs,Checkbox:pe,Tabs:ys,Tab:bs,EditorTag:S({props:{tag:{type:String,default:"div"}},components:{Tag:{render(){return t.h(this.$parent.tag,{},{default:this.$slots.default})}}}},[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Tag");return t.openBlock(),t.createBlock(r,null,{default:t.withCtx((()=>[t.renderSlot(e.$slots,"default")])),_:3})}]])},setup:()=>({uid:t.getCurrentInstance().uid}),watch:{list:{handler:function(e){e&&"display"==this.type&&(null===this.value||void 0===this.value?(this.selectedVal={...this.parseList[0]},this.defaultVal={...this.parseList[0]}):(this.selectedVal=this.parseList.find((e=>e.value==this.value))||{...this.parseList[0]},this.defaultVal=this.parseList.find((e=>e.value==this.value))||{...this.parseList[0]}))},immediate:!0}},mounted(){const e=this.$watch("menus.instance",(t=>{t.editor.on("rangeUpdate",this.handleRangeUpdate),e()}))},methods:{beforeLayerShow(){if("link"==this.name){if(this.linkParams={url:"",text:"",target:!1,showText:!0},this.active){this.linkParams.showText=!1;const e=this.menus.instance.getCurrentParsedomElement("a");if(e){if(e.hasChildren()){const t=_n.flatElements(e.children);let i="";t.forEach((e=>{e.isText()&&(i+=e.textContent||"")})),this.linkParams.text=i}e.hasMarks()&&(this.linkParams.url=e.marks.href||"",this.linkParams.target="_blank"==e.marks.target)}}else if(!this.menus.instance.editor.range.anchor.isEqual(this.menus.instance.editor.range.focus)){let e="";this.menus.instance.editor.getElementsByRange(!0,!0).forEach((t=>{t.isText()&&(e+=t.textContent||"")})),this.linkParams.text=e,this.menus.instance.editor.formatElementStack()}}else if("image"==this.name||"video"==this.name){this.mediaParams.tabIndex=0,this.mediaParams.remoteUrl="";const e=this.$el.querySelectorAll(".mvi-editor-menu-media-upload");if(e.length)for(let t=0;t<e.length;t++){new E(e[t],{...this.uploadOptions}).init()}}},tabChange(){this.$nextTick((()=>{const e=this.$el.querySelectorAll(".mvi-editor-menu-media-upload");if(e.length)for(let t=0;t<e.length;t++){new E(e[t],{...this.uploadOptions}).init()}}))},inputFocus(e){e.currentTarget.style.borderColor=this.activeColor},inputBlur(e){e.currentTarget.style.borderColor=""},menuHover(e){this.cmpDisabled||"hover"==this.menus.trigger&&("enter"==e?this.showLayer():"leave"==e&&this.hideLayer())},layerClick(e){this.cmpDisabled||(this.isDefinedMenu?this.handleOpt(e):this.$emit("custom",{...e}),this.hideLayer())},menuClick(){this.cmpDisabled||("select"==this.type||"display"==this.type?"click"==this.menus.trigger&&(this.layerShow?this.hideLayer():this.showLayer()):this.isDefinedMenu?this.handleOpt():this.$emit("custom"))},showLayer(){this.cmpDisabled||"select"!=this.type&&"display"!=this.type||(this.layerShow=!0)},hideLayer(){"select"!=this.type&&"display"!=this.type||(this.layerShow=!1)},handleOpt(e){if(this.cmpDisabled)return;const t=this.menus.instance.editor;if("undo"==this.name){const e=t.history.get(-1);e&&(t.stack=e.stack,t.range=e.range,t.formatElementStack(),t.domRender(!0),t.rangeRender())}else if("redo"==this.name){const e=t.history.get(1);e&&(t.stack=e.stack,t.range=e.range,t.formatElementStack(),t.domRender(!0),t.rangeRender())}else if("removeformat"==this.name)t.removeTextStyle(),t.formatElementStack(),t.domRender(),t.rangeRender();else if("indent"==this.name)"indent-right"==e.value?t.setIndent():t.setOutdent(),t.formatElementStack(),t.domRender(),t.rangeRender();else if("divider"==this.name){const e=new _n("closed","hr",null,null,null);t.insertElement(e),t.formatElementStack(),t.domRender(),t.rangeRender()}else if("code"==this.name)this.active?t.removeTextMark(["data-code-style"]):t.setTextMark({"data-code-style":"mvi-editor-code"}),t.formatElementStack(),t.domRender(),t.rangeRender();else if("bold"==this.name)this.active?t.removeTextStyle(["font-weight"]):t.setTextStyle({"font-weight":"bold"}),t.formatElementStack(),t.domRender(),t.rangeRender();else if("italic"==this.name)this.active?t.removeTextStyle(["font-style"]):t.setTextStyle({"font-style":"italic"}),t.formatElementStack(),t.domRender(),t.rangeRender();else if("underline"==this.name)this.active?t.removeTextStyle(["text-decoration-line","text-decoration"]):t.setTextStyle({"text-decoration-line":"underline"}),t.formatElementStack(),t.domRender(),t.rangeRender();else if("strikethrough"==this.name)this.active?t.removeTextStyle(["text-decoration-line","text-decoration"]):t.setTextStyle({"text-decoration-line":"line-through"}),t.formatElementStack(),t.domRender(),t.rangeRender();else if("subscript"==this.name)this.active?t.removeTextStyle(["vertical-align"]):t.setTextStyle({"vertical-align":"sub"}),t.formatElementStack(),t.domRender(),t.rangeRender();else if("superscript"==this.name)this.active?t.removeTextStyle(["vertical-align"]):t.setTextStyle({"vertical-align":"super"}),t.formatElementStack(),t.domRender(),t.rangeRender();else if("title"==this.name){if(t.range.anchor.isEqual(t.range.focus)){const i=t.range.anchor.element.getBlock();Hn.toParagraph(i),i.parsedom=e.value}else{t.getElementsByRange(!0,!1).forEach((t=>{if(t.isBlock())Hn.toParagraph(t),t.parsedom=e.value;else{const i=t.getBlock();Hn.toParagraph(i),i.parsedom=e.value}}))}t.formatElementStack(),t.domRender(),t.rangeRender()}else if("fontfamily"==this.name)t.setTextStyle({"font-family":e.value}),t.formatElementStack(),t.domRender(),t.rangeRender();else if("fontsize"==this.name)t.setTextStyle({"font-size":e.value}),t.formatElementStack(),t.domRender(),t.rangeRender();else if("forecolor"==this.name)t.setTextStyle({color:e.value}),t.formatElementStack(),t.domRender(),t.rangeRender();else if("backcolor"==this.name)t.setTextStyle({"background-color":e.value}),t.formatElementStack(),t.domRender(),t.rangeRender();else if("ol"==this.name||"ul"==this.name)this.insertList("ol"==this.name),t.formatElementStack(),t.domRender(),t.rangeRender();else if("justify"==this.name){if(t.range.anchor.isEqual(t.range.focus)){const i=t.range.anchor.element.getBlock(),s=t.range.anchor.element.getInblock();s?s.hasStyles()?s.styles["text-align"]=e.value:s.styles={"text-align":e.value}:i.hasStyles()?i.styles["text-align"]=e.value:i.styles={"text-align":e.value}}else{t.getElementsByRange(!0,!1).forEach((t=>{if(t.isBlock()||t.isInblock())t.hasStyles()?t.styles["text-align"]=e.value:t.styles={"text-align":e.value};else{const i=t.getBlock(),s=t.getInblock();s?s.hasStyles()?s.styles["text-align"]=e.value:s.styles={"text-align":e.value}:i.hasStyles()?i.styles["text-align"]=e.value:i.styles={"text-align":e.value}}}))}t.formatElementStack(),t.domRender(),t.rangeRender()}else if("quote"==this.name){if(t.range.anchor.isEqual(t.range.focus)){const e=t.range.anchor.element.getBlock();Hn.toParagraph(e),this.active||(e.parsedom="blockquote")}else{t.getElementsByRange(!0,!1).forEach((e=>{if(e.isBlock())Hn.toParagraph(e),this.active||(e.parsedom="blockquote");else{const t=e.getBlock();Hn.toParagraph(t),this.active||(t.parsedom="blockquote")}}))}t.formatElementStack(),t.domRender(),t.rangeRender()}else if("codeblock"==this.name){if(this.active){const e=this.menus.instance.getCurrentParsedomElement("pre");Hn.toParagraph(e)}else if(t.range.anchor.isEqual(t.range.focus)){const e=t.range.anchor.element.getBlock();Hn.toParagraph(e),e.parsedom="pre";const i=new _n("block",_n.BLOCK_NODE,null,null,null),s=new _n("closed","br",null,null,null);t.addElementTo(s,i),t.addElementAfter(i,e)}else{let e=t.getElementsByRange(!0,!1);t.range.anchor.moveToStart(e[0].getBlock()),t.range.focus.moveToEnd(e[e.length-1].getBlock()),e=t.getElementsByRange(!0,!0).filter((e=>e.isText()));const i={};e.forEach((e=>{i[e.getBlock().key]?i[e.getBlock().key].push(e.clone()):i[e.getBlock().key]=[e.clone()]}));const s=new _n("block","pre",null,null,null);Object.keys(i).forEach(((e,o)=>{if(o>0){const e=new _n("text",null,null,null,"\n");s.hasChildren()?t.addElementTo(e,s,s.children.length):t.addElementTo(e,s)}i[e].forEach((e=>{s.hasChildren()?t.addElementTo(e,s,s.children.length):t.addElementTo(e,s)}))})),t.delete(),t.insertElement(s);const o=new _n("block",_n.BLOCK_NODE,null,null,null),n=new _n("closed","br",null,null,null);t.addElementTo(n,o),t.addElementAfter(o,s)}t.formatElementStack(),t.domRender(),t.rangeRender()}else"codeview"==this.name&&(this.menus.instance.codeViewShow=!this.menus.instance.codeViewShow)},handleRangeUpdate(e){this.rangeUpdateTimer&&(clearTimeout(this.rangeUpdateTimer),this.rangeUpdateTimer=null),this.rangeUpdateTimer=setTimeout((()=>{const t=this.menus.instance.editor;if("indent"==this.name){const e=!!this.menus.instance.getCurrentParsedomElement("table");this.relevanceDisabled=e}else if("divider"==this.name){const e=!!this.menus.instance.getCurrentParsedomElement("table");this.relevanceDisabled=e}else if("code"==this.name)this.active=t.queryTextMark("data-code-style"),e.anchor.isEqual(e.focus)||t.formatElementStack();else if("bold"==this.name)this.active=t.queryTextStyle("font-weight","bold"),e.anchor.isEqual(e.focus)||t.formatElementStack();else if("italic"==this.name)this.active=t.queryTextStyle("font-style","italic"),e.anchor.isEqual(e.focus)||t.formatElementStack();else if("underline"==this.name)this.active=t.queryTextStyle("text-decoration-line","underline")||t.queryTextStyle("text-decoration","underline"),e.anchor.isEqual(e.focus)||t.formatElementStack();else if("strikethrough"==this.name)this.active=t.queryTextStyle("text-decoration-line","line-through")||t.queryTextStyle("text-decoration","line-through"),e.anchor.isEqual(e.focus)||t.formatElementStack();else if("subscript"==this.name)this.active=t.queryTextStyle("vertical-align","sub"),e.anchor.isEqual(e.focus)||t.formatElementStack();else if("superscript"==this.name)this.active=t.queryTextStyle("vertical-align","super"),e.anchor.isEqual(e.focus)||t.formatElementStack();else if("title"==this.name){if(t.range.anchor.isEqual(t.range.focus))this.selectedVal=this.parseList.find((e=>e.value==t.range.anchor.element.getBlock().parsedom))||{...this.defaultVal};else{const e=t.getElementsByRange(!0,!1);this.selectedVal=this.parseList.find((t=>e.every((e=>{if(e.isBlock())return e.parsedom==t.value;return e.getBlock().parsedom==t.value}))))||{...this.defaultVal},t.formatElementStack()}const e=!!this.menus.instance.getCurrentParsedomElement("table");this.relevanceDisabled=e}else if("fontfamily"==this.name)this.selectedVal=this.parseList.find((e=>t.queryTextStyle("font-family",e.value)))||{...this.defaultVal},e.anchor.isEqual(e.focus)||t.formatElementStack();else if("fontsize"==this.name)this.selectedVal=this.parseList.find((e=>t.queryTextStyle("font-size",e.value)))||{...this.defaultVal},e.anchor.isEqual(e.focus)||t.formatElementStack();else if("forecolor"==this.name)this.selectedVal=this.parseList.find((e=>t.queryTextStyle("color",e.value)))||{},e.anchor.isEqual(e.focus)||t.formatElementStack();else if("backcolor"==this.name)this.selectedVal=this.parseList.find((e=>t.queryTextStyle("background-color",e.value)))||{},e.anchor.isEqual(e.focus)||t.formatElementStack();else if("ol"==this.name||"ul"==this.name){if(t.range.anchor.isEqual(t.range.focus)){const e=t.range.anchor.element.getBlock();this.active=Hn.isList(e,"ol"==this.name)}else{const e=t.getElementsByRange(!0,!1);this.active=e.every((e=>{if(e.isBlock())return Hn.isList(e,"ol"==this.name);{const t=e.getBlock();return Hn.isList(t,"ol"==this.name)}})),t.formatElementStack()}const e=!!this.menus.instance.getCurrentParsedomElement("table");this.relevanceDisabled=e}else if("justify"==this.name)if(t.range.anchor.isEqual(t.range.focus)){const e=t.range.anchor.element.getBlock(),i=t.range.anchor.element.getInblock();this.selectedVal=i?this.parseList.find((e=>i.hasStyles()&&i.styles["text-align"]==e.value))||{}:this.parseList.find((t=>e.hasStyles()&&e.styles["text-align"]==t.value))||{}}else{const e=t.getElementsByRange(!0,!1);this.selectedVal=this.parseList.find((t=>e.every((e=>{if(e.isBlock()||e.isInblock())return e.hasStyles()&&e.styles["text-align"]==t.value;const i=e.getBlock(),s=e.getInblock();return s?s.hasStyles()&&s.styles["text-align"]==t.value:i.hasStyles()&&i.styles["text-align"]==t.value}))))||{},t.formatElementStack()}else if("quote"==this.name){if(t.range.anchor.isEqual(t.range.focus)){const e=t.range.anchor.element.getBlock();this.active="blockquote"==e.parsedom}else{const e=t.getElementsByRange(!0,!1);this.active=e.every((e=>{if(e.isBlock())return"blockquote"==e.parsedom;return"blockquote"==e.getBlock().parsedom})),t.formatElementStack()}const e=!!this.menus.instance.getCurrentParsedomElement("table");this.relevanceDisabled=e}else if("link"==this.name){const e=this.menus.instance.getCurrentParsedomElement("a");this.active=!!e}else if("table"==this.name){const e=this.menus.instance.getCurrentParsedomElement("table");this.active=!!e}else if("codeblock"==this.name){const e=this.menus.instance.getCurrentParsedomElement("pre");this.active=!!e;const t=!!this.menus.instance.getCurrentParsedomElement("table");this.relevanceDisabled=t}else if(!this.isDefinedMenu&&"function"==typeof this.customActive){const e=this.customActive.apply(this,[this.name]);"default"==this.type?this.active=e:"select"==this.type?"boolean"==typeof e?this.active=e:this.selectedVal=this.parseList.find((t=>t.value==e))||{}:"boolean"==typeof e?this.active=e:this.selectedVal=this.parseList.find((t=>t.value==e))||{...this.defaultVal}}}),100)},insertList(e=!1){const t=this.menus.instance.editor;if(t.range.anchor.isEqual(t.range.focus)){const i=t.range.anchor.element.getBlock();Hn.toParagraph(i),this.active||Hn.toList(i,e)}else{this.menus.instance.editor.getElementsByRange(!0,!1).forEach((t=>{if(t.isBlock())Hn.toParagraph(t),this.active||Hn.toList(t,e);else{const i=t.getBlock();Hn.toParagraph(i),this.active||Hn.toList(i,e)}})),this.menus.instance.editor.formatElementStack()}},insertLink(){if(!this.cmpDisabled)if(this.linkParams.url){if(this.active){const e=this.menus.instance.getCurrentParsedomElement("a");e.marks.href=this.linkParams.url,this.linkParams.target?e.marks.target="_blank":delete e.marks.target}else{this.linkParams.text||(this.linkParams.text=this.linkParams.url);const e={href:this.linkParams.url};this.linkParams.target&&(e.target="_blank");const t=new _n("inline","a",e,null,null),i=new _n("text",null,null,null,this.linkParams.text);this.menus.instance.editor.addElementTo(i,t),this.menus.instance.editor.insertElement(t)}this.menus.instance.editor.formatElementStack(),this.menus.instance.editor.domRender(),this.menus.instance.editor.rangeRender(),this.hideLayer()}else this.hideLayer()},deleteLink(){if(this.cmpDisabled)return;const e=this.menus.instance.getCurrentParsedomElement("a");e.parsedom=_n.TEXT_NODE,delete e.marks.target,delete e.marks.href,this.menus.instance.editor.formatElementStack(),this.menus.instance.editor.domRender(),this.menus.instance.editor.rangeRender(),this.hideLayer()},insertRemote(){this.cmpDisabled||(this.mediaParams.remoteUrl?("video"==this.name?this.menus.instance.insertVideo(this.mediaParams.remoteUrl):this.menus.instance.insertImage(this.mediaParams.remoteUrl),this.menus.instance.editor.formatElementStack(),this.menus.instance.editor.domRender(),this.menus.instance.editor.rangeRender(),this.hideLayer()):this.hideLayer())},confirmTableSize(){if(this.cmpDisabled)return;const e=this.tableParams.size[1],t=this.tableParams.size[0],i=new _n("block","table",null,null,null),s=new _n("inblock","tbody",null,null,null);this.menus.instance.editor.addElementTo(s,i);for(let l=0;l<e;l++){const e=new _n("inblock","tr",null,null,null);for(let i=0;i<t;i++){const t=new _n("inblock","td",null,null,null),i=new _n("closed","br",null,null,null);this.menus.instance.editor.addElementTo(i,t),this.menus.instance.editor.addElementTo(t,e)}this.menus.instance.editor.addElementTo(e,s)}this.menus.instance.editor.insertElement(i);const o=new _n("block",_n.BLOCK_NODE,null,null,null),n=new _n("closed","br",null,null,null);this.menus.instance.editor.addElementTo(n,o),this.menus.instance.editor.addElementAfter(o,i),this.menus.instance.editor.formatElementStack(),this.menus.instance.editor.range.anchor.moveToStart(s),this.menus.instance.editor.range.focus.moveToStart(s),this.menus.instance.editor.domRender(),this.menus.instance.editor.rangeRender(),this.hideLayer()},changeTableSize(e){if(!this.cmpDisabled){this.tableParams.size=[e.x,e.y];for(let t in this.tableParams.grids){const i=this.tableParams.grids[t];for(let s in i)i[s].x<=e.x&&i[s].y<=e.y?this.tableParams.grids[t][s].inside=!0:this.tableParams.grids[t][s].inside=!1}}},addTableRow(){if(this.cmpDisabled)return;this.menus.instance.editor.range.anchor.isEqual(this.menus.instance.editor.range.focus)||(this.menus.instance.editor.range.anchor.element=this.menus.instance.editor.range.focus.element,this.menus.instance.editor.range.anchor.offset=this.menus.instance.editor.range.focus.offset);const e=this.menus.instance.getCurrentParsedomElement("tr"),t=e.clone();t.children.forEach((e=>{e.children=[];const t=new _n("closed","br",null,null,null);this.menus.instance.editor.addElementTo(t,e)})),this.menus.instance.editor.addElementAfter(t,e),this.menus.instance.editor.formatElementStack(),this.menus.instance.editor.range.anchor.moveToStart(t),this.menus.instance.editor.range.focus.moveToStart(t),this.menus.instance.editor.domRender(),this.menus.instance.editor.rangeRender(),this.hideLayer()},removeTableRow(){if(this.cmpDisabled)return;this.menus.instance.editor.range.anchor.isEqual(this.menus.instance.editor.range.focus)||(this.menus.instance.editor.range.anchor.element=this.menus.instance.editor.range.focus.element,this.menus.instance.editor.range.anchor.offset=this.menus.instance.editor.range.focus.offset);const e=this.menus.instance.getCurrentParsedomElement("tr");if(1==e.parent.children.length)return void this.deleteTable();const t=this.menus.instance.editor.getPreviousElement(e),i=this.menus.instance.editor.getNextElement(e);e.toEmpty(),this.menus.instance.editor.formatElementStack(),t?(this.menus.instance.editor.range.anchor.moveToEnd(t.children[0]),this.menus.instance.editor.range.focus.moveToEnd(t.children[0])):(this.menus.instance.editor.range.anchor.moveToEnd(i.children[0]),this.menus.instance.editor.range.focus.moveToEnd(i.children[0])),this.menus.instance.editor.domRender(),this.menus.instance.editor.rangeRender(),this.hideLayer()},addTableColumn(){if(this.cmpDisabled)return;this.menus.instance.editor.range.anchor.isEqual(this.menus.instance.editor.range.focus)||(this.menus.instance.editor.range.anchor.element=this.menus.instance.editor.range.focus.element,this.menus.instance.editor.range.anchor.offset=this.menus.instance.editor.range.focus.offset);const e=this.menus.instance.getCurrentParsedomElement("td"),t=this.menus.instance.getCurrentParsedomElement("tbody").children,i=e.parent.children.findIndex((t=>t.isEqual(e)));t.forEach((t=>{const s=e.clone(!1),o=new _n("closed","br",null,null,null);this.menus.instance.editor.addElementTo(o,s),this.menus.instance.editor.addElementTo(s,t,i+1)})),this.menus.instance.editor.formatElementStack();const s=this.menus.instance.editor.getNextElement(e);this.menus.instance.editor.range.anchor.moveToStart(s),this.menus.instance.editor.range.focus.moveToStart(s),this.menus.instance.editor.domRender(),this.menus.instance.editor.rangeRender(),this.hideLayer()},removeTableColumn(){if(this.cmpDisabled)return;this.menus.instance.editor.range.anchor.isEqual(this.menus.instance.editor.range.focus)||(this.menus.instance.editor.range.anchor.element=this.menus.instance.editor.range.focus.element,this.menus.instance.editor.range.anchor.offset=this.menus.instance.editor.range.focus.offset);const e=this.menus.instance.getCurrentParsedomElement("td"),t=this.menus.instance.getCurrentParsedomElement("tbody").children;if(1==e.parent.children.length)return void this.deleteTable();const i=this.menus.instance.editor.getPreviousElement(e),s=this.menus.instance.editor.getNextElement(e),o=e.parent.children.findIndex((t=>t.isEqual(e)));t.forEach((e=>{e.children[o].toEmpty()})),this.menus.instance.editor.formatElementStack(),i?(this.menus.instance.editor.range.anchor.moveToEnd(i),this.menus.instance.editor.range.focus.moveToEnd(i)):(this.menus.instance.editor.range.anchor.moveToEnd(s),this.menus.instance.editor.range.focus.moveToEnd(s)),this.menus.instance.editor.domRender(),this.menus.instance.editor.rangeRender(),this.hideLayer()},deleteTable(){if(this.cmpDisabled)return;this.menus.instance.editor.range.anchor.isEqual(this.menus.instance.editor.range.focus)||(this.menus.instance.editor.range.anchor.element=this.menus.instance.editor.range.focus.element,this.menus.instance.editor.range.anchor.offset=this.menus.instance.editor.range.focus.offset);this.menus.instance.getCurrentParsedomElement("table").toEmpty(),this.menus.instance.editor.formatElementStack(),this.menus.instance.editor.domRender(),this.menus.instance.editor.rangeRender(),this.hideLayer()}}},al=["data-id"],hl=["disabled","data-id"],cl={key:0,class:"mvi-editor-menu-text"},dl={key:0,class:"mvi-editor-menu-colors"},ml=["onClick"],ul={key:1,class:"mvi-editor-menu-table"},pl={class:"mvi-editor-menu-table-operations"},fl={class:"mvi-editor-menu-table-footer"},gl={class:"mvi-editor-menu-table-grids"},yl=["onMouseenter"],bl={key:0,class:"mvi-editor-menu-table-size"},vl={key:2,class:"mvi-editor-menu-link"},kl=["disabled","placeholder"],wl=["placeholder"],Cl={class:"mvi-editor-menu-link-footer"},El={class:"mvi-editor-menu-link-operation"},xl={key:3,class:"mvi-editor-menu-media"},$l={key:0,class:"mvi-editor-menu-media-upload"},Sl={key:1,class:"mvi-editor-menu-media-remote"},Tl=["placeholder"],Bl={key:4,class:"mvi-editor-menu-default"},Il=["textContent"];const Pl=S(rl,[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Icon"),a=t.resolveComponent("Tooltip"),h=t.resolveComponent("Checkbox"),c=t.resolveComponent("Tab"),d=t.resolveComponent("Tabs"),m=t.resolveComponent("EditorTag"),u=t.resolveComponent("Layer");return t.openBlock(),t.createElementBlock("div",{class:"mvi-editor-menu","data-id":`mvi-editor-menu-${o.uid}`,onMouseenter:i[22]||(i[22]=e=>l.menuHover("enter")),onMouseleave:i[23]||(i[23]=e=>l.menuHover("leave"))},[t.createVNode(a,{disabled:!l.menus.useTooltip||!s.title||l.cmpDisabled,title:s.title,trigger:"hover",placement:l.menus.combinedTooltipProps.placement,timeout:l.menus.combinedTooltipProps.timeout,color:l.menus.combinedTooltipProps.color,"text-color":l.menus.combinedTooltipProps.textColor,"border-color":l.menus.combinedTooltipProps.borderColor,offset:l.menus.combinedTooltipProps.offset,"z-index":l.menus.combinedTooltipProps.zIndex,fixed:l.menus.combinedTooltipProps.fixed,"fixed-auto":l.menus.combinedTooltipProps.fixedAuto,width:l.menus.combinedTooltipProps.width,animation:l.menus.combinedTooltipProps.animation,"show-triangle":l.menus.combinedTooltipProps.showTriangle,block:""},{default:t.withCtx((()=>[t.createElementVNode("div",{disabled:l.cmpDisabled||null,class:"mvi-editor-menu-el","data-id":`mvi-editor-menu-el-${o.uid}`,onClick:i[0]||(i[0]=(...e)=>l.menuClick&&l.menuClick(...e)),style:t.normalizeStyle(l.activeColorStyle)},["display"==s.type?(t.openBlock(),t.createElementBlock("span",cl,t.toDisplayString(n.selectedVal.label),1)):l.parseIcon(s.icon).type||l.parseIcon(s.icon).url?(t.openBlock(),t.createBlock(r,{key:1,type:l.parseIcon(s.icon).type,url:l.parseIcon(s.icon).url,size:l.parseIcon(s.icon).size,color:l.parseIcon(s.icon).color,spin:l.parseIcon(s.icon).spin},null,8,["type","url","size","color","spin"])):t.createCommentVNode("",!0),"select"==s.type||"display"==s.type?(t.openBlock(),t.createBlock(r,{key:2,type:"caret-down",class:"mvi-editor-menu-caret"})):t.createCommentVNode("",!0)],12,hl)])),_:1},8,["disabled","title","placement","timeout","color","text-color","border-color","offset","z-index","fixed","fixed-auto","width","animation","show-triangle"]),"select"==s.type||"display"==s.type?(t.openBlock(),t.createBlock(u,{key:0,modelValue:n.layerShow,"onUpdate:modelValue":i[21]||(i[21]=e=>n.layerShow=e),ref:"layer",placement:l.menus.combinedLayerProps.placement,"z-index":l.menus.combinedLayerProps.zIndex,fixed:l.menus.combinedLayerProps.fixed,"fixed-auto":l.menus.combinedLayerProps.fixedAuto,offset:l.menus.combinedLayerProps.offset,timeout:l.menus.combinedLayerProps.timeout,"show-triangle":l.menus.combinedLayerProps.showTriangle,animation:l.menus.combinedLayerProps.animation,shadow:l.menus.combinedLayerProps.shadow,border:l.menus.combinedLayerProps.border,width:l.menus.combinedLayerProps.width,closable:"click"==l.menus.trigger,target:`[data-id='mvi-editor-menu-el-${o.uid}']`,root:`[data-id='mvi-editor-menu-${o.uid}']`,onShowing:l.beforeLayerShow},{default:t.withCtx((()=>[e.$slots.layer?t.renderSlot(e.$slots,"layer",{key:0},void 0,!0):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},["forecolor"==s.name||"backcolor"==s.name?(t.openBlock(),t.createElementBlock("div",dl,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.parseList,(e=>(t.openBlock(),t.createElementBlock("div",{class:"mvi-editor-menu-color",style:t.normalizeStyle(l.menuColorStyle(e))},[t.createVNode(a,{disabled:!l.menus.useTooltip||!e.label||l.cmpDisabled,trigger:"hover",title:e.label,placement:l.menus.combinedTooltipProps.placement,timeout:l.menus.combinedTooltipProps.timeout,color:l.menus.combinedTooltipProps.color,"text-color":l.menus.combinedTooltipProps.textColor,"border-color":l.menus.combinedTooltipProps.borderColor,offset:l.menus.combinedTooltipProps.offset,"z-index":l.menus.combinedTooltipProps.zIndex,fixed:l.menus.combinedTooltipProps.fixed,"fixed-auto":l.menus.combinedTooltipProps.fixedAuto,width:l.menus.combinedTooltipProps.width,animation:l.menus.combinedTooltipProps.animation,"show-triangle":l.menus.combinedTooltipProps.showTriangle,block:""},{default:t.withCtx((()=>[t.createElementVNode("div",{style:t.normalizeStyle({backgroundColor:e.value}),onClick:t=>l.layerClick(e),class:"mvi-editor-menu-color-el"},null,12,ml)])),_:2},1032,["disabled","title","placement","timeout","color","text-color","border-color","offset","z-index","fixed","fixed-auto","width","animation","show-triangle"])],4)))),256))])):"table"==s.name?(t.openBlock(),t.createElementBlock("div",ul,[n.active?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[t.createElementVNode("div",pl,[t.createElementVNode("div",{onClick:i[1]||(i[1]=(...e)=>l.addTableRow&&l.addTableRow(...e)),style:t.normalizeStyle({color:l.activeColor}),class:"mvi-editor-menu-table-operation"},t.toDisplayString(s.props.insertRowText),5),t.createElementVNode("div",{onClick:i[2]||(i[2]=(...e)=>l.removeTableRow&&l.removeTableRow(...e)),class:"mvi-editor-menu-table-operation"},t.toDisplayString(s.props.removeRowText),1),t.createElementVNode("div",{onClick:i[3]||(i[3]=(...e)=>l.addTableColumn&&l.addTableColumn(...e)),style:t.normalizeStyle({color:l.activeColor}),class:"mvi-editor-menu-table-operation"},t.toDisplayString(s.props.insertColumnText),5),t.createElementVNode("div",{onClick:i[4]||(i[4]=(...e)=>l.removeTableColumn&&l.removeTableColumn(...e)),class:"mvi-editor-menu-table-operation"},t.toDisplayString(s.props.removeColumnText),1)]),t.createElementVNode("div",fl,[t.createElementVNode("span",{onClick:i[5]||(i[5]=(...e)=>l.deleteTable&&l.deleteTable(...e))},t.toDisplayString(s.props.deleteText),1)])],64)):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(n.tableParams.grids,(e=>(t.openBlock(),t.createElementBlock("div",gl,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e,(e=>(t.openBlock(),t.createElementBlock("div",{onClick:i[6]||(i[6]=(...e)=>l.confirmTableSize&&l.confirmTableSize(...e)),onMouseenter:t=>l.changeTableSize(e),class:t.normalizeClass(["mvi-editor-menu-table-grid",e.inside?"active":""])},null,42,yl)))),256))])))),256)),n.tableParams.size.length?(t.openBlock(),t.createElementBlock("div",bl,t.toDisplayString(n.tableParams.size[0])+" × "+t.toDisplayString(n.tableParams.size[1]),1)):t.createCommentVNode("",!0)],64))])):"link"==s.name?(t.openBlock(),t.createElementBlock("div",vl,[t.withDirectives(t.createElementVNode("input",{disabled:!n.linkParams.showText||null,ref:"linkText",onFocus:i[7]||(i[7]=(...e)=>l.inputFocus&&l.inputFocus(...e)),onBlur:i[8]||(i[8]=(...e)=>l.inputBlur&&l.inputBlur(...e)),"onUpdate:modelValue":i[9]||(i[9]=e=>n.linkParams.text=e),placeholder:s.props.placeholder[0],type:"text"},null,40,kl),[[t.vModelText,n.linkParams.text,void 0,{trim:!0}]]),t.withDirectives(t.createElementVNode("input",{ref:"linkUrl",onFocus:i[10]||(i[10]=(...e)=>l.inputFocus&&l.inputFocus(...e)),onBlur:i[11]||(i[11]=(...e)=>l.inputBlur&&l.inputBlur(...e)),"onUpdate:modelValue":i[12]||(i[12]=e=>n.linkParams.url=e),placeholder:s.props.placeholder[1],type:"text"},null,40,wl),[[t.vModelText,n.linkParams.url,void 0,{trim:!0}]]),t.createElementVNode("div",Cl,[t.createVNode(h,{label:s.props.targetText,"label-placement":"right",icon:{size:"0.24rem"},"label-size":"0.28rem",color:l.activeColor,modelValue:n.linkParams.target,"onUpdate:modelValue":i[13]||(i[13]=e=>n.linkParams.target=e)},null,8,["label","color","modelValue"]),t.createElementVNode("div",El,[n.linkParams.showText?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("span",{key:0,class:"mvi-editor-menu-link-delete",onClick:i[14]||(i[14]=(...e)=>l.deleteLink&&l.deleteLink(...e))},t.toDisplayString(s.props.removeText),1)),t.createElementVNode("span",{class:"mvi-editor-menu-link-insert",style:t.normalizeStyle({color:l.activeColor}),onClick:i[15]||(i[15]=(...e)=>l.insertLink&&l.insertLink(...e))},t.toDisplayString(s.props.insertText),5)])])])):"image"==s.name||"video"==s.name?(t.openBlock(),t.createElementBlock("div",xl,[t.createVNode(d,{onChange:l.tabChange,modelValue:n.mediaParams.tabIndex,"onUpdate:modelValue":i[20]||(i[20]=e=>n.mediaParams.tabIndex=e),flex:"flex-start",offset:"0.4rem","active-color":l.activeColor},{default:t.withCtx((()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.parseList,(e=>(t.openBlock(),t.createBlock(c,{title:e.label},{default:t.withCtx((()=>["upload"==e.value?(t.openBlock(),t.createElementBlock("div",$l,[t.createVNode(r,{type:"upload-square"})])):"remote"==e.value?(t.openBlock(),t.createElementBlock("div",Sl,[t.withDirectives(t.createElementVNode("input",{onFocus:i[16]||(i[16]=(...e)=>l.inputFocus&&l.inputFocus(...e)),onBlur:i[17]||(i[17]=(...e)=>l.inputBlur&&l.inputBlur(...e)),"onUpdate:modelValue":i[18]||(i[18]=e=>n.mediaParams.remoteUrl=e),placeholder:s.props.placeholder,type:"text"},null,40,Tl),[[t.vModelText,n.mediaParams.remoteUrl,void 0,{trim:!0}]]),t.createElementVNode("div",{class:"mvi-editor-menu-media-insert",style:t.normalizeStyle({color:l.activeColor}),onClick:i[19]||(i[19]=(...e)=>l.insertRemote&&l.insertRemote(...e))},t.toDisplayString(s.props.insertText),5)])):t.createCommentVNode("",!0)])),_:2},1032,["title"])))),256))])),_:1},8,["onChange","modelValue","active-color"])])):(t.openBlock(),t.createElementBlock("div",Bl,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.parseList,(e=>(t.openBlock(),t.createBlock(m,{tag:l.layerElTag(e),class:t.normalizeClass(["mvi-editor-menu-layer-el",n.selectedVal.value==e.value?"active":""]),onClick:t=>l.layerClick(e)},{default:t.withCtx((()=>[e.icon.type||e.icon.url?(t.openBlock(),t.createBlock(r,{key:0,class:"mvi-editor-menu-layer-icon",type:e.icon.type,url:e.icon.url,spin:e.icon.spin,size:e.icon.size,color:e.icon.color},null,8,["type","url","spin","size","color"])):t.createCommentVNode("",!0),t.createElementVNode("span",{textContent:t.toDisplayString(e.label)},null,8,Il)])),_:2},1032,["tag","class","onClick"])))),256))]))],64))])),_:3},8,["modelValue","placement","z-index","fixed","fixed-auto","offset","timeout","show-triangle","animation","shadow","border","width","closable","target","root","onShowing"])):t.createCommentVNode("",!0)],40,al)}],["__scopeId","data-v-bc0ea79e"]]);Pl.install=e=>{e.component(Pl.name,Pl)};const Vl=S({name:"m-row",props:{justify:{type:String,default:"flex-start",validator:e=>["flex-start","flex-end","space-around","space-between"].includes(e)},align:{type:String,default:"flex-start",validator:e=>["flex-start","flex-end","center"].includes(e)},tag:{type:String,default:"div"}},provide(){return{row:this}},computed:{rowStyle(){let e={};return e.justifyContent=this.justify,e.alignItems=this.align,e}},components:{Row:{render(){return t.h(this.$parent.tag,{},{default:this.$slots.default})}}}},[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Row",!0);return t.openBlock(),t.createBlock(r,{class:"mvi-row",style:t.normalizeStyle(l.rowStyle)},{default:t.withCtx((()=>[t.renderSlot(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])}],["__scopeId","data-v-3f4f3a9a"]]);Vl.install=e=>{e.component(Vl.name,Vl)};const zl=S({name:"m-col",props:{span:{type:Number,default:24},offset:{type:Number,default:0},tag:{type:String,default:"div"},xs:{type:[Number,Object],default:null},sm:{type:[Number,Object],default:null},md:{type:[Number,Object],default:null},lg:{type:[Number,Object],default:null},xl:{type:[Number,Object],default:null}},inject:["row"],computed:{colStyle(){let e=[];return this.span&&e.push("mvi-col-"+this.span),this.offset&&e.push("mvi-col-offset-"+this.offset),u.common.isObject(this.xs)?(u.number.isNumber(this.xs.span)&&e.push("mvi-col-xs-"+this.xs.span),u.number.isNumber(this.xs.offset)&&e.push("mvi-col-offset-xs-"+this.xs.offset)):u.number.isNumber(this.xs)&&e.push("mvi-col-xs-"+this.xs),u.common.isObject(this.sm)?(u.number.isNumber(this.sm.span)&&e.push("mvi-col-sm-"+this.sm.span),u.number.isNumber(this.sm.offset)&&e.push("mvi-col-offset-sm-"+this.sm.offset)):u.number.isNumber(this.sm)&&e.push("mvi-col-sm-"+this.sm),u.common.isObject(this.md)?(u.number.isNumber(this.md.span)&&e.push("mvi-col-md-"+this.md.span),u.number.isNumber(this.md.offset)&&e.push("mvi-col-offset-md-"+this.md.offset)):u.number.isNumber(this.md)&&e.push("mvi-col-md-"+this.md),u.common.isObject(this.lg)?(u.number.isNumber(this.lg.span)&&e.push("mvi-col-lg-"+this.lg.span),u.number.isNumber(this.lg.offset)&&e.push("mvi-col-offset-lg-"+this.lg.offset)):u.number.isNumber(this.lg)&&e.push("mvi-col-lg-"+this.lg),u.common.isObject(this.xl)?(u.number.isNumber(this.xl.span)&&e.push("mvi-col-xl-"+this.xl.span),u.number.isNumber(this.xl.offset)&&e.push("mvi-col-offset-xl-"+this.xl.offset)):u.number.isNumber(this.xl)&&e.push("mvi-col-xl-"+this.xl),e}},components:{Col:{render(){return t.h(this.$parent.tag,{},{default:this.$slots.default})}}}},[["render",function(e,i,s,o,n,l){const r=t.resolveComponent("Col",!0);return t.openBlock(),t.createBlock(r,{class:t.normalizeClass(l.colStyle)},{default:t.withCtx((()=>[t.renderSlot(e.$slots,"default",{},void 0,!0)])),_:3},8,["class"])}],["__scopeId","data-v-7098c473"]]);zl.install=e=>{e.component(zl.name,zl)};const Nl=S({name:"m-form",props:{width:{type:String,default:null},block:{type:Boolean,default:!1},align:{type:String,default:"center"},labelBlock:{type:Boolean,default:!1},labelWidth:{type:String,default:null},labelOffset:{type:String,default:null}},computed:{formStyle(){return{width:this.block&&this.width?this.width:""}}},provide(){return{form:this}}},[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-form",s.block?"block":""]),style:t.normalizeStyle(l.formStyle)},[t.renderSlot(e.$slots,"default",{},void 0,!0)],6)}],["__scopeId","data-v-318b5f2d"]]);Nl.install=e=>{e.component(Nl.name,Nl)};const _l=["textContent"],Dl={key:1,class:"mvi-form-container"};const Rl=S({name:"m-form-el",props:{align:{type:String,default:null},width:{type:String,default:null},label:{type:String,default:""},labelWidth:{type:String,default:null},labelOffset:{type:String,default:null}},inject:["form"],computed:{labelCls(){let e=["mvi-form-label"];return this.form.labelBlock&&this.form.block&&e.push("block"),e},labelStyle(){let e={};return this.form.labelBlock||(this.labelWidth?e.width=this.labelWidth:this.form.labelWidth&&(e.width=this.form.labelWidth)),this.labelOffset?this.form.labelBlock?e.marginBottom=this.labelOffset:e.marginRight=this.labelOffset:this.form.labelOffset&&(this.form.labelBlock?e.marginBottom=this.form.labelOffset:e.marginRight=this.form.labelOffset),e},formElStyle(){let e={};return this.width&&(e.width=this.width),this.align?e.alignItems=this.align:this.form.align&&(e.alignItems=this.form.align),e}}},[["render",function(e,i,s,o,n,l){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-form-el",l.form.block?"block":""]),style:t.normalizeStyle(l.formElStyle)},[s.label?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(l.labelCls),textContent:t.toDisplayString(s.label),style:t.normalizeStyle(l.labelStyle)},null,14,_l)):t.createCommentVNode("",!0),e.$slots.default?(t.openBlock(),t.createElementBlock("div",Dl,[t.renderSlot(e.$slots,"default",{},void 0,!0)])):t.createCommentVNode("",!0)],6)}],["__scopeId","data-v-5f7982ad"]]);Rl.install=e=>{e.component(Rl.name,Rl)};const Al=e=>{const t={Dap:u,Anchor:p,Resize:g,Drag:y,Prop:b,Scroll:v,Spy:k,Observe:w,Upload:E,Px:x,Ripple:$,Button:P,Icon:T,Cell:R,CellGroup:L,Navbar:Y,Tabbar:te,Image:le,Overlay:re,Popup:ae,Checkbox:pe,Radio:ke,DatePicker:De,DateNativePicker:Oe,Input:Ye,Modal:Ze,Dialog:ut,Toast:bt,Loading:Ee,Msgbox:wt,NumberKeyboard:zt,Search:Ot,Progress:Wt,Slider:Yt,Stepper:Zt,Switch:ti,Actionsheet:di,Dropdown:bi,Notify:Ci,PullRefresh:Ti,SwipeCell:zi,CircleProgress:Li,Collapse:Hi,CollapseItem:Ui,Divider:Zi,Roll:Ji,Steps:Qi,Step:os,Label:ns,Swiper:cs,SwiperSlide:ds,Tabs:ys,Tab:bs,Badge:G,Table:As,Calendar:Qs,Triangle:ws,Tooltip:Ts,ColorPicker:ro,ImagePreview:bo,Page:_o,LoadingBar:Ro,Picker:ze,TransitionSlide:Fi,List:Yo,Skeleton:Go,Sign:Zo,Layer:Cs,Select:ln,Autocomplete:mn,DateChooser:$n,Field:Pn,Editor:Jn,EditorMenus:sl,EditorMenu:Pl,Row:Vl,Col:zl,Form:Nl,FormEl:Rl};Object.values(t).map((t=>{t.install(e)}))},Ol="1.7.1",Ll={install:Al,version:Ol};e.Actionsheet=di,e.AlexElement=_n,e.Anchor=p,e.Autocomplete=mn,e.Badge=G,e.Button=P,e.Calendar=Qs,e.Cell=R,e.CellGroup=L,e.Checkbox=pe,e.CircleProgress=Li,e.Col=zl,e.Collapse=Hi,e.CollapseItem=Ui,e.ColorPicker=ro,e.Dap=u,e.DateChooser=$n,e.DateNativePicker=Oe,e.DatePicker=De,e.Dialog=ut,e.Divider=Zi,e.Drag=y,e.Dropdown=bi,e.Editor=Jn,e.EditorDefinedMenuConfig=ol,e.EditorMenu=Pl,e.EditorMenus=sl,e.Field=Pn,e.Form=Nl,e.FormEl=Rl,e.Icon=T,e.Image=le,e.ImagePreview=bo,e.Input=Ye,e.Label=ns,e.Layer=Cs,e.List=Yo,e.Loading=Ee,e.LoadingBar=Ro,e.Modal=Ze,e.Msgbox=wt,e.Navbar=Y,e.Notify=Ci,e.NumberKeyboard=zt,e.Observe=w,e.Overlay=re,e.Page=_o,e.Picker=ze,e.Popup=ae,e.Progress=Wt,e.Prop=b,e.PullRefresh=Ti,e.Px=x,e.Radio=ke,e.Resize=g,e.Ripple=$,e.Roll=Ji,e.Row=Vl,e.Scroll=v,e.Search=Ot,e.Select=ln,e.Sign=Zo,e.Skeleton=Go,e.Slider=Yt,e.Spy=k,e.Step=os,e.Stepper=Zt,e.Steps=Qi,e.SwipeCell=zi,e.Swiper=cs,e.SwiperSlide=ds,e.Switch=ti,e.Tab=bs,e.Tabbar=te,e.Table=As,e.Tabs=ys,e.Toast=bt,e.Tooltip=Ts,e.TransitionSlide=Fi,e.Triangle=ws,e.Upload=E,e.default=Ll,e.install=Al,e.version=Ol,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
