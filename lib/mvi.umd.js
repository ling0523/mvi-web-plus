!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).mvi={},e.Vue)}(this,(function(e,t){"use strict";const i={formatNumber(e){return this.isNumber(e)?e.toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,"):e},isNumber:e=>"number"==typeof e&&!isNaN(e),add:(...e)=>e.reduce(((e,t)=>{let i=0,s=0,n=0;try{i=e.toString().split(".")[1].length}catch(o){}try{s=t.toString().split(".")[1].length}catch(o){}return n=Math.pow(10,Math.max(i,s)),(e*n+t*n)/n})),subtract:(...e)=>e.reduce(((e,t)=>{let i=0,s=0,n=0;try{i=e.toString().split(".")[1].length}catch(o){}try{s=t.toString().split(".")[1].length}catch(o){}return n=Math.pow(10,Math.max(i,s)),(e*n-t*n)/n})),mutiply:(...e)=>e.reduce(((e,t)=>{let i=0,s=e.toString(),n=t.toString();try{i+=s.split(".")[1].length}catch(o){}try{i+=n.split(".")[1].length}catch(o){}return Number(s.replace(".",""))*Number(n.replace(".",""))/Math.pow(10,i)})),divide:(...e)=>e.reduce(((e,t)=>{let i=0,s=0,n=e.toString(),o=t.toString();try{i=n.split(".")[1].length}catch(r){}try{s=o.split(".")[1].length}catch(r){}return n=Number(n.replace(".","")),o=Number(o.replace(".","")),n/o*Math.pow(10,s-i)}))},s={insert(e,t,s){if(!e||"string"!=typeof e)throw new TypeError("The first argument must be a string");if("string"!=typeof t)throw new TypeError("The second argument must be a string");if(!i.isNumber(s))throw new TypeError("The third argument must be a number");if(s<0)throw new Error("The third argument cannot be less than 0");return e.substring(0,s)+t+e.substring(s,e.length)},delete(e,t,s){if(!e||"string"!=typeof e)throw new TypeError("The first argument must be a string");if(!i.isNumber(t))throw new TypeError("The second argument must be a number");if(t<0)throw new Error("The second argument cannot be less than 0");if(!i.isNumber(s))throw new TypeError("The third argument must be a number");if(s<0)throw new Error("The third argument cannot be less than 0");return e.substring(0,t)+e.substring(t+s,e.length)},replace(e,t,s,n){if(!e||"string"!=typeof e)throw new TypeError("The first argument must be a string");if(!i.isNumber(t))throw new TypeError("The second argument must be a number");if(t<0)throw new Error("The second argument cannot be less than 0");if(!i.isNumber(s))throw new TypeError("The third argument must be a number");if(s<0)throw new Error("The third argument cannot be less than 0");if("string"!=typeof n)throw new TypeError("The fourth argument must be a string");return e.substring(0,t)+n+e.substring(s,e.length)},trim(e,t){if("string"!=typeof e)throw new TypeError("The first argument must be a string");let i=e.replace(/(^\s+)|(\s+$)/g,"");return t&&(i=i.replace(/\s/g,"")),i}},n={isWindow:e=>e&&e instanceof Window,getElementPoint(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(this.isElement(t)||(t=document.body),!this.isContains(t,e))throw new Error("The second argument and the first argument have no hierarchical relationship");let i=e,s=0,n=0;for(;this.isElement(e)&&this.isContains(t,e)&&t!==e;)s+=e.offsetTop,n+=e.offsetLeft,e=e.offsetParent;return{top:s,left:n,right:t.offsetWidth-n-i.offsetWidth,bottom:t.offsetHeight-s-i.offsetHeight}},isContains(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(!this.isElement(t,!0))throw new TypeError("The second argument must be an element");return e===t||(e.contains?e.contains(t):e.compareDocumentPosition?!!(16&e.compareDocumentPosition(t)):void 0)},isParentNode(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(!this.isElement(t,!0))throw new TypeError("The second argument must be an element");return e!==t&&t.parentNode===e},children(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(t&&"string"!=typeof t)throw new TypeError("The second argument must be a string");return[...e.querySelectorAll(t||"*")].filter((t=>t.parentNode===e))},siblings(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(t&&"string"!=typeof t)throw new TypeError("The second argument must be a string");if(!e.parentNode)return[];return[...e.parentNode.querySelectorAll(t||"*")].filter((t=>t.parentNode===e.parentNode&&t!=e))},rem2px(e){if(!i.isNumber(e))throw new TypeError("The argument must be a number");let t=this.getCssStyle(document.documentElement,"font-size");return i.mutiply(e,parseFloat(t))},px2rem(e){if(!i.isNumber(e))throw new TypeError("The argument must be a number");let t=this.getCssStyle(document.documentElement,"font-size");return i.divide(e,parseFloat(t))},width(e){"string"==typeof e&&e&&(e=document.body.querySelector(e)),this.isElement(e)||(e=document.body);let t=e.clientWidth,s=parseFloat(this.getCssStyle(e,"padding-left")),n=parseFloat(this.getCssStyle(e,"padding-right"));return i.subtract(t,s,n)},height(e){"string"==typeof e&&e&&(e=document.body.querySelector(e)),this.isElement(e)||(e=document.body);let t=e.clientHeight,s=parseFloat(this.getCssStyle(e,"padding-top")),n=parseFloat(this.getCssStyle(e,"padding-bottom"));return i.subtract(t,s,n)},removeClass(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(!t||"string"!=typeof t)throw new TypeError("The second argument must be a string");let i=e.classList;s.trim(t).split(/\s+/).forEach(((e,t)=>{i.remove(e)}))},addClass(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(!t||"string"!=typeof t)throw new TypeError("The second argument must be a string");let i=e.classList;s.trim(t).split(/\s+/).forEach(((e,t)=>{i.add(e)}))},hasClass(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(!t||"string"!=typeof t)throw new TypeError("The second argument must be a string");let i=e.classList;return s.trim(t).split(/\s+/).every(((e,t)=>i.contains(e)))},scrollTopBottomTrigger(e,t){"string"==typeof e&&e&&(e=document.body.querySelector(e));let s=window;this.isElement(e)&&e!=document.body&&e!=document.documentElement&&(s=e),"function"==typeof e&&(t=e);let n=!0;s.addEventListener("scroll",(e=>{if(this.getScrollTop(s)<=0){if(!n)return;"function"==typeof t&&(n=!1,t({state:"top",target:s}))}else{let e={state:"bottom",target:s},o=0;if(o=s==window?window.innerHeight:s.clientHeight,i.add(this.getScrollTop(s),o)+1>=this.getScrollHeight(s)&&o!=this.getScrollHeight(s)){if(!n)return;"function"==typeof t&&(n=!1,t(e))}else n=!0}}))},getScrollWidth(e){"string"==typeof e&&e&&(e=document.body.querySelector(e));let t=0;return t=this.isElement(e)&&e!=document.documentElement&&e!=document.body?e.scrollWidth:0==document.documentElement.scrollWidth||0==document.body.scrollWidth?document.documentElement.scrollWidth||document.body.scrollWidth:document.documentElement.scrollWidth>document.body.scrollWidth?document.documentElement.scrollWidth:document.body.scrollWidth,t},getScrollHeight(e){"string"==typeof e&&e&&(e=document.body.querySelector(e));let t=0;return t=this.isElement(e)&&e!=document.documentElement&&e!=document.body?e.scrollHeight:0==document.documentElement.scrollHeight||0==document.body.scrollHeight?document.documentElement.scrollHeight||document.body.scrollHeight:document.documentElement.scrollHeight>document.body.scrollHeight?document.documentElement.scrollHeight:document.body.scrollHeight,t},setScrollTop(e){let t=!1,s=e.el;"string"==typeof s&&s&&(s=document.body.querySelector(s));let n=e.number||0,o=e.time||0;return this.isElement(s)&&s!=document.body&&s!=document.documentElement&&s!=window||(t=!0),new Promise(((e,r)=>{if(o<=0)t?document.documentElement.scrollTop=document.body.scrollTop=n:s.scrollTop=n,e();else{let r=10,l=i.divide(o,r),a=this.getScrollTop(s),c=i.divide(i.subtract(n,a),l),h=setInterval((()=>{l>0?(l--,t?document.documentElement.scrollTop=document.body.scrollTop=a=i.add(a,c):s.scrollTop=a=i.add(a,c)):(clearInterval(h),e())}),r)}}))},getScrollTop(e){"string"==typeof e&&e&&(e=document.body.querySelector(e));let t=0;return t=this.isElement(e)&&e!=document.body&&e!=document.documentElement&&e!=window?e.scrollTop:0==document.documentElement.scrollTop||0==document.body.scrollTop?document.documentElement.scrollTop||document.body.scrollTop:document.documentElement.scrollTop>document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,t},getScrollLeft(e){"string"==typeof e&&e&&(e=document.body.querySelector(e));let t=0;return t=this.isElement(e)&&e!=document.body&&e!=document.documentElement&&e!=window?e.scrollLeft:0==document.documentElement.scrollLeft||0==document.body.scrollLeft?document.documentElement.scrollLeft||document.body.scrollLeft:document.documentElement.scrollLeft>document.body.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,t},setScrollLeft(e){let t=!1,s=e.el;"string"==typeof s&&s&&(s=document.body.querySelector(s));let n=e.number||0,o=e.time||0;return this.isElement(s)&&s!=document.body&&s!=document.documentElement&&s!=window||(t=!0),new Promise(((e,r)=>{if(o<=0)t?document.documentElement.scrollLeft=document.body.scrollLeft=n:s.scrollLeft=n,e();else{let r=10,l=i.divide(o,r),a=this.getScrollLeft(s),c=i.divide(i.subtract(n,a),l),h=setInterval((()=>{l>0?(l--,t?document.documentElement.scrollLeft=document.body.scrollLeft=a=i.add(a,c):s.scrollLeft=a=i.add(a,c)):(clearInterval(h),e())}),r)}}))},getCssStyle(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(!t||"string"!=typeof t)throw new TypeError("The second argument must be a string");let i="";return i=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e)[t]:e.currentStyle[t],i},getCssSelector(e){if(!e||"string"!=typeof e)throw new TypeError("The argument must be a selector string");if(/^#{1}/.test(e))return{type:"id",value:e.substr(1)};if(/^\./.test(e))return{type:"class",value:e.substr(1)};if(/^\[(.+)\]$/.test(e)){let t="attribute",i="",n=s.trim(e,!0).substring(1,s.trim(e,!0).length-1).split("=");return 1==n.length&&(i=n[0]),2==n.length&&(i={attributeName:n[0],attributeValue:n[1].replace(/\'/g,"").replace(/\"/g,"")}),{type:t,value:i}}return{type:"tag",value:e}},getElementBounding(e){"string"==typeof e&&e&&(e=document.body.querySelector(e)),this.isElement(e)||(e=document.body);let t=e.getBoundingClientRect();return{top:t.top,bottom:i.subtract(document.documentElement.clientHeight||window.innerHeight,t.bottom),left:t.left,right:i.subtract(document.documentElement.clientWidth||window.innerWidth,t.right)}},isElement:e=>e&&e instanceof Node&&1===e.nodeType,string2dom(e,t="div"){if(!e||"string"!=typeof e)throw new TypeError("The argument must be an HTML string");let i=document.createElement(t);return i.innerHTML=e,1==i.children.length?i.children[0]:i.children}},o="_dap-datas",r={remove(e,t){if(!(e instanceof Document||n.isElement(e)||n.isWindow(e)))throw new TypeError("The first argument must be an element node or window or document");let i=e[o]||{};null==t||""===t?e[o]={}:(delete i[t],e[o]=i)},has(e,t){if(!(e instanceof Document||n.isElement(e)||n.isWindow(e)))throw new TypeError("The first argument must be an element node or window or document");if(null==t||""===t)throw new TypeError("The second parameter must be a unique key");return(e[o]||{}).hasOwnProperty(t)},get(e,t){if(!(e instanceof Document||n.isElement(e)||n.isWindow(e)))throw new TypeError("The first argument must be an element node or window or document");let i=e[o]||{};return null==t||""===t?i:i[t]},set(e,t,i){if(!(e instanceof Document||n.isElement(e)||n.isWindow(e)))throw new TypeError("The first argument must be an element node or window or document");if(null==t||""===t)throw new TypeError("The second parameter must be a unique key");let s=e[o]||{};s[t]=i,e[o]=s}},l={matchingText(e,t){if(!e||"string"!=typeof e)throw new TypeError("The first argument must be a string");if(!t||"string"!=typeof t)throw new TypeError("The second argument must be a string");let i=null;if("Chinese"==t&&(i=/^[\u4e00-\u9fa5]+$/),"chinese"==t&&(i=/[\u4e00-\u9fa5]/),"email"==t&&(i=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/),"userName"==t&&(i=/^[a-zA-Z0-9_]{4,16}$/),"int+"==t&&(i=/^\d+$/),"int-"==t&&(i=/^-\d+$/),"int"==t&&(i=/^-?\d+$/),"pos"==t&&(i=/^\d*\.?\d+$/),"neg"==t&&(i=/^-\d*\.?\d+$/),"number"==t&&(i=/^-?\d*\.?\d+$/),"phone"==t&&(i=/^1[0-9]\d{9}$/),"idCard"==t&&(i=/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/),"url"==t&&(i=/^((https?|ftp|file):\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/),"IPv4"==t&&(i=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/),"hex"==t&&(i=/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/),"QQ"==t&&(i=/^[1-9][0-9]{4,10}$/),"weixin"==t&&(i=/^[a-zA-Z]([-_a-zA-Z0-9]{5,19})+$/),"plate"==t&&(i=/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/),!i)throw new Error("The second parameter is out of scope");return i.test(e)},getUrlParams(e){if(!e||"string"!=typeof e)throw new TypeError("The argument must be a string");let t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=window.location.search.substr(1);if(!i){let e=window.location.hash.split("?");2==e.length&&(i=e[1])}let s=i.match(t);return s?decodeURIComponent(s[2]):null},isEmptyObject(e){return!!this.isObject(e)&&0==Object.keys(e).length},equal(e,t){if(typeof e!=typeof t)return!1;if(this.isObject(e)&&this.isObject(t)){e=Object.assign({},e),t=Object.assign({},t);let i=Object.getOwnPropertyNames(e),s=Object.getOwnPropertyNames(t);if(i.length!=s.length)return!1;let n=i.length;for(let o=0;o<n;o++){let s=i[o],n=e[s],r=t[s];if(this.isObject(n))return!!this.equal(n,r);if(n!==r)return!1}return!0}return e===t},isObject:e=>!("object"!=typeof e||!e),copyText(e){if(!e||"string"!=typeof e)throw new TypeError("No text to copy is defined");if(!navigator.clipboard)throw new Error("navigator.clipboard must be obtained in a secure environment, such as localhost, 127.0.0.1, or https, so the editor's copy, paste, and cut functions cannot be used");return navigator.clipboard.writeText(e)}},a=e=>{let t=e.split(/[\s]+/g),i=[];return t.forEach((e=>{let t=e.split("."),s={eventName:t[0]};t.length>1&&(s.guid=t[1]),i.push(s)})),i},c=(e,t,i)=>{let s=r.get(e,"dap-defined-events")||{},n=Object.keys(s),o=n.length;for(let r=0;r<o;r++){let o=n[r];s[o].type==t&&(i?o==t+"."+i&&(e.removeEventListener(s[o].type,s[o].fn,s[o].options),s[o]=void 0):(e.removeEventListener(s[o].type,s[o].fn,s[o].options),s[o]=void 0))}s=(e=>{let t={};return Object.keys(e).forEach((i=>{e[i]&&(t[i]=e[i])})),t})(s),r.set(e,"dap-defined-events",s)},h={on(e,t,i,s){if(!(e instanceof Document||n.isElement(e)||n.isWindow(e)))throw new TypeError("The first argument must be an element node or window or document");if(!t||"string"!=typeof t)throw new TypeError("The second argument must be a string");if(!i||"function"!=typeof i)throw new TypeError("The third argument must be a function");l.isObject(s)||(s={});a(t).forEach((t=>{((e,t,i,s,n)=>{let o=r.get(e,"dap-defined-events")||{};i||(i=r.get(e,"dap-event-guid")||0,r.set(e,"dap-event-guid",i+1)),o[i=t+"."+i]&&o[i].type==t&&e.removeEventListener(t,o[i].fn,o[i].options),e.addEventListener(t,s,n),o[i]={type:t,fn:s,options:n},r.set(e,"dap-defined-events",o)})(e,t.eventName,t.guid,i.bind(e),s)}))},off(e,t){if(!(e instanceof Document||n.isElement(e)||n.isWindow(e)))throw new TypeError("The first argument must be an element node or window or document");let i=r.get(e,"dap-defined-events");if(!i)return;if(!t){let t=Object.keys(i),s=t.length;for(let n=0;n<s;n++){let s=t[n];e.removeEventListener(i[s].type,i[s].fn,i[s].options)}return r.remove(e,"dap-defined-events"),void r.remove(e,"dap-event-guid")}a(t).forEach((t=>{c(e,t.eventName,t.guid)}))},get(e){if(!(e instanceof Document||n.isElement(e)||n.isWindow(e)))throw new TypeError("The first argument must be an element node or window or document");let t=r.get(e,"dap-defined-events");if(t)return t}},d={rgb2hsv(e){if(!Array.isArray(e)||3!=e.length)throw new TypeError("Invalid argument");let t=0,i=0,s=0,n=e[0]>=255?255:e[0],o=e[1]>=255?255:e[1],r=e[2]>=255?255:e[2];n=n<=0?0:n,o=o<=0?0:o,r=r<=0?0:r;let l=Math.max(n,o,r),a=Math.min(n,o,r);return s=l/255,i=0===l?0:1-a/l,l===a?t=0:l===n&&o>=r?t=(o-r)/(l-a)*60+0:l===n&&o<r?t=(o-r)/(l-a)*60+360:l===o?t=(r-n)/(l-a)*60+120:l===r&&(t=(n-o)/(l-a)*60+240),[t,100*i,100*s]},hsv2rgb(e){if(!Array.isArray(e)||3!=e.length)throw new TypeError("Invalid argument");let t=e[0]>=360||e[0]<=0?0:e[0],i=e[1]>=100?100:e[1];i=i<=0?0:i;let s=e[2]>=100?100:e[2];s=s<=0?0:s,i/=100,s/=100;let n=0,o=0,r=0,l=parseInt(t/60%6),a=t/60-l,c=s*(1-i),h=s*(1-a*i),d=s*(1-(1-a)*i);switch(l){case 0:n=s,o=d,r=c;break;case 1:n=h,o=s,r=c;break;case 2:n=c,o=s,r=d;break;case 3:n=c,o=h,r=s;break;case 4:n=d,o=c,r=s;break;case 5:n=s,o=c,r=h}return n=parseInt(255*n),o=parseInt(255*o),r=parseInt(255*r),[n,o,r]},rgb2hex(e){if(!Array.isArray(e)||3!=e.length)throw new TypeError("Invalid argument");return"#"+((1<<24)+(e[0]<<16)+(e[1]<<8)+e[2]).toString(16).slice(1)},hex2rgb(e){if(!e||"string"!=typeof e)throw new TypeError("The argument must be a string");let t=e.toLowerCase();if(!l.matchingText(t,"hex"))throw new TypeError("The argument must be a hexadecimal color value");if(4===t.length){let e="#";for(let i=1;i<4;i+=1)e+=t.slice(i,i+1).concat(t.slice(i,i+1));t=e}let i=[];for(let s=1;s<7;s+=2)i.push(parseInt("0x"+t.slice(s,s+2)));return i}},m={start(e,t){if(!window.SpeechSynthesisUtterance||!window.speechSynthesis)throw new Error("The current browser does not support this syntax");let s={pitch:.8,rate:1,volume:1,start:function(){},end:function(){},pause:function(){},resume:function(){},error:function(){}};l.isObject(t)||(t={}),i.isNumber(t.pitch)&&(s.pitch=t.pitch),i.isNumber(t.rate)&&(s.rate=t.rate),i.isNumber(t.volume)&&(s.volume=t.volume),"function"==typeof t.start&&(s.start=t.start),"function"==typeof t.end&&(s.end=t.end),"function"==typeof t.pause&&(s.pause=t.pause),"function"==typeof t.resume&&(s.resume=t.resume),"function"==typeof t.error&&(s.error=t.error);const n=new SpeechSynthesisUtterance;n.text=e,n.pitch=s.pitch,n.rate=s.rate,n.volume=s.volume,n.lang="zh-CN",n.onstart=t=>{s.start.apply(n,[t,{text:e,pitch:s.pitch,rate:s.rate,volume:s.volume}])},n.onend=t=>{s.end.apply(n,[t,{text:e,pitch:s.pitch,rate:s.rate,volume:s.volume}])},n.onpause=t=>{s.pause.apply(n,[t,{text:e,pitch:s.pitch,rate:s.rate,volume:s.volume}])},n.onresume=t=>{s.resume.apply(n,[t,{text:e,pitch:s.pitch,rate:s.rate,volume:s.volume}])},n.onerror=t=>{s.error.apply(n,[t,{text:e,pitch:s.pitch,rate:s.rate,volume:s.volume}])},window.speechSynthesis.speak(n)},stop(){if(!window.SpeechSynthesisUtterance||!window.speechSynthesis)throw new Error("The current browser does not support this syntax");window.speechSynthesis.cancel()},pause(){if(!window.SpeechSynthesisUtterance||!window.speechSynthesis)throw new Error("The current browser does not support this syntax");window.speechSynthesis.pause()},resume(){if(!window.SpeechSynthesisUtterance||!window.speechSynthesis)throw new Error("The current browser does not support this syntax");window.speechSynthesis.resume()}},u={number:i,data:r,element:n,event:h,common:l,color:d,file:{getImageUrl(e){if(!(e&&e instanceof File))throw new TypeError("The argument must be a File object");return window.URL.createObjectURL(e)},dataFileToBase64:e=>new Promise(((t,i)=>{e&&e instanceof File||i(new TypeError("The argument must be a File object"));let s=new FileReader;s.readAsDataURL(e),s.onloadend=()=>{let e=s.result;t(e)}})),dataBase64toFile(e,t){if(!e||"string"!=typeof e)throw new TypeError("The first argument must be a string");if(!t||"string"!=typeof t)throw new TypeError("The second argument must be a string");let i=e.split(","),s=i[0].match(/:(.*?);/)[1],n=atob(i[1]),o=n.length,r=new Uint8Array(o);for(;o--;)r[o]=n.charCodeAt(o);return new File([r],t,{type:s})}},string:s,platform:{language:()=>window.navigator.browserLanguage||window.navigator.language,device(){const e=window.navigator.userAgent;return{PC:!e.match(/AppleWebKit.*Mobile.*/),Mobile:!!e.match(/AppleWebKit.*Mobile.*/),iPhone:e.includes("iPhone"),Phone:e.includes("Android")&&/(?:Mobile)/.test(e)||e.includes("iPhone")||/(?:Windows Phone)/.test(e),iPad:e.includes("iPad"),Tablet:e.includes("iPad")||e.includes("Android")&&!/(?:Mobile)/.test(e)||e.includes("Firefox")&&/(?:Tablet)/.test(e),WindowsPhone:/(?:Windows Phone)/.test(e)}},browser(){const e=window.navigator.userAgent;return{Edge:!!e.match(/Edg\/([\d.]+)/),weixin:e.includes("MicroMessenger"),QQ:e.includes("QQ"),QQBrowser:e.includes("MQQBrowser"),UC:e.includes("UCBrowser"),Chrome:e.includes("Chrome"),Firefox:e.includes("Firefox"),sougou:e.toLocaleLowerCase().includes("se 2.x")||e.toLocaleLowerCase().includes("metasr")||e.toLocaleLowerCase().includes("sogou"),Safari:e.includes("Safari")&&!e.includes("Chrome")}},browserKernel(){const e=window.navigator.userAgent;return e.includes("Presto")?"opera":e.includes("AppleWebKit")?"webkit":e.includes("Gecko")&&!e.includes("KHTML")?"gecko":""},os(){const e=window.navigator.userAgent;return{Windows:e.includes("Windows"),Windows_CPU:e.toLocaleLowerCase().includes("win64")||e.toLocaleLowerCase().includes("wow64")?"x64":e.toLocaleLowerCase().includes("win32")||e.toLocaleLowerCase().includes("wow32")?"x32":"",Windows_Version:e.includes("Windows NT 6.1")||e.includes("Windows 7")?"Win7":e.includes("Windows NT 6.3")||e.includes("Windows NT 6.2")||e.includes("Windows NT 8")?"Win8":e.includes("Windows NT 10")||e.includes("Windows NT 6.4")?"Win10":"",Mac:e.includes("Macintosh"),Mac_Version:function(){if(e.includes("Macintosh")){const t=e.match(/Mac OS X ([^\s]+)\)/);if(t&&t[1])return t[1].split(/_|\./).join(".")}return""}(),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),ios_Version:function(){if(e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)){const t=e.match(/CPU.+OS ([^\s]+) like Mac OS X/);if(t&&t[1])return t[1].split(/_|\./).join(".")}return""}(),Android:e.includes("Android"),Android_Version:function(){const t=e.match(/Android ([^\s]+);/);return t&&t[1]?t[1].split(/_|\./).join("."):""}(),Linux:e.includes("Linux"),HarmonyOS:e.includes("HarmonyOS"),Ubuntu:e.includes("Ubuntu")}}},speech:m,install:e=>{e.config.globalProperties.$dap=u,e.provide("$dap",u)}};u.event.on(window,"touchstart.ios",(e=>{}));const p=class{constructor(e,t){this.$el=e,t=u.common.isObject(t)?t:{},this.$target=t.target,this.$root=t.root,this.callback=t.callback,this.time=t.time,this.distance=t.distance,this.hasInit=!1}init(){if(!this.hasInit){if(this.hasInit=!0,"string"==typeof this.$root&&this.$root&&(this.$root=document.documentElement.querySelector(this.$root)),"string"==typeof this.$target&&this.$target&&(this.$target=document.documentElement.querySelector(this.$target)),!u.element.isElement(this.$el))throw new TypeError("The element you click on is not a node element");if(!u.element.isElement(this.$target))throw new TypeError("Anchor element is not a node element");u.number.isNumber(this.time)||(this.time=0),"function"!=typeof this.callback&&(this.callback=function(){}),u.number.isNumber(this.distance)||(this.distance=.1),u.element.isElement(this.$root)?u.event.on(this.$el,"click.anchor",(e=>{let t=u.element.getElementPoint(this.$target,this.$root).top;u.element.setScrollTop({el:this.$root,number:t-u.element.rem2px(this.distance),time:this.time}).then((()=>{let e=t-u.element.rem2px(this.distance)<=0?0:t-u.element.rem2px(this.distance);this.callback(e)}))})):u.event.on(this.$el,"click.anchor",(e=>{let t=u.element.getElementPoint(this.$target).top;u.element.setScrollTop({number:t-u.element.rem2px(this.distance),time:this.time}).then((()=>{let e=t-u.element.rem2px(this.distance)<=0?0:t-u.element.rem2px(this.distance);this.callback(e)}))}))}}};p.install=e=>{e.directive("anchor",{mounted(e,t){let i={};u.common.isObject(t.value)&&Object.assign(i,t.value),new p(e,i).init()}})};class f{constructor(e,t){this.$el=e,t=u.common.isObject(t)?t:{},this.draggableX=t.draggableX,this.draggableY=t.draggableY,this.mode=t.mode,this.beforeResize=t.beforeResize,this.resize=t.resize,this.trigger=t.trigger,this.end=t.end,this.ready=t.ready,this.range=t.range,this.draggable=!1,this.leftRange={},this.rightRange={},this.topRange={},this.bottomRange={},this.leftTopRange={},this.rightTopRange={},this.leftBottomRange={},this.rightBottomRange={},this.startX=0,this.satrtY=0,this._width=0,this._height=0,this._left=0,this._right=0,this.hasInit=!1,this.cursor="",this.guid=this.createGuid()}getIsInRange(e,t,i){let s=e>=i.x[0]&&e<=i.x[1],n=t>=i.y[0]&&t<=i.y[1];return!(!s||!n)}down(e){this._width=this.$el.offsetWidth,this._height=this.$el.offsetHeight,this._left=this.$el.offsetLeft,this._top=this.$el.offsetTop,this.cursor=u.element.getCssStyle(this.$el,"cursor"),this.draggableX&&this.draggableY?this.getIsInRange(this.startX,this.startY,this.leftTopRange)?(this.mode.left||this.mode.top)&&(this.draggable=!0,this.$el.style.cursor="nw-resize",this.trigger.apply(this,[{event:e,area:f.AREA.LEFTTOP}])):this.getIsInRange(this.startX,this.startY,this.leftBottomRange)?(this.mode.left||this.mode.bottom)&&(this.draggable=!0,this.$el.style.cursor="sw-resize",this.trigger.apply(this,[{event:e,area:f.AREA.LEFTBOTTOM}])):this.getIsInRange(this.startX,this.startY,this.rightTopRange)?(this.mode.right||this.mode.top)&&(this.draggable=!0,this.$el.style.cursor="ne-resize",this.trigger.apply(this,[{event:e,area:f.AREA.RIGHTTOP}])):this.getIsInRange(this.startX,this.startY,this.rightBottomRange)?(this.mode.right||this.mode.bottom)&&(this.draggable=!0,this.$el.style.cursor="se-resize",this.trigger.apply(this,[{event:e,area:f.AREA.RIGHTBOTTOM}])):this.getIsInRange(this.startX,this.startY,this.leftRange)?this.mode.left&&(this.draggable=!0,this.$el.style.cursor="w-resize",this.trigger.apply(this,[{event:e,area:f.AREA.LEFT}])):this.getIsInRange(this.startX,this.startY,this.rightRange)?this.mode.right&&(this.draggable=!0,this.$el.style.cursor="e-resize",this.trigger.apply(this,[{event:e,area:f.AREA.RIGHT}])):this.getIsInRange(this.startX,this.startY,this.topRange)?this.mode.top&&(this.draggable=!0,this.$el.style.cursor="n-resize",this.trigger.apply(this,[{event:e,area:f.AREA.TOP}])):this.getIsInRange(this.startX,this.startY,this.bottomRange)&&this.mode.bottom&&(this.draggable=!0,this.$el.style.cursor="s-resize",this.trigger.apply(this,[{event:e,area:f.AREA.BOTTOM}])):this.draggableX?this.getIsInRange(this.startX,this.startY,this.leftRange)?this.mode.left&&(this.draggable=!0,this.$el.style.cursor="w-resize",this.trigger.apply(this,[{event:e,area:f.AREA.LEFT}])):this.getIsInRange(this.startX,this.startY,this.rightRange)&&this.mode.right&&(this.draggable=!0,this.$el.style.cursor="e-resize",this.trigger.apply(this,[{event:e,area:f.AREA.RIGHT}])):this.draggableY&&(this.getIsInRange(this.startX,this.startY,this.topRange)?this.mode.top&&(this.draggable=!0,this.$el.style.cursor="n-resize",this.trigger.apply(this,[{event:e,area:f.AREA.TOP}])):this.getIsInRange(this.startX,this.startY,this.bottomRange)&&this.mode.bottom&&(this.draggable=!0,this.$el.style.cursor="s-resize",this.trigger.apply(this,[{event:e,area:f.AREA.BOTTOM}])))}move(e,t,i){if(this.draggable){let s=t-this.startX,n=i-this.startY;if(this.draggableX&&this.draggableY){if(this.getIsInRange(this.startX,this.startY,this.leftTopRange)){if((this.mode.left||this.mode.top)&&!1===this.beforeResize.apply(this,[{event:e,area:f.AREA.LEFTTOP,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}]))return;this.mode.left&&(this.$el.style.width=this._width-s+"px",this.$el.style.left=this._left+s+"px"),this.mode.top&&(this.$el.style.height=this._height-n+"px",this.$el.style.top=this._top+n+"px"),(this.mode.left||this.mode.top)&&this.resize.apply(this,[{area:f.AREA.LEFTTOP,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}])}else if(this.getIsInRange(this.startX,this.startY,this.leftBottomRange)){if((this.mode.left||this.mode.bottom)&&!1===this.beforeResize.apply(this,[{area:f.AREA.LEFTBOTTOM,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}]))return;this.mode.left&&(this.$el.style.width=this._width-s+"px",this.$el.style.left=this._left+s+"px"),this.mode.bottom&&(this.$el.style.height=this._height+n+"px"),(this.mode.left||this.mode.bottom)&&this.resize.apply(this,[{area:f.AREA.LEFTBOTTOM,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}])}else if(this.getIsInRange(this.startX,this.startY,this.rightTopRange)){if((this.mode.right||this.mode.top)&&!1===this.beforeResize.apply(this,[{area:f.AREA.RIGHTTOP,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}]))return;this.mode.right&&(this.$el.style.width=this._width+s+"px"),this.mode.top&&(this.$el.style.height=this._height-n+"px",this.$el.style.top=this._top+n+"px"),(this.mode.top||this.mode.right)&&this.resize.apply(this,[{area:f.AREA.RIGHTTOP,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}])}else if(this.getIsInRange(this.startX,this.startY,this.rightBottomRange)){if((this.mode.right||this.mode.bottom)&&!1===this.beforeResize.apply(this,[{area:f.AREA.RIGHTBOTTOM,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}]))return;this.mode.right&&(this.$el.style.width=this._width+s+"px"),this.mode.bottom&&(this.$el.style.height=this._height+n+"px"),(this.mode.right||this.mode.bottom)&&this.resize.apply(this,[{area:f.AREA.RIGHTBOTTOM,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}])}else if(this.getIsInRange(this.startX,this.startY,this.leftRange)){if(this.mode.left){if(!1===this.beforeResize.apply(this,[{area:f.AREA.LEFT,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}]))return;this.$el.style.width=this._width-s+"px",this.$el.style.left=this._left+s+"px",this.resize.apply(this,[{area:f.AREA.LEFT,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}])}}else if(this.getIsInRange(this.startX,this.startY,this.rightRange)){if(this.mode.right){if(!1===this.beforeResize.apply(this,[{area:f.AREA.RIGHT,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}]))return;this.$el.style.width=this._width+s+"px",this.resize.apply(this,[{area:f.AREA.RIGHT,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}])}}else if(this.getIsInRange(this.startX,this.startY,this.topRange)){if(this.mode.top){if(!1===this.beforeResize.apply(this,[{area:f.AREA.TOP,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}]))return;this.$el.style.height=this._height-n+"px",this.$el.style.top=this._top+n+"px",this.resize.apply(this,[{area:f.AREA.TOP,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}])}}else if(this.getIsInRange(this.startX,this.startY,this.bottomRange)&&this.mode.bottom){if(!1===this.beforeResize.apply(this,[{area:f.AREA.BOTTOM,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}]))return;this.$el.style.height=this._height+n+"px",this.resize.apply(this,[{area:f.AREA.BOTTOM,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}])}}else if(this.draggableX){if(this.getIsInRange(this.startX,this.startY,this.leftRange)){if(this.mode.left){if(!1===this.beforeResize.apply(this,[{area:f.AREA.LEFT,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}]))return;this.$el.style.width=this._width-s+"px",this.$el.style.left=this._left+s+"px",this.resize.apply(this,[{area:f.AREA.LEFT,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}])}}else if(this.getIsInRange(this.startX,this.startY,this.rightRange)&&this.mode.right){if(!1===this.beforeResize.apply(this,[{area:f.AREA.RIGHT,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}]))return;this.$el.style.width=this._width+s+"px",this.resize.apply(this,[{area:f.AREA.RIGHT,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}])}}else if(this.draggableY)if(this.getIsInRange(this.startX,this.startY,this.topRange)){if(this.mode.top){if(!1===this.beforeResize.apply(this,[{area:f.AREA.TOP,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}]))return;this.$el.style.height=this._height-n+"px",this.$el.style.top=this._top+n+"px",this.resize.apply(this,[{area:f.AREA.TOP,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}])}}else if(this.getIsInRange(this.startX,this.startY,this.bottomRange)&&this.mode.bottom){if(!1===this.beforeResize.apply(this,[{area:f.AREA.BOTTOM,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}]))return;this.$el.style.height=this._height+n+"px",this.resize.apply(this,[{area:f.AREA.BOTTOM,event:e,width:this.$el.offsetWidth,height:this.$el.offsetHeight,moveX:s,moveY:n}])}}}leave(e){this.draggable&&(this.$el.style.cursor=this.cursor,this.draggable=!1,this.draggableX&&this.draggableY?this.getIsInRange(this.startX,this.startY,this.leftTopRange)?this.end.apply(this,[{event:e,area:f.AREA.LEFTTOP}]):this.getIsInRange(this.startX,this.startY,this.leftBottomRange)?this.end.apply(this,[{event:e,area:f.AREA.LEFTBOTTOM}]):this.getIsInRange(this.startX,this.startY,this.rightTopRange)?this.end.apply(this,[{event:e,area:f.AREA.RIGHTTOP}]):this.getIsInRange(this.startX,this.startY,this.rightBottomRange)?this.end.apply(this,[{event:e,area:f.AREA.RIGHTBOTTOM}]):this.getIsInRange(this.startX,this.startY,this.leftRange)?this.end.apply(this,[{event:e,area:f.AREA.LEFT}]):this.getIsInRange(this.startX,this.startY,this.rightRange)?this.end.apply(this,[{event:e,area:f.AREA.RIGHT}]):this.getIsInRange(this.startX,this.startY,this.topRange)?this.end.apply(this,[{event:e,area:f.AREA.TOP}]):this.getIsInRange(this.startX,this.startY,this.bottomRange)&&this.end.apply(this,[{event:e,area:f.AREA.BOTTOM}]):this.draggableX?this.getIsInRange(this.startX,this.startY,this.leftRange)?this.end.apply(this,[{event:e,area:f.AREA.LEFT}]):this.getIsInRange(this.startX,this.startY,this.rightRange)&&this.end.apply(this,[{event:e,area:f.AREA.RIGHT}]):this.draggableY&&(this.getIsInRange(this.startX,this.startY,this.topRange)?this.end.apply(this,[{event:e,area:f.AREA.TOP}]):this.getIsInRange(this.startX,this.startY,this.bottomRange)&&this.end.apply(this,[{event:e,area:f.AREA.BOTTOM}])),this.setRange())}setOn(){u.event.on(this.$el,"touchstart.resize",(e=>{this.startX=e.targetTouches[0].pageX,this.startY=e.targetTouches[0].pageY,this.down(e)})),u.event.on(this.$el,"touchmove.resize",(e=>{e.cancelable&&e.preventDefault();let t=e.targetTouches[0].pageX,i=e.targetTouches[0].pageY;this.move(e,t,i)})),u.event.on(this.$el,"touchend.resize",(e=>{this.leave(e)})),u.event.on(this.$el,"mousedown.resize",(e=>{this.startX=e.pageX,this.startY=e.pageY,this.down(e)})),u.event.on(document.documentElement,`mousemove.resize_${this.guid}`,(e=>{let t=e.pageX,i=e.pageY;this.move(e,t,i)})),u.event.on(document.documentElement,`mouseup.resize_${this.guid}`,(e=>{this.leave(e)}))}createGuid(){let e=u.data.get(document.body,"mvi-directives-resize-guid")||0;return e++,u.data.set(document.body,"mvi-directives-resize-guid",e),e}init(){if(!this.hasInit){if(this.hasInit=!0,!u.element.isElement(this.$el))throw new TypeError("The element that needs to be resized is not a node element");"boolean"!=typeof this.draggableX&&(this.draggableX=!0),"boolean"!=typeof this.draggableY&&(this.draggableY=!0),u.common.isObject(this.mode)?("boolean"!=typeof this.mode.left&&(this.mode.left=f.MODE.LEFT),"boolean"!=typeof this.mode.top&&(this.mode.top=f.MODE.TOP),"boolean"!=typeof this.mode.bottom&&(this.mode.bottom=f.MODE.BOTTOM),"boolean"!=typeof this.mode.right&&(this.mode.right=f.MODE.RIGHT)):this.mode={left:f.MODE.LEFT,top:f.MODE.TOP,bottom:f.MODE.BOTTOM,right:f.MODE.RIGHT},"function"!=typeof this.beforeResize&&(this.beforeResize=function(){}),"function"!=typeof this.resize&&(this.resize=function(){}),"function"!=typeof this.trigger&&(this.trigger=function(){}),"function"!=typeof this.end&&(this.end=function(){}),"function"!=typeof this.ready&&(this.ready=function(){}),u.number.isNumber(this.range)||(this.range=.4),this.setRange(),this.setOn(),this.ready.apply(this,[this])}}setRange(){let e=this.$el.getBoundingClientRect();this.draggableX&&this.draggableY?(this.leftRange={x:[e.left,e.left+u.element.rem2px(this.range)],y:[e.top+u.element.rem2px(this.range),e.bottom-u.element.rem2px(this.range)]},this.rightRange={x:[e.right-u.element.rem2px(this.range),e.right],y:[e.top+u.element.rem2px(this.range),e.bottom-u.element.rem2px(this.range)]},this.topRange={x:[e.left+u.element.rem2px(this.range),e.right-u.element.rem2px(this.range)],y:[e.top,e.top+u.element.rem2px(this.range)]},this.bottomRange={x:[e.left+u.element.rem2px(this.range),e.right-u.element.rem2px(this.range)],y:[e.bottom-u.element.rem2px(this.range),e.bottom]},this.leftTopRange={x:[e.left,e.left+u.element.rem2px(this.range)],y:[e.top,e.top+u.element.rem2px(this.range)]},this.leftBottomRange={x:[e.left,e.left+u.element.rem2px(this.range)],y:[e.bottom-u.element.rem2px(this.range),e.bottom]},this.rightTopRange={x:[e.right-u.element.rem2px(this.range),e.right],y:[e.top,e.top+u.element.rem2px(this.range)]},this.rightBottomRange={x:[e.right-u.element.rem2px(this.range),e.right],y:[e.bottom-u.element.rem2px(this.range),e.bottom]}):this.draggableX?(this.leftRange={x:[e.left,e.left+u.element.rem2px(this.range)],y:[e.top,e.bottom]},this.rightRange={x:[e.right-u.element.rem2px(this.range),e.right],y:[e.top,e.bottom]}):this.draggableY&&(this.topRange={x:[e.left,e.right],y:[e.top,e.top+u.element.rem2px(this.range)]},this.bottomRange={x:[e.left,e.right],y:[e.bottom-u.element.rem2px(this.range),e.bottom]})}destroy(){u.event.off(document.documentElement,`mousemove.resize_${this.guid} mouseup.resize_${this.guid}`)}disabledDragX(){this.draggableX=!1,this.setRange()}disabledDragY(){this.draggableY=!1,this.setRange()}enabledDragX(){this.draggableX=!0,this.setRange()}enabledDragY(){this.draggableY=!0,this.setRange()}}f.AREA={LEFT:"left",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFTTOP:"left-top",LEFTBOTTOM:"left-bottom",RIGHTTOP:"right-top",RIGHTBOTTOM:"right-bottom"},f.MODE={LEFT:!0,TOP:!0,BOTTOM:!0,RIGHT:!0};const g=f;g.install=e=>{e.directive("resize",{mounted(e,t){let i={};u.common.isObject(t.value)&&Object.assign(i,t.value);let s=new g(e,i);s.init(),u.data.set(e,"directive:resize",s)},beforeUnmount(e){let t=u.data.get(e,"directive:resize");t&&t.destroy()}})};const y=class{constructor(e,t){this.$el=e,t=u.common.isObject(t)?t:{},this.$container=t.container,this.draggableX=t.draggableX,this.draggableY=t.draggableY,this.mode=t.mode,this.cursor=t.cursor,this.drag=t.drag,this.beforeDrag=t.beforeDrag,this.dragged=t.dragged,this.ready=t.ready,this.draggable=!1,this.hasInit=!1,this.pageX=0,this.pageY=0,this.guid=this.createGuid()}setOn(){u.event.on(this.$el,"touchstart.drag",(e=>{(this.draggableX||this.draggableY)&&(this.pageX=e.targetTouches[0].pageX-u.element.getElementPoint(this.$el,this.$container).left,this.pageY=e.targetTouches[0].pageY-u.element.getElementPoint(this.$el,this.$container).top,this.draggable=!0,this.cursor&&(this.$el.style.cursor="move"),this.beforeDrag.apply(this,[this.$el,this.$container,u.element.getElementPoint(this.$el,this.$container),e]))})),u.event.on(this.$el,"touchmove.drag",(e=>{if(this.draggable){if(!this.draggableX&&!this.draggableY)return;e.cancelable&&e.preventDefault();let t=e.targetTouches[0].pageX-this.pageX,i=e.targetTouches[0].pageY-this.pageY;this.draggableX&&(this.$el.style.left=t+"px",this.$el.style.right="auto"),this.draggableY&&(this.$el.style.top=i+"px",this.$el.style.bottom="auto"),this.resize(),(this.draggableX||this.draggableY)&&this.drag.apply(this,[this.$el,this.$container,u.element.getElementPoint(this.$el,this.$container),e])}})),u.event.on(this.$el,"touchend.drag",(e=>{if(this.draggable){if(!this.draggableX&&!this.draggableY)return;this.draggable=!1,this.cursor&&(this.$el.style.cursor=""),this.dragged.apply(this,[this.$el,this.$container,u.element.getElementPoint(this.$el,this.$container),e])}})),u.event.on(this.$el,"mousedown.drag",(e=>{(this.draggableX||this.draggableY)&&(this.pageX=e.pageX-u.element.getElementPoint(this.$el,this.$container).left,this.pageY=e.pageY-u.element.getElementPoint(this.$el,this.$container).top,this.draggable=!0,this.cursor&&(this.$el.style.cursor="move"),this.beforeDrag.apply(this,[this.$el,this.$container,u.element.getElementPoint(this.$el,this.$container),e]))})),u.event.on(document.documentElement,`mousemove.drag_${this.guid}`,(e=>{if(this.draggable){if(!this.draggableX&&!this.draggableY)return;let t=e.pageX-this.pageX,i=e.pageY-this.pageY;this.draggableX&&(this.$el.style.left=t+"px",this.$el.style.right="auto"),this.draggableY&&(this.$el.style.top=i+"px",this.$el.style.bottom="auto"),this.resize(),(this.draggableX||this.draggableY)&&this.drag.apply(this,[this.$el,this.$container,u.element.getElementPoint(this.$el,this.$container),e])}})),u.event.on(document.documentElement,`mouseup.drag_${this.guid}`,(e=>{if(this.draggable){if(!this.draggableX&&!this.draggableY)return;this.draggable=!1,this.cursor&&(this.$el.style.cursor=""),this.dragged.apply(this,[this.$el,this.$container,u.element.getElementPoint(this.$el,this.$container),e])}}))}resize(){"in"==this.mode?(this.draggableX&&(u.element.getElementPoint(this.$el,this.$container).left<=0&&(this.$el.style.left=0),u.element.getElementPoint(this.$el,this.$container).left>=this.$container.offsetWidth-this.$el.offsetWidth&&(this.$el.style.left=this.$container.offsetWidth-this.$el.offsetWidth+"px")),this.draggableY&&(u.element.getElementPoint(this.$el,this.$container).top<=0&&(this.$el.style.top=0),u.element.getElementPoint(this.$el,this.$container).top>=this.$container.offsetHeight-this.$el.offsetHeight&&(this.$el.style.top=this.$container.offsetHeight-this.$el.offsetHeight+"px"))):"on"==this.mode?(this.draggableX&&(u.element.getElementPoint(this.$el,this.$container).left<=-this.$el.offsetWidth/2&&(this.$el.style.left=-this.$el.offsetWidth/2+"px"),u.element.getElementPoint(this.$el,this.$container).left>=this.$container.offsetWidth-this.$el.offsetWidth/2&&(this.$el.style.left=this.$container.offsetWidth-this.$el.offsetWidth/2+"px")),this.draggableY&&(u.element.getElementPoint(this.$el,this.$container).top<=-this.$el.offsetHeight/2&&(this.$el.style.top=-this.$el.offsetHeight/2+"px"),u.element.getElementPoint(this.$el,this.$container).top>=this.$container.offsetHeight-this.$el.offsetHeight/2&&(this.$el.style.top=this.$container.offsetHeight-this.$el.offsetHeight/2+"px"))):"out"==this.mode&&(this.draggableX&&(u.element.getElementPoint(this.$el,this.$container).left<=-this.$el.offsetWidth&&(this.$el.style.left=-this.$el.offsetWidth+"px"),u.element.getElementPoint(this.$el,this.$container).left>=this.$container.offsetWidth&&(this.$el.style.left=this.$container.offsetWidth+"px")),this.draggableY&&(u.element.getElementPoint(this.$el,this.$container).top<=-this.$el.offsetHeight&&(this.$el.style.top=-this.$el.offsetHeight+"px"),u.element.getElementPoint(this.$el,this.$container).top>=this.$container.offsetHeight&&(this.$el.style.top=this.$container.offsetHeight+"px")))}createGuid(){let e=u.data.get(document.body,"mvi-directives-drag-guid")||0;return e++,u.data.set(document.body,"mvi-directives-drag-guid",e),e}init(){if(!this.hasInit){if(this.hasInit=!0,!u.element.isElement(this.$el))throw new TypeError("The element that needs to be dragged is not a node element");if("string"==typeof this.$container&&this.$container&&(this.$container=document.body.querySelector(this.$container)),u.element.isElement(this.$container)||(this.$container=document.body),!u.element.isContains(this.$container,this.$el))throw new Error("Elements that need to be dragged are not descendants of container elements");if("static"==u.element.getCssStyle(this.$container,"position")&&this.$container!=document.body)throw new Error("The container element cannot be static positioning");if("static"==u.element.getCssStyle(this.$el,"position")||"relative"==u.element.getCssStyle(this.$el,"position"))throw new Error("The element that need to be dragged cannot be static and relative positioning");"boolean"!=typeof this.draggableY&&(this.draggableY=!0),"boolean"!=typeof this.draggableX&&(this.draggableX=!0),"on"!=this.mode&&"in"!=this.mode&&"over"!=this.mode&&"out"!=this.mode&&(this.mode=""),"boolean"!=typeof this.cursor&&(this.cursor=!0),"function"!=typeof this.drag&&(this.drag=function(){}),"function"!=typeof this.beforeDrag&&(this.beforeDrag=function(){}),"function"!=typeof this.dragged&&(this.dragged=function(){}),"function"!=typeof this.ready&&(this.ready=function(){}),this.setOn(),this.ready.apply(this,[this])}}destroy(){u.event.off(document.documentElement,`mousemove.drag_${this.guid} mouseup.drag_${this.guid}`)}};y.install=e=>{e.directive("drag",{mounted(e,t){let i={};u.common.isObject(t.value)&&Object.assign(i,t.value);let s=new y(e,i);s.init(),u.data.set(e,"directive:drag",s)},beforeUnmount(e){let t=u.data.get(e,"directive:drag");t&&t.destroy()}})};const b=class{constructor(e,t){this.$el=e,this.ratio=t,this.width=0,this.height=0,this.hasInit=!1,this.guid=this.createGuid()}createGuid(){let e=u.data.get(document.body,"mvi-directives-prop-guid")||0;return e++,u.data.set(document.body,"mvi-directives-prop-guid",e),e}set(e){"number"==typeof e&&!isNaN(e)&&e>=0&&(this.ratio=e),this.width=Number(parseFloat(u.element.getCssStyle(this.$el,"width")).toFixed(2)),this.height=this.width*this.ratio,this.$el.style.height=this.height+"px"}init(){if(!this.hasInit){if(this.hasInit=!0,!u.element.isElement(this.$el))throw new TypeError("The bound element is not a node element");("number"!=typeof this.ratio||isNaN(this.ratio))&&(this.ratio=0),this.set(),u.event.on(window,`resize.prop_${this.guid}`,(e=>{this.set()}))}}destroy(){u.event.off(window,`resize.prop_${this.guid}`)}};b.install=e=>{e.directive("prop",{mounted(e,t){let i=new b(e,t.value);i.init(),u.data.set(e,"directive:prop",i)},updated(e,t){let i=u.data.get(e,"directive:prop");i&&i.set(t.value)},beforeUnmount(e){let t=u.data.get(e,"directive:prop");t&&t.destroy()}})};const v=class{constructor(e,t){this.$el=e,t=u.common.isObject(t)?t:{},this.top=t.top,this.bottom=t.bottom,this.hasInit=!1}init(){this.hasInit||(this.hasInit=!0,u.element.isElement(this.$el)||(this.$el=window),"function"!=typeof this.top&&(this.top=function(){}),"function"!=typeof this.bottom&&(this.bottom=function(){}),u.element.scrollTopBottomTrigger(this.$el,(e=>{"top"==e.state?this.top.apply(this,[e.target]):this.bottom.apply(this,[e.target])})))}};v.install=e=>{e.directive("scroll",{mounted(e,t){let i={};u.common.isObject(t.value)&&Object.assign(i,t.value),new v(e,i).init()}})};const w=class{constructor(e,t){this.$el=e,t=u.common.isObject(t)?t:{},this.$root=t.el,this.beforeEnter=t.beforeEnter,this.enter=t.enter,this.beforeLeave=t.beforeLeave,this.leave=t.leave,this.hasInit=!1,this.triggerTag={before:!1,after:!1},this.guid=this.createGuid()}scrollHandle(){let e=u.element.getCssStyle(this.$root,"overflow-x"),t=u.element.getCssStyle(this.$root,"overflow-y"),i="auto"==e||"scroll"==e,s="auto"==t||"scroll"==t,n=this.$el.getBoundingClientRect().left-this.$root.getBoundingClientRect().left,o=this.$el.getBoundingClientRect().right-this.$root.getBoundingClientRect().left,r=this.$el.getBoundingClientRect().top-this.$root.getBoundingClientRect().top,l=this.$el.getBoundingClientRect().bottom-this.$root.getBoundingClientRect().top;i&&s?(o>=0&&n<=this.$root.offsetWidth&&l>=0&&r<=this.$root.offsetHeight?this.triggerTag.before||(this.beforeEnter(this.$el),this.triggerTag.before=!0):this.triggerTag.before&&(this.leave(this.$el),this.triggerTag.before=!1),n>=0&&o<=this.$root.offsetWidth&&r>=0&&l<=this.$root.offsetHeight?this.triggerTag.after||(this.enter(this.$el),this.triggerTag.after=!0):this.triggerTag.after&&(this.beforeLeave(this.$el),this.triggerTag.after=!1)):i?(o>=0&&n<=this.$root.offsetWidth?this.triggerTag.before||(this.beforeEnter(this.$el),this.triggerTag.before=!0):this.triggerTag.before&&(this.leave(this.$el),this.triggerTag.before=!1),n>=0&&o<=this.$root.offsetWidth?this.triggerTag.after||(this.enter(this.$el),this.triggerTag.after=!0):this.triggerTag.after&&(this.beforeLeave(this.$el),this.triggerTag.after=!1)):s&&(l>=0&&r<=this.$root.offsetHeight?this.triggerTag.before||(this.beforeEnter(this.$el),this.triggerTag.before=!0):this.triggerTag.before&&(this.leave(this.$el),this.triggerTag.before=!1),r>=0&&l<=this.$root.offsetHeight?this.triggerTag.after||(this.enter(this.$el),this.triggerTag.after=!0):this.triggerTag.after&&(this.beforeLeave(this.$el),this.triggerTag.after=!1))}createGuid(){let e=u.data.get(document.body,"mvi-directives-spy-guid")||0;return e++,u.data.set(document.body,"mvi-directives-spy-guid",e),e}init(){if(!this.hasInit){if(this.hasInit=!0,!u.element.isElement(this.$el))throw new TypeError("The bound element is not a node element");"string"==typeof this.$root&&this.$root&&(this.$root=document.documentElement.querySelector(this.$root)),u.element.isElement(this.$root)||(this.$root=document.body),"function"!=typeof this.beforeEnter&&(this.beforeEnter=function(){}),"function"!=typeof this.enter&&(this.enter=function(){}),"function"!=typeof this.beforeLeave&&(this.beforeLeave=function(){}),"function"!=typeof this.leave&&(this.leave=function(){}),this.scrollHandle(),u.event.on(this.$root,`scroll.spy_${this.guid}`,(e=>{this.scrollHandle()}))}}destroy(){u.event.off(this.$root,`scroll.spy_${this.guid}`)}};w.install=e=>{e.directive("spy",{mounted(e,t){let i={};u.common.isObject(t.value)&&Object.assign(i,t.value);let s=new w(e,i);s.init(),u.data.set(e,"directive:spy",s)},beforeUnmount(e){let t=u.data.get(e,"directive:spy");t&&t.destroy()}})};const k=class{constructor(e,t){this.$el=e,u.common.isObject(t)||(t={}),this.attributes=t.attributes,this.childList=t.childList,this.subtree=t.subtree,this.attributeNames=t.attributeNames,this.attributesChange=t.attributesChange,this.childNodesChange=t.childNodesChange,this.hasInit=!1}init(){if(!this.hasInit){if(this.hasInit=!0,!u.element.isElement(this.$el))throw new TypeError("The element that needs to be observed is not a node element");try{"boolean"!=typeof this.attributes&&(this.attributes=!1),"boolean"!=typeof this.childList&&(this.childList=!1),"boolean"!=typeof this.subtree&&(this.subtree=!1),this.attributeNames instanceof Array||(this.attributeNames=[]),"function"!=typeof this.attributesChange&&(this.attributesChange=function(){}),"function"!=typeof this.childNodesChange&&(this.childNodesChange=function(){});let e=new(window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)((e=>{let t=e.length;for(let i=0;i<t;i++)if("attributes"==e[i].type&&this.attributes)this.attributesChange.apply(this,[e[i].attributeName,this.$el.getAttribute(e[i].attributeName),e[i].oldValue]);else if("childList"==e[i].type&&this.childList){for(let t of e[i].addedNodes)u.element.isElement(t)&&this.childNodesChange.apply(this,[t,null]);for(let t of e[i].removedNodes)u.element.isElement(t)&&this.childNodesChange.apply(this,[null,t])}}));this.attributes?this.attributeNames.length>0?e.observe(this.$el,{attributes:this.attributes,attributeFilter:this.attributeNames,attributeOldValue:!0,childList:this.childList,subtree:this.subtree}):e.observe(this.$el,{attributes:this.attributes,attributeOldValue:!0,childList:this.childList,subtree:this.subtree}):e.observe(this.$el,{attributes:this.attributes,childList:this.childList,subtree:this.subtree})}catch(e){throw new Error("Listening failed. Your browser may not support it, or childList and attributes are false, meaning there are no objects to listen on")}}}};k.install=e=>{e.directive("observe",{mounted(e,t){let i={};u.common.isObject(t.value)&&Object.assign(i,t.value),new k(e,i).init()}})};class E{constructor(e,t){this.$el=e,t=u.common.isObject(t)?t:{},this.$selectInput=null,this.files=[],this.accept=t.accept,this.capture=t.capture,this.allowedFileType=t.allowedFileType,this.minSize=t.minSize,this.maxSize=t.maxSize,this.maxLength=t.maxLength,this.minLength=t.minLength,this.multiple=t.multiple,this.append=t.append,this.error=t.error,this.select=t.select,this.disabled=t.disabled,this.ready=t.ready,this.extraData=t.extraData,this.hasInit=!1}judgeSuffix(e){let t=e.substr(e.lastIndexOf(".")+1);if(0==this.allowedFileType.length)return!0;t=t.toLocaleLowerCase();for(let i=0;i<this.allowedFileType.length;i++)this.allowedFileType[i]=this.allowedFileType[i].toLocaleLowerCase();return this.allowedFileType.includes(t)}init(){if(!this.hasInit){if(this.hasInit=!0,!u.element.isElement(this.$el))throw new TypeError("The upload element is not specified");this.allowedFileType instanceof Array||(this.allowedFileType=[]),(!u.number.isNumber(this.minSize)||this.minSize<=0)&&(this.minSize=-1),(!u.number.isNumber(this.maxSize)||this.maxSize<=0)&&(this.maxSize=-1),(!u.number.isNumber(this.maxLength)||this.maxLength<=0)&&(this.maxLength=-1),(!u.number.isNumber(this.minLength)||this.minLength<=0)&&(this.minLength=-1),"boolean"!=typeof this.multiple&&(this.multiple=!1),"boolean"!=typeof this.capture&&(this.capture=!1),"boolean"!=typeof this.append&&(this.append=!1),"boolean"!=typeof this.disabled&&(this.disabled=!1),"function"!=typeof this.error&&(this.error=function(){}),"function"!=typeof this.select&&(this.select=function(){}),"function"!=typeof this.ready&&(this.ready=function(){}),u.common.isObject(this.extraData)||(this.extraData={}),this.$selectInput=u.element.string2dom("<input type='file' />"),"rar"===this.accept?this.$selectInput.setAttribute("accept","application/x-rar-compressed"):"zip"===this.accept?this.$selectInput.setAttribute("accept","application/x-zip-compressed"):"txt"===this.accept?this.$selectInput.setAttribute("accept","text/plain"):"image"===this.accept?(this.$selectInput.setAttribute("accept","image/*"),this.capture&&this.$selectInput.setAttribute("capture","camera")):"video"===this.accept?(this.$selectInput.setAttribute("accept","video/*"),this.capture&&this.$selectInput.setAttribute("capture","camcorder")):"audio"===this.accept?this.$selectInput.setAttribute("accept","aduio/*"):"html"===this.accept?this.$selectInput.setAttribute("accept","text/html"):"doc"===this.accept?this.$selectInput.setAttribute("accept","application/msword"):"xml"===this.accept?this.$selectInput.setAttribute("accept","text/xml"):"js"===this.accept?this.$selectInput.setAttribute("accept","text/javascript"):"json"===this.accept?this.$selectInput.setAttribute("accept","application/json"):"ppt"===this.accept?this.$selectInput.setAttribute("accept","application/vnd.ms-powerpoint"):"pdf"===this.accept&&this.$selectInput.setAttribute("accept","application/pdf"),this.multiple&&this.$selectInput.setAttribute("multiple","multiple"),this.disabled&&this.$el.setAttribute("disabled","disabled"),this.$el.onclick=e=>{this.disabled||this.$selectInput.click()},this.$selectInput.onchange=e=>{if(this.disabled)return;let t=[...this.$selectInput.files];this.$selectInput.value="",this.append||(this.files=[]);let i=t.length,s=!0;for(let n=0;n<i;n++){if(!this.judgeSuffix(t[n].name)){this.error.apply(this,[E.ERRORTYPE.FILE_SUFFIX_ERROR,t[n]]),s=!1;break}if(t[n].size/1024>this.maxSize&&this.maxSize>0){this.error.apply(this,[E.ERRORTYPE.FILE_MAXSIZE_ERROR,t[n]]),s=!1;break}if(t[n].size/1024<this.minSize&&this.minSize>0){this.error.apply(this,[E.ERRORTYPE.FILE_MINSIZE_ERROR,t[n]]),s=!1;break}if(this.files.length+i>this.maxLength&&this.maxLength>0){this.error.apply(this,[E.ERRORTYPE.FILE_MAXLENGTH_ERROR]),s=!1;break}}s&&(this.files.length+i<this.minLength&&this.minLength>0?this.error.apply(this,[E.ERRORTYPE.FILE_MINLENGTH_ERROR]):(this.files=[...this.files,...t],this.select.apply(this,[[...this.files],{...this.extraData}])))},this.ready.apply(this,[this])}}getFiles(){return{files:[...this.files],extraData:{...this.extraData}}}clear(){this.files=[],this.$selectInput.value="",this.select.apply(this,[[...this.files],{...this.extraData}])}setDisabled(){this.disabled=!0,this.$el.setAttribute("disabled","disabled")}setEnabled(){this.disabled=!1,this.$el.removeAttribute("disabled")}}E.ERRORTYPE={FILE_SUFFIX_ERROR:"suffixError",FILE_MAXSIZE_ERROR:"maxSizeError",FILE_MINSIZE_ERROR:"minSizeError",FILE_MAXLENGTH_ERROR:"maxLengthError",FILE_MINLENGTH_ERROR:"minLengthError"};const x=E;x.install=e=>{e.directive("upload",{mounted(e,t){let i={};u.common.isObject(t.value)&&Object.assign(i,t.value),u.common.isObject(t.modifiers)&&Object.assign(i,t.modifiers),new x(e,i).init()}})};const C=class{constructor(e,t){this.$el=e,t=u.common.isObject(t)?t:{},this.attrName=t.attrName,this.isAfter=t.after,this.isBefore=t.before,this.hasInit=!1}handle(){let e=Math.round(window.devicePixelRatio||1),t=Number((1/e).toFixed(2));if(this.isBefore||this.isAfter){let e=`mvi-directives-px_${this.createGuid()}`;u.element.addClass(this.$el,e);let i=document.createElement("style");i.type="text/css",this.isBefore&&(i.innerHTML=`.${e}::before {${this.attrName}:${t}px !important;}`),this.isAfter&&(i.innerHTML=`.${e}::after {${this.attrName}:${t}px !important;}`),document.querySelector("head").appendChild(i)}else this.$el.style.setProperty(this.attrName,t+"px","important")}createGuid(){let e=u.data.get(document.body,"mvi-directives-px-guid")||0;return e++,u.data.set(document.body,"mvi-directives-px-guid",e),e}init(){if(!this.hasInit){if(this.hasInit=!0,!u.element.isElement(this.$el))throw new TypeError("The bound element is not a node element");if("string"!=typeof this.attrName||!this.attrName)throw new Error("The attribute name is not set");"boolean"!=typeof this.isAfter&&(this.isAfter=!1),"boolean"!=typeof this.isBefore&&(this.isBefore=!1),this.handle()}}};C.install=e=>{e.directive("px",{mounted(e,t){let i={};u.common.isObject(t.value)&&Object.assign(i,t.value),u.common.isObject(t.modifiers)&&Object.assign(i,t.modifiers),t.arg&&(i.attrName=t.arg),new C(e,i).init()}})};const S=class{constructor(e,t){this.$el=e,t=u.common.isObject(t)?t:{},this.color=t.color,this.duration=t.duration,this.finalOpacity=t.finalOpacity,this.initialOpacity=t.initialOpacity,this.delay=t.delay,this.disabled=t.disabled,this.hasInit=!1,this.guid=this.createGuid(),this.rippleContainers=[]}endDeal(e){const t=u.data.get(e,"ripple-up"),i=u.data.get(e,"ripple-animation-end");if(t&&i){const t=100,i=u.element.children(e)[0];i.style.transition=`opacity ${t}ms ease-in-out`,i.offsetWidth,i.style.opacity=0,setTimeout((()=>{this.rippleContainers=this.rippleContainers.filter((t=>t!=e)),e.remove()}),t)}}createRippleElement(e,t){const i=u.element.getElementBounding(this.$el),{x1:s,x2:n,y1:o,y2:r,r:l}=this.getRadius(e,t,i),a=u.element.string2dom("<div></div>");return a.style.width=2*l+"px",a.style.height=2*l+"px",a.style.position="absolute",a.style.background=this.color,a.style.top=o-l+"px",a.style.left=s-l+"px",a.style.zIndex=1,a.style.borderRadius="50%",a.style.transform="scale(0)",a.style.opacity=this.initialOpacity,a.style.transition=`transform ${this.duration}ms cubic-bezier(0, 0.5, 0.25, 1), opacity ${this.duration}ms cubic-bezier(0.0, 0, 0.2, 1)`,a}createRippleContainer(){const e=u.element.string2dom("<div></div>");return e.style.position="absolute",e.style.left="0px",e.style.top="0px",e.style.width=u.element.getCssStyle(this.$el,"width"),e.style.height=u.element.getCssStyle(this.$el,"height"),e.style.background="transparent",e.style.borderRadius=u.element.getCssStyle(this.$el,"border-radius"),e.style.overflow="hidden",e.style.pointerEvents="none",e.style.transform="rotate(0deg)",e}getRadius(e,t,i){const s=e-i.left,n=t-i.top,o=this.$el.offsetWidth-s,r=this.$el.offsetHeight-n,l=Math.sqrt(s*s+n*n),a=Math.sqrt(o*o+n*n),c=Math.sqrt(s*s+r*r),h=Math.sqrt(o*o+r*r);return{r:Math.round(Math.max(l,a,c,h)),x1:s,x2:o,y1:n,y2:r}}createGuid(){let e=u.data.get(document.documentElement,"mvi-directives-ripple-guid")||0;return e++,u.data.set(document.documentElement,"mvi-directives-ripple-guid",e),e}init(){if(this.hasInit)return;if(this.hasInit=!0,!u.element.isElement(this.$el))throw new TypeError("The bound element is not a node element");"string"!=typeof this.color&&(this.color="#9f9f9f"),u.number.isNumber(this.duration)||(this.duration=600),u.number.isNumber(this.finalOpacity)||(this.finalOpacity=.1),u.number.isNumber(this.initialOpacity)||(this.initialOpacity=.1),u.number.isNumber(this.delay)||(this.delay=80),"boolean"!=typeof this.disabled&&(this.disabled=!1),"relative"!=u.element.getCssStyle(this.$el,"position")&&"absolute"!=u.element.getCssStyle(this.$el,"position")&&"fixed"!=u.element.getCssStyle(this.$el,"position")&&(this.$el.style.position="relative");const e=(e,t)=>{if(this.disabled)return;const i=this.createRippleContainer(),s=this.createRippleElement(e,t);this.$el.appendChild(i),i.appendChild(s),this.rippleContainers.push(i),setTimeout((()=>{s.style.transform="scale(1)",s.style.opacity=this.finalOpacity,setTimeout((()=>{u.data.set(i,"ripple-animation-end",!0),this.endDeal(i)}),this.duration)}),this.delay)},t=()=>{this.rippleContainers.length&&this.rippleContainers.forEach((e=>{u.data.set(e,"ripple-up",!0),this.endDeal(e)}))};u.event.on(this.$el,"mousedown.ripple",(t=>{e(t.pageX,t.pageY)})),u.event.on(this.$el,"touchstart.ripple",(t=>{e(t.targetTouches[0].pageX,t.targetTouches[0].pageY)})),u.event.on(document.documentElement,`mouseup.ripple_${this.guid}`,t),u.event.on(this.$el,"touchend.ripple",t)}destroy(){u.event.off(document.documentElement,`mouseup.ripple_${this.guid}`)}};S.install=e=>{e.directive("ripple",{mounted(e,t){let i={};u.common.isObject(t.value)&&Object.assign(i,t.value);let s=new S(e,i);s.init(),u.data.set(e,"directive:ripple",s)},beforeUnmount(e){let t=u.data.get(e,"directive:ripple");t&&t.destroy()}})};const T=(e,t)=>{const i=e.__vccOpts||e;for(const[s,n]of t)i[s]=n;return i};const $=T({name:"m-icon",props:{type:{type:String,default:""},spin:{type:Boolean,default:!1},url:{type:String,default:null},size:{type:String,default:null},color:{type:String,default:null}},computed:{iconStyle(){let e={};return this.url?(e.backgroundImage="url("+this.url+")",this.size&&(e.width=this.size,e.height=this.size)):(this.size&&(e.fontSize=this.size),this.color&&(e.color=this.color)),e}}},[["render",function(e,i,s,n,o,r){return s.url?(t.openBlock(),t.createElementBlock("i",{key:0,class:t.normalizeClass(["mvi-icon-url",s.spin?"spin":""]),style:t.normalizeStyle(r.iconStyle)},null,6)):(t.openBlock(),t.createElementBlock("i",{key:1,class:t.normalizeClass(["mvi-icon","icon-"+s.type,s.spin?"spin":""]),style:t.normalizeStyle(r.iconStyle)},null,6))}],["__scopeId","data-v-cf01b528"]]);$.install=e=>{e.component($.name,$)};const I={name:"m-button",props:{type:{type:String,default:"default",validator:e=>["default","info","success","error","warn","primary"].includes(e)},size:{type:String,default:"medium",validator:e=>["mini","small","medium","large"].includes(e)},disabled:{type:Boolean,default:!1},nativeType:{type:String,default:"button"},loading:{type:Boolean,default:!1},loadText:{type:String,default:"loading..."},block:{type:Boolean,default:!1},tag:{type:String,default:"button"},plain:{type:Boolean,default:!1},color:{type:String,default:null},subColor:{type:String,default:null},round:{type:Boolean,default:!1},square:{type:Boolean,default:!1},active:{type:Boolean,default:!0},loadIcon:{type:[String,Object],default:function(){return{type:"load-e",spin:!0}}}},computed:{parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},btnStyle(){let e={};return this.plain?this.color&&(e.color=this.color,e.borderColor=this.color,e.background=this.subColor||"#fff"):this.color&&(e.background=this.color,e.borderColor=this.color,e.color=this.subColor||"#fff"),e},btnClass(){let e=["mvi-button"];return this.type&&e.push(this.type),this.size&&e.push(this.size),this.round?e.push("round"):this.square&&e.push("square"),this.block&&e.push("block"),this.plain&&e.push("plain"),this.active&&!this.disabled&&e.push("active"),this.loading&&e.push("loading"),e}},components:{Button:{render(){let e={};return"BUTTON"==this.$parent.tag.toLocaleUpperCase()&&(e.type=this.$parent.nativeType),t.h(this.$parent.tag,e,{default:this.$slots.default})}},Icon:$}},B={key:0,class:"mvi-button-load-text"};const _=T(I,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon"),a=t.resolveComponent("Button",!0);return t.openBlock(),t.createBlock(a,{disabled:s.disabled||null,class:t.normalizeClass(r.btnClass),style:t.normalizeStyle(r.btnStyle)},{default:t.withCtx((()=>[s.loading&&e.$slots.loading?t.renderSlot(e.$slots,"loading",{key:0},void 0,!0):s.loading?(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.createVNode(l,{type:r.parseIcon(s.loadIcon).type,color:r.parseIcon(s.loadIcon).color,url:r.parseIcon(s.loadIcon).url,spin:r.parseIcon(s.loadIcon).spin,size:r.parseIcon(s.loadIcon).size},null,8,["type","color","url","spin","size"]),s.loadText?(t.openBlock(),t.createElementBlock("span",B,t.toDisplayString(s.loadText),1)):t.createCommentVNode("",!0)],64)):t.renderSlot(e.$slots,"default",{key:2},void 0,!0)])),_:3},8,["disabled","class","style"])}],["__scopeId","data-v-5d238045"]]);_.install=e=>{e.component(_.name,_)};const N={name:"m-cell",props:{icon:{type:[String,Object],default:null},title:{type:String,default:null},content:{type:String,default:null},label:{type:String,default:null},border:{type:Boolean,default:null},arrow:{type:[String,Object],default:null},active:{type:Boolean,default:null},ellipsis:{type:[Boolean,Number],default:null},noWrap:{type:Boolean,default:!1}},computed:{parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},cmpActive(){return"boolean"==typeof this.active?this.active:"m-cell-group"!=this.$parent.$options.name||"boolean"!=typeof this.$parent.active||this.$parent.active},cmpBorder(){return"boolean"==typeof this.border?this.border:"boolean"==typeof this.$parent.border&&this.$parent.border},labelTextStyle(){let e={};return this.ellipsis&&(e.display="-webkit-box",e.textOverflow="ellipsis",e.webkitBoxOrient="vertical",e.overflow="hidden","boolean"==typeof this.ellipsis?e.webkitLineClamp=3:e.webkitLineClamp=this.ellipsis),e},cellClass(){let e=["mvi-cell"];return this.cmpBorder&&e.push("border"),this.cmpActive&&e.push("active"),e}},components:{Icon:$}},P={class:"mvi-cell-item"},z=["textContent"],A=["textContent"],O=["textContent"];const V=T(N,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(r.cellClass)},[t.createElementVNode("div",P,[r.parseIcon(s.icon).type||r.parseIcon(s.icon).url?(t.openBlock(),t.createBlock(l,{key:0,class:"mvi-cell-icon",type:r.parseIcon(s.icon).type,url:r.parseIcon(s.icon).url,spin:r.parseIcon(s.icon).spin,size:r.parseIcon(s.icon).size,color:r.parseIcon(s.icon).color},null,8,["type","url","spin","size","color"])):t.createCommentVNode("",!0),t.createElementVNode("div",{class:t.normalizeClass(["mvi-cell-title",s.noWrap?"nowrap":""])},[e.$slots.title?t.renderSlot(e.$slots,"title",{key:0},void 0,!0):(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(s.title)},null,8,z))],2),e.$slots.content||s.content?(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(["mvi-cell-content",s.noWrap?"nowrap":""])},[e.$slots.content?t.renderSlot(e.$slots,"content",{key:0},void 0,!0):s.content?(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(s.content)},null,8,A)):t.createCommentVNode("",!0)],2)):t.createCommentVNode("",!0),r.parseIcon(s.arrow).type||r.parseIcon(s.arrow).url?(t.openBlock(),t.createBlock(l,{key:2,class:"mvi-cell-arrow",type:r.parseIcon(s.arrow).type,url:r.parseIcon(s.arrow).url,spin:r.parseIcon(s.arrow).spin,size:r.parseIcon(s.arrow).size,color:r.parseIcon(s.arrow).color},null,8,["type","url","spin","size","color"])):t.createCommentVNode("",!0)]),s.label||e.$slots.label?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-cell-label",style:t.normalizeStyle(r.labelTextStyle)},[e.$slots.label?t.renderSlot(e.$slots,"label",{key:0},void 0,!0):s.label?(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(s.label)},null,8,O)):t.createCommentVNode("",!0)],4)):t.createCommentVNode("",!0)],2)}],["__scopeId","data-v-06d4a735"]]);V.install=e=>{e.component(V.name,V)};const R={name:"m-cell-group",props:{title:{type:String,default:null},border:{type:Boolean,default:!0},active:{type:Boolean,default:!0}}},D=["textContent"];const M=T(R,[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-cell-group",s.border?"border":""])},[s.title?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-cell-group-title",textContent:t.toDisplayString(s.title)},null,8,D)):t.createCommentVNode("",!0),t.renderSlot(e.$slots,"default",{},void 0,!0)],2)}],["__scopeId","data-v-bad36ebb"]]);M.install=e=>{e.component(M.name,M)};const L={name:"m-navbar",props:{title:{type:String,default:null},leftText:{type:String,default:null},rightText:{type:String,default:null},leftIcon:{type:[String,Object],default:null},rightIcon:{type:[String,Object],default:null},fixed:{type:Boolean,default:!1},border:{type:Boolean,default:!1},zIndex:{type:Number,default:400}},emits:["left-click","right-click","title-click"],computed:{showLeft(){return this.parseIcon(this.leftIcon).type||this.parseIcon(this.leftIcon).url||this.$slots.left||this.leftText},showRight(){return this.parseIcon(this.rightIcon).type||this.parseIcon(this.rightIcon).url||this.$slots.right||this.rightText},leftStyle(){let e={};return this.title||this.$slots.title?e.width="20%":this.showRight?e.width="50%":e.width="100%",e},rightStyle(){let e={};return this.title||this.$slots.title?e.width="20%":this.showLeft?e.width="50%":e.width="100%",e},parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},navbarClass(){let e=["mvi-navbar"];return this.fixed&&e.push("fixed"),this.border&&e.push("border"),e},centerStyle(){let e={};return this.showLeft||this.showRight?e.width="60%":e.width="100%",e}},components:{Icon:$},methods:{leftClick(){this.$emit("left-click")},rightClick(){this.$emit("right-click")},titleClick(){this.$emit("title-click")}}},H=["textContent"],F={class:"mvi-navbar-title"},W=["textContent"],j=["textContent"];const U=T(L,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(r.navbarClass),style:t.normalizeStyle("z-index:"+(s.fixed?s.zIndex:""))},[r.showLeft?(t.openBlock(),t.createElementBlock("div",{key:0,onClick:i[0]||(i[0]=(...e)=>r.leftClick&&r.leftClick(...e)),class:"mvi-navbar-left",style:t.normalizeStyle(r.leftStyle)},[e.$slots.left?t.renderSlot(e.$slots,"left",{key:0},void 0,!0):t.createCommentVNode("",!0),!r.parseIcon(s.leftIcon).type&&!r.parseIcon(s.leftIcon).url||e.$slots.left?t.createCommentVNode("",!0):(t.openBlock(),t.createBlock(l,{key:1,class:t.normalizeClass([s.leftText?"mvi-navbar-left-icon":""]),type:r.parseIcon(s.leftIcon).type,url:r.parseIcon(s.leftIcon).url,spin:r.parseIcon(s.leftIcon).spin,size:r.parseIcon(s.leftIcon).size,color:r.parseIcon(s.leftIcon).color},null,8,["class","type","url","spin","size","color"])),s.leftText&&!e.$slots.left?(t.openBlock(),t.createElementBlock("span",{key:2,class:"mvi-navbar-left-text",textContent:t.toDisplayString(s.leftText)},null,8,H)):t.createCommentVNode("",!0)],4)):t.createCommentVNode("",!0),e.$slots.title||s.title?(t.openBlock(),t.createElementBlock("div",{key:1,onClick:i[1]||(i[1]=(...e)=>r.titleClick&&r.titleClick(...e)),class:"mvi-navbar-center",style:t.normalizeStyle(r.centerStyle)},[t.createElementVNode("div",F,[e.$slots.title?t.renderSlot(e.$slots,"title",{key:0},void 0,!0):s.title?(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(s.title)},null,8,W)):t.createCommentVNode("",!0)])],4)):t.createCommentVNode("",!0),r.showRight?(t.openBlock(),t.createElementBlock("div",{key:2,onClick:i[2]||(i[2]=(...e)=>r.rightClick&&r.rightClick(...e)),class:"mvi-navbar-right",style:t.normalizeStyle(r.rightStyle)},[e.$slots.right?t.renderSlot(e.$slots,"right",{key:0},void 0,!0):t.createCommentVNode("",!0),s.rightText&&!e.$slots.right?(t.openBlock(),t.createElementBlock("span",{key:1,class:"mvi-navbar-right-text",textContent:t.toDisplayString(s.rightText)},null,8,j)):t.createCommentVNode("",!0),!r.parseIcon(s.rightIcon).type&&!r.parseIcon(s.rightIcon).url||e.$slots.right?t.createCommentVNode("",!0):(t.openBlock(),t.createBlock(l,{key:2,class:t.normalizeClass([s.rightText?"mvi-navbar-right-icon":""]),type:r.parseIcon(s.rightIcon).type,url:r.parseIcon(s.rightIcon).url,spin:r.parseIcon(s.rightIcon).spin,size:r.parseIcon(s.rightIcon).size,color:r.parseIcon(s.rightIcon).color},null,8,["class","type","url","spin","size","color"]))],4)):t.createCommentVNode("",!0)],6)}],["__scopeId","data-v-774307d7"]]);U.install=e=>{e.component(U.name,U)};const Y={name:"m-badge",props:{content:{type:[String,Number],default:null},placement:{type:String,default:"top-right",validator:e=>["top-right","top-left","bottom-left","bottom-right"].includes(e)},dot:{type:Boolean,default:!1},show:{type:Boolean,default:!0},offset:{type:Array,default:function(){return null}},background:{type:String,default:null},color:{type:String,default:null}},computed:{badgeStyle(){let e={};return this.background&&(e.background=this.background),this.color&&(e.color=this.color),this.offset&&(this.offset[0]&&("top-right"==this.placement||"bottom-right"==this.placement?e.marginRight=this.offset[0]:"top-left"!=this.placement&&"bottom-left"!=this.placement||(e.marginLeft=this.offset[0])),this.offset[1]&&("top-right"==this.placement||"top-left"==this.placement?e.marginTop=this.offset[1]:"bottom-right"!=this.placement&&"bottom-left"!=this.placement||(e.marginBottom=this.offset[1]))),e},badgeShow(){return!(!u.number.isNumber(this.content)&&!this.content||!this.show)}}},q={class:"mvi-badge"},X=["data-placement"],K=["data-placement"];const Z=T(Y,[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createElementBlock("div",q,[t.renderSlot(e.$slots,"default",{},void 0,!0),s.dot&&s.show?(t.openBlock(),t.createElementBlock("span",{key:0,class:"mvi-badge-el mvi-badge-dot","data-placement":s.placement,style:t.normalizeStyle(r.badgeStyle)},null,12,X)):r.badgeShow?(t.openBlock(),t.createElementBlock("span",{key:1,class:"mvi-badge-el","data-placement":s.placement,style:t.normalizeStyle(r.badgeStyle)},t.toDisplayString(s.content),13,K)):t.createCommentVNode("",!0)])}],["__scopeId","data-v-094b2095"]]);Z.install=e=>{e.component(Z.name,Z)};const G={name:"m-tabbar-item",inject:["tabbar"],props:{route:{type:[String,Object],default:null},icon:{type:[String,Object],default:null},name:{type:String,default:null},value:{type:[Object,Number,String,Array],default:null},disabled:{type:Boolean,default:!1},badge:{type:Object,default:null}},computed:{parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},cmpClass(){let e=["mvi-tabbar-item"];return u.common.equal(this.value,this.tabbar.modelValue)&&e.push("item-active"),!this.tabbar.active||this.disabled||u.common.equal(this.value,this.tabbar.modelValue)||e.push("active"),e},cmpStyle(){let e={};return u.common.equal(this.value,this.tabbar.modelValue)?this.tabbar.activeColor&&(e.color=this.tabbar.activeColor):this.tabbar.inactiveColor&&(e.color=this.tabbar.inactiveColor),e},cmpRoute(){if(!this.route)return null;let e={};return"string"==typeof this.route?e={path:this.route}:u.common.isObject(this.route)&&("string"==typeof this.route.path&&this.route.path&&(e.path=this.route.path),"string"==typeof this.route.name&&this.route.name&&(e.name=this.route.name),u.common.isObject(this.route.query)?e.query=this.route.query:e.query={},u.common.isObject(this.route.params)?e.params=this.route.params:e.params={},"boolean"==typeof this.route.replace?e.replace=this.route.replace:e.replace=!1),e.query||(e.query={}),e.params||(e.params={}),e}},components:{Icon:$,Badge:Z},methods:{setActive(){this.tabbar.$emit("item-click",JSON.parse(JSON.stringify(this.$props))),this.disabled||u.common.equal(this.tabbar.modelValue,this.value)||(this.cmpRoute&&this.$router&&this.$router.replace&&this.$router.push&&(this.cmpRoute.path?this.cmpRoute.replace?this.$router.replace({path:this.cmpRoute.path,query:this.cmpRoute.query,params:this.cmpRoute.params}):this.$router.push({path:this.cmpRoute.path,query:this.cmpRoute.query,params:this.cmpRoute.params}):this.cmpRoute.name&&(this.cmpRoute.replace?this.$router.replace({name:this.cmpRoute.name,query:this.cmpRoute.query,params:this.cmpRoute.params}):this.$router.push({name:this.cmpRoute.name,query:this.cmpRoute.query,params:this.cmpRoute.params}))),this.tabbar.$emit("update:modelValue",this.value),this.tabbar.$emit("change",JSON.parse(JSON.stringify(this.$props))))}}},Q=["disabled"],J={class:"mvi-tabbar-item-child"},ee=["textContent"];const te=T({name:"m-tabbar",components:{TabbarItem:T(G,[["render",function(e,i,s,n,o,r){var l,a,c,h,d,m,u;const p=t.resolveComponent("Icon"),f=t.resolveComponent("Badge");return t.openBlock(),t.createElementBlock("div",{disabled:s.disabled||null,class:t.normalizeClass(r.cmpClass),style:t.normalizeStyle(r.cmpStyle),onClick:i[0]||(i[0]=(...e)=>r.setActive&&r.setActive(...e))},[t.createVNode(f,{show:null==(l=s.badge)?void 0:l.show,class:"mvi-tabbar-badge",content:null==(a=s.badge)?void 0:a.content,background:null==(c=s.badge)?void 0:c.background,color:null==(h=s.badge)?void 0:h.color,dot:null==(d=s.badge)?void 0:d.dot,placement:null==(m=s.badge)?void 0:m.placement,offset:null==(u=s.badge)?void 0:u.offset},{default:t.withCtx((()=>[t.createElementVNode("div",J,[r.parseIcon(s.icon).type||r.parseIcon(s.icon).url?(t.openBlock(),t.createElementBlock("span",{key:0,class:"mvi-tabbar-icon",style:t.normalizeStyle({marginBottom:s.name?"":"0px"})},[t.createVNode(p,{type:r.parseIcon(s.icon).type,url:r.parseIcon(s.icon).url,spin:r.parseIcon(s.icon).spin,size:r.parseIcon(s.icon).size,color:r.parseIcon(s.icon).color},null,8,["type","url","spin","size","color"])],4)):t.createCommentVNode("",!0),t.createElementVNode("span",{class:t.normalizeClass(["mvi-tabbar-name",r.parseIcon(s.icon).type||r.parseIcon(s.icon).url?"small":""]),textContent:t.toDisplayString(s.name)},null,10,ee)])])),_:1},8,["show","content","background","color","dot","placement","offset"])],14,Q)}],["__scopeId","data-v-d638e245"]])},emits:["update:modelValue","item-click","change"],provide(){return{tabbar:this}},props:{modelValue:{type:[Object,Number,String,Array],default:null},tabs:{type:Array,default:function(){return[]}},fixed:{type:Boolean,default:!1},border:{type:Boolean,default:!1},zIndex:{type:Number,default:400},activeColor:{type:String,default:null},inactiveColor:{type:String,default:null},active:{type:Boolean,default:!0},flex:{type:String,default:null},offset:{type:String,default:null}},computed:{tabbarItemStyle(){return e=>{let t={};return 0!=e&&this.offset&&(t.marginLeft=this.offset),t}},tabbarStyle(){let e={};return this.fixed&&u.number.isNumber(this.zIndex)&&(e.zIndex=this.zIndex),this.flex&&(e.justifyContent=this.flex),e}}},[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("TabbarItem");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-tabbar",s.border?"border":"",s.fixed?"fixed":""]),style:t.normalizeStyle(r.tabbarStyle)},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(s.tabs,((e,i)=>(t.openBlock(),t.createBlock(l,{name:e.name,value:e.value,icon:e.icon,disabled:e.disabled,badge:e.badge,route:e.route,style:t.normalizeStyle(r.tabbarItemStyle(i))},null,8,["name","value","icon","disabled","badge","route","style"])))),256))],6)}],["__scopeId","data-v-258fb90e"]]);te.install=e=>{e.component(te.name,te)};const ie={name:"m-image",data:()=>({error:!1,loading:!0,lazySrc:"",lazying:!1,spy:null}),emits:["success","error"],props:{src:{type:String,default:""},fit:{type:String,default:"fill",validator:e=>["fill","cover","contain","response","none"].includes(e)},alt:{type:String,default:""},showError:{type:Boolean,default:!0},showLoading:{type:Boolean,default:!0},lazyLoad:{type:Boolean,default:!1},root:{type:String,default:null},loadIcon:{type:[String,Object],default:"image-alt"},errorIcon:{type:[String,Object],default:"image-error"},round:{type:Boolean,default:!1},width:{type:String,default:null},height:{type:String,default:null}},computed:{parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},imageStyle(){let e={};return this.round&&(e.borderRadius="50%"),this.width&&(e.width=this.width),this.height&&(e.height=this.height),e},imgClass(){return"contain"==this.fit?"mvi-image-contain":"cover"==this.fit?"mvi-image-cover":"none"==this.fit?"mvi-image-none":"response"==this.fit?"mvi-image-response":"mvi-image-fill"},cmpSrc(){return this.lazyLoad?this.lazySrc:this.src}},components:{Icon:$},watch:{cmpSrc(){this.loading=!0}},mounted(){this.lazyLoad&&this.lazyloadFun()},methods:{lazyloadFun(){this.lazying=!0,this.spy=new w(this.$el,{el:this.root,beforeEnter:()=>{this.lazying=!1,this.lazySrc=this.src}}),this.spy.init()},loadSuccess(e){this.error=!1,this.loading=!1,this.$emit("success",e.target)},loadError(e){this.loading=!1,this.error=!0,this.$emit("error",e.target)}},beforeUnmount(){this.spy&&this.spy.destroy()}},se={key:0,class:"mvi-image-loading"},ne={key:1,class:"mvi-image-error",ref:"error"},oe=["src","alt"];const re=T(ie,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",{class:"mvi-image",style:t.normalizeStyle(r.imageStyle)},[(o.loading||o.lazying)&&s.showLoading?(t.openBlock(),t.createElementBlock("div",se,[e.$slots.loading?t.renderSlot(e.$slots,"loading",{key:0},void 0,!0):(t.openBlock(),t.createBlock(l,{key:1,type:r.parseIcon(s.loadIcon).type,url:r.parseIcon(s.loadIcon).url,spin:r.parseIcon(s.loadIcon).spin,size:r.parseIcon(s.loadIcon).size,color:r.parseIcon(s.loadIcon).color},null,8,["type","url","spin","size","color"]))])):o.error&&s.showError?(t.openBlock(),t.createElementBlock("div",ne,[e.$slots.error?t.renderSlot(e.$slots,"error",{key:0},void 0,!0):(t.openBlock(),t.createBlock(l,{key:1,type:r.parseIcon(s.errorIcon).type,url:r.parseIcon(s.errorIcon).url,spin:r.parseIcon(s.errorIcon).spin,size:r.parseIcon(s.errorIcon).size,color:r.parseIcon(s.errorIcon).color},null,8,["type","url","spin","size","color"]))],512)):t.createCommentVNode("",!0),t.createElementVNode("img",{onLoad:i[0]||(i[0]=(...e)=>r.loadSuccess&&r.loadSuccess(...e)),onError:i[1]||(i[1]=(...e)=>r.loadError&&r.loadError(...e)),src:r.cmpSrc,alt:s.showError?"":s.alt,class:t.normalizeClass(r.imgClass)},null,42,oe)],4)}],["__scopeId","data-v-b39a2f4f"]]);re.install=e=>{e.component(re.name,re)};const le=T({name:"m-overlay",data:()=>({overlayShow:!1,scrollTop:0,scrollLeft:0,overflowX:"",overflowY:"",paddingRight:0,paddingBottom:0,hasHorizontalScroll:!1,hasVerticalScroll:!1,offsetParent:null}),emits:["update:modelValue","show","showing","shown","hide","hidding","hidden"],inheritAttrs:!1,props:{mountEl:{type:String,default:null},zIndex:{type:Number,default:800},color:{type:String,default:null},modelValue:{type:Boolean,default:!1},fade:{type:Boolean,default:!0},timeout:{type:Number,default:200,validator:e=>e>=0},closable:{type:Boolean,default:!1},usePadding:{type:Boolean,default:!1}},watch:{modelValue(e){this.overlayShow=e}},computed:{overlayStyle(){let e={};return u.number.isNumber(this.zIndex)&&(e.zIndex=this.zIndex),this.color&&(e.background=this.color),e},$$el(){return this.$refs.overlay}},mounted(){this.overlayShow=this.modelValue},methods:{beforeEnter(e){this.fade&&(e.style.transition="opacity "+this.timeout+"ms",e.style.webkitTransition="opacity "+this.timeout+"ms"),this.$emit("show",e),"function"==typeof this.overlayComponentWatch&&this.overlayComponentWatch.apply(this,["show",e])},enter(e){if(this.$$el.offsetParent){if(this.offsetParent=this.$$el.offsetParent,u.element.getScrollHeight(this.offsetParent)>this.offsetParent.clientHeight){if(this.usePadding){let e=this.offsetParent.offsetWidth-this.offsetParent.clientWidth-parseFloat(u.element.getCssStyle(this.offsetParent,"border-right-width"))-parseFloat(u.element.getCssStyle(this.offsetParent,"border-left-width"));this.paddingRight=parseFloat(u.element.getCssStyle(this.offsetParent,"padding-right")),this.offsetParent.style.setProperty("padding-right",this.paddingRight+e+"px","important")}this.scrollTop=u.element.getScrollTop(this.offsetParent),this.overflowY=u.element.getCssStyle(this.offsetParent,"overflow-y"),this.offsetParent.style.setProperty("overflow-y","hidden","important"),this.$$el.style.top=this.scrollTop+"px",this.hasVerticalScroll=!0}if(u.element.getScrollWidth(this.offsetParent)>this.offsetParent.clientWidth){if(this.usePadding){let e=this.offsetParent.offsetHeight-this.offsetParent.clientHeight-parseFloat(u.element.getCssStyle(this.offsetParent,"border-bottom-width"))-parseFloat(u.element.getCssStyle(this.offsetParent,"border-top-width"));this.paddingBottom=parseFloat(u.element.getCssStyle(this.offsetParent,"padding-bottom")),this.offsetParent.style.setProperty("padding-bottom",this.paddingBottom+e+"px","important")}this.scrollLeft=u.element.getScrollLeft(this.offsetParent),this.overflowX=u.element.getCssStyle(this.offsetParent,"overflow-x"),this.offsetParent.style.setProperty("overflow-x","hidden","important"),this.$$el.style.left=this.scrollLeft+"px",this.hasHorizontalScroll=!0}}this.$emit("showing",e),"function"==typeof this.overlayComponentWatch&&this.overlayComponentWatch.apply(this,["showing",e])},afterEnter(e){this.fade&&(e.style.transition="",e.style.webkitTransition=""),this.$emit("shown",e),"function"==typeof this.overlayComponentWatch&&this.overlayComponentWatch.apply(this,["shown",e])},beforeLeave(e){this.fade&&(e.style.transition="opacity "+this.timeout+"ms",e.style.webkitTransition="opacity "+this.timeout+"ms"),this.$emit("hide",e),"function"==typeof this.overlayComponentWatch&&this.overlayComponentWatch.apply(this,["hide",e])},leave(e){this.$emit("hidding",e),"function"==typeof this.overlayComponentWatch&&this.overlayComponentWatch.apply(this,["hidding",e])},afterLeave(e){this.offsetParent&&(this.hasVerticalScroll&&(this.usePadding&&this.offsetParent.style.setProperty("padding-right",this.paddingRight+"px","important"),this.offsetParent.style.setProperty("overflow-y",this.overflowY,"important"),this.hasVerticalScroll=!1),this.hasHorizontalScroll&&(this.usePadding&&this.offsetParent.style.setProperty("padding-bottom",this.paddingBottom+"px","important"),this.offsetParent.style.setProperty("overflow-x",this.overflowX,"important"),this.hasHorizontalScroll=!1)),this.fade&&(e.style.transition="",e.style.webkitTransition=""),this.$emit("hidden",e),"function"==typeof this.overlayComponentWatch&&this.overlayComponentWatch.apply(this,["hidden",e])},closeOverlay(){this.closable&&this.$emit("update:modelValue",!1)}}},[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createBlock(t.Teleport,{disabled:!s.mountEl,to:s.mountEl},[t.createVNode(t.Transition,{name:"mvi-overlay-fade",onBeforeEnter:r.beforeEnter,onEnter:r.enter,onAfterEnter:r.afterEnter,onBeforeLeave:r.beforeLeave,onLeave:r.leave,onAfterLeave:r.afterLeave},{default:t.withCtx((()=>[t.withDirectives(t.createElementVNode("div",t.mergeProps({onClick:i[0]||(i[0]=t.withModifiers(((...e)=>r.closeOverlay&&r.closeOverlay(...e)),["self"])),ref:"overlay",class:"mvi-overlay",style:r.overlayStyle},e.$attrs),[t.renderSlot(e.$slots,"default",{},void 0,!0)],16),[[t.vShow,o.overlayShow]])])),_:3},8,["onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])],8,["disabled","to"])}],["__scopeId","data-v-a0d7b0dd"]]);le.install=e=>{e.component(le.name,le)};const ae=T({name:"m-popup",data:()=>({popupShow:!1,firstShow:!1}),emits:["update:modelValue","show","showing","shown","hide","hidding","hidden"],inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},closable:{type:Boolean,default:!1},overlayColor:{type:String,default:null},zIndex:{type:Number,default:900},timeout:{type:Number,default:200},placement:{type:String,default:"bottom",validator:e=>["left","top","bottom","right"].includes(e)},round:{type:Boolean,default:!1},width:{type:String,default:null},showTimes:{type:Boolean,default:!1},timesPlacement:{type:String,default:"top-right",validator:e=>["top-right","top-left","bottom-right","bottom-left"].includes(e)},mountEl:{type:String,default:null},usePadding:{type:Boolean,default:!1},__contentPadding:{type:Boolean,default:!0}},computed:{$$el(){return this.$refs.overlay.$$el},show:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},popupClass(){let e=["mvi-popup",this.placement];return this.round&&e.push("round"),this.showTimes&&("top-right"==this.timesPlacement||"top-left"==this.timesPlacement?e.push("padding-top"):"bottom-right"!=this.timesPlacement&&"bottom-left"!=this.timesPlacement||e.push("padding-bottom")),e},popupStyle(){let e={};return"left"==this.placement||"right"==this.placement?this.width&&(e.width=this.width):"top"!=this.placement&&"bottom"!=this.placement||this.width&&(e.height=this.width),u.number.isNumber(this.zIndex)&&(e.zIndex=this.zIndex+10),e.transition="all "+this.timeout+"ms",e}},components:{Icon:$,Overlay:le},methods:{overlayShow(){this.firstShow||(this.firstShow=!0),this.popupShow=!0},overlayHide(){this.popupShow=!1},beforeEnter(e){u.data.get(e,"mvi-popup-beforeEnter-trigger")||(u.data.set(e,"mvi-popup-beforeEnter-trigger",!0),this.$emit("show",e),"function"==typeof this.popupComponentWatch&&this.popupComponentWatch.apply(this,["show",e]))},enter(e){u.data.get(e,"mvi-popup-enter-trigger")||(u.data.set(e,"mvi-popup-enter-trigger",!0),this.$emit("showing",e),"function"==typeof this.popupComponentWatch&&this.popupComponentWatch.apply(this,["showing",e]))},afterEnter(e){this.$emit("shown",e),"function"==typeof this.popupComponentWatch&&this.popupComponentWatch.apply(this,["shown",e])},beforeLeave(e){u.data.remove(e,"mvi-popup-beforeEnter-trigger"),u.data.remove(e,"mvi-popup-enter-trigger"),this.$emit("hide",e),"function"==typeof this.popupComponentWatch&&this.popupComponentWatch.apply(this,["hide",e])},leave(e){this.$emit("hidding",e),"function"==typeof this.popupComponentWatch&&this.popupComponentWatch.apply(this,["hidding",e])},afterLeave(e){this.$emit("hidden",e),"function"==typeof this.popupComponentWatch&&this.popupComponentWatch.apply(this,["hidden",e])}}},[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon"),a=t.resolveComponent("Overlay");return t.openBlock(),t.createBlock(a,{ref:"overlay",modelValue:r.show,"onUpdate:modelValue":i[1]||(i[1]=e=>r.show=e),onShow:r.overlayShow,onHide:r.overlayHide,"use-padding":s.usePadding,"z-index":s.zIndex,color:s.overlayColor,timeout:s.timeout,"mount-el":s.mountEl,closable:s.closable},{default:t.withCtx((()=>[t.createVNode(t.Transition,{name:"mvi-slide-"+s.placement,onBeforeEnter:r.beforeEnter,onEnter:r.enter,onAfterEnter:r.afterEnter,onBeforeLeave:r.beforeLeave,onLeave:r.leave,onAfterLeave:r.afterLeave},{default:t.withCtx((()=>[o.firstShow?t.withDirectives((t.openBlock(),t.createElementBlock("div",t.mergeProps({key:0,class:r.popupClass,style:r.popupStyle},e.$attrs),[s.showTimes?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["mvi-popup-times",s.timesPlacement])},[t.createVNode(l,{onClick:i[0]||(i[0]=e=>r.show=!1),type:"times"})],2)):t.createCommentVNode("",!0),t.createElementVNode("div",{class:"mvi-popup-content",style:t.normalizeStyle({padding:s.__contentPadding?"":0})},[t.renderSlot(e.$slots,"default",{},void 0,!0)],4)],16)),[[t.vShow,o.popupShow]]):t.createCommentVNode("",!0)])),_:3},8,["name","onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])])),_:3},8,["modelValue","onShow","onHide","use-padding","z-index","color","timeout","mount-el","closable"])}],["__scopeId","data-v-d8d0a44a"]]);ae.install=e=>{e.component(ae.name,ae)};const ce={name:"m-checkbox",emits:["update:modelValue","change"],props:{disabled:{type:Boolean,default:!1},modelValue:{type:[Boolean,Array],default:!1},label:{type:String,default:null},value:{type:[Object,Number,String,Array],default:""},round:{type:Boolean,default:!1},name:{type:String,default:null},placement:{type:String,default:"right",validator:e=>["left","right"].includes(e)},size:{type:String,default:null},color:{type:String,default:null}},computed:{check(){return"boolean"==typeof this.modelValue?this.modelValue:!!Array.isArray(this.modelValue)&&this.modelValue.some((e=>u.common.equal(e,this.value)))},itemStyle(){let e={};return this.color&&this.check&&!this.disabled&&(e.backgroundColor=this.color,e.borderColor=this.color),this.size&&(e.fontSize=this.size),e}},components:{Icon:$},methods:{change(e){if(Array.isArray(this.modelValue)){let t=[...this.modelValue];e.target.checked&&!this.check?t.push(this.value):this.check&&(t=t.filter((e=>!u.common.equal(e,this.value)))),this.$emit("update:modelValue",t),this.$emit("change",t)}else"boolean"==typeof this.modelValue&&(this.$emit("update:modelValue",e.target.checked),this.$emit("change",e.target.checked))}}},he=["disabled"],de=["data-placement","textContent"],me=["value","disabled","checked","name"],ue=["data-placement","textContent"];const pe=T(ce,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("label",{class:"mvi-checkbox",disabled:s.disabled||null},["left"==s.placement&&s.label?(t.openBlock(),t.createElementBlock("span",{key:0,class:"mvi-checkbox-label","data-placement":s.placement,textContent:t.toDisplayString(s.label)},null,8,de)):t.createCommentVNode("",!0),t.createElementVNode("input",{onChange:i[0]||(i[0]=(...e)=>r.change&&r.change(...e)),value:s.value,disabled:s.disabled,checked:r.check,type:"checkbox",name:s.name},null,40,me),t.createElementVNode("span",{class:t.normalizeClass(["mvi-checkbox-item",r.check?"check":"",s.round?"round":""]),style:t.normalizeStyle(r.itemStyle)},[t.createVNode(l,{type:"success",style:t.normalizeStyle({opacity:this.check?"":0})},null,8,["style"])],6),"right"==s.placement&&s.label?(t.openBlock(),t.createElementBlock("span",{key:1,class:"mvi-checkbox-label","data-placement":s.placement,textContent:t.toDisplayString(s.label)},null,8,ue)):t.createCommentVNode("",!0)],8,he)}],["__scopeId","data-v-33305a01"]]);pe.install=e=>{e.component(pe.name,pe)};const fe={name:"m-radio",emits:["update:modelValue","change"],props:{disabled:{type:Boolean,default:!1},modelValue:{type:[Boolean,String,Number,Object],default:!1},label:{type:String,default:null},value:{type:[Object,Number,String],default:""},round:{type:Boolean,default:!0},name:{type:String,default:null},placement:{type:String,default:"right",validator:e=>["left","right"].includes(e)},size:{type:String,default:null},color:{type:String,default:null}},computed:{check(){return"boolean"==typeof this.modelValue?this.modelValue:u.common.equal(this.modelValue,this.value)},itemStyle(){let e={};return this.color&&this.check&&!this.disabled&&(e.backgroundColor=this.color,e.borderColor=this.color),this.size&&(e.fontSize=this.size),e}},components:{Icon:$},methods:{change(e){"boolean"==typeof this.modelValue?(this.$emit("update:modelValue",e.target.checked),this.$emit("change",e.target.checked)):e.target.checked&&(this.$emit("update:modelValue",this.value),this.$emit("change",this.value))}}},ge=["disabled"],ye=["data-placement","textContent"],be=["value","disabled","checked","name"],ve=["data-placement","textContent"];const we=T(fe,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("label",{class:"mvi-radio",disabled:s.disabled||null},["left"==s.placement&&s.label?(t.openBlock(),t.createElementBlock("span",{key:0,class:"mvi-radio-label","data-placement":s.placement,textContent:t.toDisplayString(s.label)},null,8,ye)):t.createCommentVNode("",!0),t.createElementVNode("input",{onChange:i[0]||(i[0]=(...e)=>r.change&&r.change(...e)),value:s.value,disabled:s.disabled,checked:r.check,type:"radio",name:s.name},null,40,be),t.createElementVNode("span",{class:t.normalizeClass(["mvi-radio-item",r.check?"check":"",s.round?"round":""]),style:t.normalizeStyle(r.itemStyle)},[t.createVNode(l,{type:"success",style:t.normalizeStyle({opacity:this.check?"":0})},null,8,["style"])],6),"right"==s.placement&&s.label?(t.openBlock(),t.createElementBlock("span",{key:1,class:"mvi-radio-label","data-placement":s.placement,textContent:t.toDisplayString(s.label)},null,8,ve)):t.createCommentVNode("",!0)],8,ge)}],["__scopeId","data-v-6d82c302"]]);we.install=e=>{e.component(we.name,we)};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var ke={exports:{}};ke.exports=function(){var e=1e3,t=6e4,i=36e5,s="millisecond",n="second",o="minute",r="hour",l="day",a="week",c="month",h="quarter",d="year",m="date",u="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],i=e%100;return"["+e+(t[(i-20)%10]||t[i]||t[0])+"]"}},y=function(e,t,i){var s=String(e);return!s||s.length>=t?e:""+Array(t+1-s.length).join(i)+e},b={s:y,z:function(e){var t=-e.utcOffset(),i=Math.abs(t),s=Math.floor(i/60),n=i%60;return(t<=0?"+":"-")+y(s,2,"0")+":"+y(n,2,"0")},m:function e(t,i){if(t.date()<i.date())return-e(i,t);var s=12*(i.year()-t.year())+(i.month()-t.month()),n=t.clone().add(s,c),o=i-n<0,r=t.clone().add(s+(o?-1:1),c);return+(-(s+(i-n)/(o?n-r:r-n))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:a,d:l,D:m,h:r,m:o,s:n,ms:s,Q:h}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",w={};w[v]=g;var k=function(e){return e instanceof S},E=function e(t,i,s){var n;if(!t)return v;if("string"==typeof t){var o=t.toLowerCase();w[o]&&(n=o),i&&(w[o]=i,n=o);var r=t.split("-");if(!n&&r.length>1)return e(r[0])}else{var l=t.name;w[l]=t,n=l}return!s&&n&&(v=n),n||!s&&v},x=function(e,t){if(k(e))return e.clone();var i="object"==typeof t?t:{};return i.date=e,i.args=arguments,new S(i)},C=b;C.l=E,C.i=k,C.w=function(e,t){return x(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var S=function(){function g(e){this.$L=E(e.locale,null,!0),this.parse(e)}var y=g.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,i=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var s=t.match(p);if(s){var n=s[2]-1||0,o=(s[7]||"0").substring(0,3);return i?new Date(Date.UTC(s[1],n,s[3]||1,s[4]||0,s[5]||0,s[6]||0,o)):new Date(s[1],n,s[3]||1,s[4]||0,s[5]||0,s[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return C},y.isValid=function(){return!(this.$d.toString()===u)},y.isSame=function(e,t){var i=x(e);return this.startOf(t)<=i&&i<=this.endOf(t)},y.isAfter=function(e,t){return x(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<x(e)},y.$g=function(e,t,i){return C.u(e)?this[t]:this.set(i,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var i=this,s=!!C.u(t)||t,h=C.p(e),u=function(e,t){var n=C.w(i.$u?Date.UTC(i.$y,t,e):new Date(i.$y,t,e),i);return s?n:n.endOf(l)},p=function(e,t){return C.w(i.toDate()[e].apply(i.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(t)),i)},f=this.$W,g=this.$M,y=this.$D,b="set"+(this.$u?"UTC":"");switch(h){case d:return s?u(1,0):u(31,11);case c:return s?u(1,g):u(0,g+1);case a:var v=this.$locale().weekStart||0,w=(f<v?f+7:f)-v;return u(s?y-w:y+(6-w),g);case l:case m:return p(b+"Hours",0);case r:return p(b+"Minutes",1);case o:return p(b+"Seconds",2);case n:return p(b+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var i,a=C.p(e),h="set"+(this.$u?"UTC":""),u=(i={},i[l]=h+"Date",i[m]=h+"Date",i[c]=h+"Month",i[d]=h+"FullYear",i[r]=h+"Hours",i[o]=h+"Minutes",i[n]=h+"Seconds",i[s]=h+"Milliseconds",i)[a],p=a===l?this.$D+(t-this.$W):t;if(a===c||a===d){var f=this.clone().set(m,1);f.$d[u](p),f.init(),this.$d=f.set(m,Math.min(this.$D,f.daysInMonth())).$d}else u&&this.$d[u](p);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[C.p(e)]()},y.add=function(s,h){var m,u=this;s=Number(s);var p=C.p(h),f=function(e){var t=x(u);return C.w(t.date(t.date()+Math.round(e*s)),u)};if(p===c)return this.set(c,this.$M+s);if(p===d)return this.set(d,this.$y+s);if(p===l)return f(1);if(p===a)return f(7);var g=(m={},m[o]=t,m[r]=i,m[n]=e,m)[p]||1,y=this.$d.getTime()+s*g;return C.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this,i=this.$locale();if(!this.isValid())return i.invalidDate||u;var s=e||"YYYY-MM-DDTHH:mm:ssZ",n=C.z(this),o=this.$H,r=this.$m,l=this.$M,a=i.weekdays,c=i.months,h=i.meridiem,d=function(e,i,n,o){return e&&(e[i]||e(t,s))||n[i].slice(0,o)},m=function(e){return C.s(o%12||12,e,"0")},p=h||function(e,t,i){var s=e<12?"AM":"PM";return i?s.toLowerCase():s};return s.replace(f,(function(e,s){return s||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return C.s(t.$y,4,"0");case"M":return l+1;case"MM":return C.s(l+1,2,"0");case"MMM":return d(i.monthsShort,l,c,3);case"MMMM":return d(c,l);case"D":return t.$D;case"DD":return C.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(i.weekdaysMin,t.$W,a,2);case"ddd":return d(i.weekdaysShort,t.$W,a,3);case"dddd":return a[t.$W];case"H":return String(o);case"HH":return C.s(o,2,"0");case"h":return m(1);case"hh":return m(2);case"a":return p(o,r,!0);case"A":return p(o,r,!1);case"m":return String(r);case"mm":return C.s(r,2,"0");case"s":return String(t.$s);case"ss":return C.s(t.$s,2,"0");case"SSS":return C.s(t.$ms,3,"0");case"Z":return n}return null}(e)||n.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(s,m,u){var p,f=this,g=C.p(m),y=x(s),b=(y.utcOffset()-this.utcOffset())*t,v=this-y,w=function(){return C.m(f,y)};switch(g){case d:p=w()/12;break;case c:p=w();break;case h:p=w()/3;break;case a:p=(v-b)/6048e5;break;case l:p=(v-b)/864e5;break;case r:p=v/i;break;case o:p=v/t;break;case n:p=v/e;break;default:p=v}return u?p:C.a(p)},y.daysInMonth=function(){return this.endOf(c).$D},y.$locale=function(){return w[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var i=this.clone(),s=E(e,t,!0);return s&&(i.$L=s),i},y.clone=function(){return C.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},g}(),T=S.prototype;return x.prototype=T,[["$ms",s],["$s",n],["$m",o],["$H",r],["$W",l],["$M",c],["$y",d],["$D",m]].forEach((function(e){T[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),x.extend=function(e,t){return e.$i||(e(t,S,x),e.$i=!0),x},x.locale=E,x.isDayjs=k,x.unix=function(e){return x(1e3*e)},x.en=w[v],x.Ls=w,x.p={},x}();const Ee=ke.exports;const xe=T({name:"m-loading",props:{color:{type:String,default:"#bbb"},size:{type:String,default:"0.4rem"}},computed:{loadingStyle(){let e={};return e.background=this.color,e.width="calc("+this.size+"/20)",e.height="calc("+this.size+"/4)",e.transformOrigin="calc("+this.size+"/40) calc("+this.size+"/2)",e.webkitTransformOrigin="calc("+this.size+"/40) calc("+this.size+"/2)",e}}},[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createElementBlock("div",{class:"mvi-loading",style:t.normalizeStyle({width:s.size,height:s.size})},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(new Array(12),(e=>(t.openBlock(),t.createElementBlock("div",{style:t.normalizeStyle(r.loadingStyle)},null,4)))),256))],4)}],["__scopeId","data-v-b847f63e"]]);xe.install=e=>{e.component(xe.name,xe)};const Ce={name:"m-picker",data:()=>({offsets:[],startY:0,startY2:0,time:0,oldActives:[],amounts:0,mouseDown:!1,columnIndex:0,StartTimeStamp:0,endTimeStamp:0,itemRefs:[]}),emits:["confirm","cancel","change"],props:{options:{type:[Array,Object],default:function(){return{values:[],defaultIndex:0}}},showToolbar:{type:Boolean,default:!0},title:{type:String,default:null},confirmText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},loading:{type:Boolean,default:!1},visibleCounts:{type:Number,default:5},selectHeight:{type:String,default:"0.88rem"}},watch:{cmpOptions(){this.init()}},computed:{cmpHeight(){return this.selectHeight.includes("px")?parseFloat(this.selectHeight):this.selectHeight.includes("rem")?u.element.rem2px(parseFloat(this.selectHeight)):void 0},loadingStyle(){let e={};return e.height=`calc(${u.number.mutiply(this.cmpHeight,this.visibleCounts)}px + 0.88rem)`,e},contentStyle(){let e={};return e.height=`${u.number.mutiply(this.cmpHeight,this.visibleCounts)}px`,e},cmpOptions(){let e=[];return e=Array.isArray(this.options)?this.options:[this.options],e},columnStyle(){return(e,t)=>{let i={};return i.transform=`translate3d(0,${this.offsets[t]||0}px,0)`,i.webkitTransform=`translate3d(0,${this.offsets[t]||0}px,0)`,i}},actives(){let e=[];for(let t=0;t<this.offsets.length;t++)e.push({index:this.getActive(this.offsets[t]),value:this.cmpOptions[t].values[this.getActive(this.offsets[t])]});return e},maskStyle(){let e={};return this.selectHeight&&(e.backgroundSize="100% "+u.number.mutiply(this.cmpHeight,u.number.divide(this.visibleCounts-1,2))+"px"),e}},components:{Loading:xe},setup:()=>({uid:t.getCurrentInstance().uid}),mounted(){this.init(),u.event.on(document.documentElement,`mousemove.picker_${this.uid}`,this.mousemove),u.event.on(document.documentElement,`mouseup.picker_${this.uid}`,this.mouseup)},methods:{init(){this.offsets=[];for(let e=0;e<this.cmpOptions.length;e++)this.offsets.push(this.getOffset(this.cmpOptions[e].defaultIndex||0))},crisis(e){let t=u.number.divide(this.visibleCounts-1,2);t=u.number.mutiply(t,this.cmpHeight);let i=-u.number.divide(this.visibleCounts-1,2);return i=u.number.mutiply(i,this.cmpHeight),i+=u.number.mutiply(this.visibleCounts-this.cmpOptions[e].values.length,this.cmpHeight),{max:t,min:i}},getActive(e){let t=Math.abs(u.number.divide(e-u.number.mutiply(u.number.divide(this.visibleCounts-1,2),this.cmpHeight),this.cmpHeight));return Math.round(t)},getOffset(e){return u.number.mutiply(u.number.subtract(u.number.divide(this.visibleCounts-1,2),e),this.cmpHeight)},doConfirm(){1==this.actives.length?this.$emit("confirm",this.actives[0]):this.$emit("confirm",this.actives)},doCancel(){this.init(),1==this.actives.length?this.$emit("cancel",this.actives[0]):this.$emit("cancel",this.actives)},addTransition(e,t){return new Promise((i=>{this.itemRefs[e].style.transition="all "+t+"ms ease-out",this.itemRefs[e].style.webkitTransition="all "+t+"ms ease-out",setTimeout((()=>{i()}),0)}))},removeTransition(e){return new Promise((t=>{this.itemRefs[e].style.transition="",this.itemRefs[e].style.webkitTransition="",setTimeout((()=>{t()}),0)}))},touchstart(e,t){this.startY=e.targetTouches[0].pageY,this.startY2=this.startY,this.time=Date.now(),this.oldActives=this.actives,this.amounts=0,this.columnIndex=t,this.StartTimeStamp=Date.now()},mousedown(e,t){this.startY=e.pageY,this.startY2=this.startY,this.time=Date.now(),this.oldActives=this.actives,this.amounts=0,this.mouseDown=!0,this.columnIndex=t,this.StartTimeStamp=Date.now()},touchmove(e){e.cancelable&&e.preventDefault();let t=e.targetTouches[0].pageY,i=t-this.startY,s=t-this.startY2;return this.offsets[this.columnIndex]>=this.crisis(this.columnIndex).max&&s>0||this.offsets[this.columnIndex]<=this.crisis(this.columnIndex).min&&s<0?(this.amounts+=5,void(this.offsets[this.columnIndex]=this.offsets[this.columnIndex]+i/this.amounts)):(this.offsets[this.columnIndex]=this.offsets[this.columnIndex]+i/1.6,void(this.startY=t))},mousemove(e){if(!this.mouseDown)return;e.cancelable&&e.preventDefault();let t=e.pageY,i=t-this.startY,s=t-this.startY2;return this.offsets[this.columnIndex]>=this.crisis(this.columnIndex).max&&s>0||this.offsets[this.columnIndex]<=this.crisis(this.columnIndex).min&&s<0?(this.amounts+=5,void(this.offsets[this.columnIndex]=this.offsets[this.columnIndex]+i/this.amounts)):(this.offsets[this.columnIndex]=this.offsets[this.columnIndex]+i/1.6,void(this.startY=t))},touchend(e){this.endTimeStamp=Date.now();let t=e.changedTouches[0].pageY-this.startY2,i=this.endTimeStamp-this.StartTimeStamp;i<300&&Math.abs(t)>this.cmpHeight?this.addTransition(this.columnIndex,1e3).then((()=>(this.offsets[this.columnIndex]=t>0?this.offsets[this.columnIndex]+u.element.rem2px(10)*i/1e3:this.offsets[this.columnIndex]-u.element.rem2px(10)*i/1e3,this.addTransition(this.columnIndex,300)))).then((()=>{this.endDeal(t,300)})):this.addTransition(this.columnIndex,300).then((()=>{this.endDeal(t,300)}))},mouseup(e){if(!this.mouseDown)return;this.mouseDown=!1,this.endTimeStamp=Date.now();let t=e.pageY-this.startY2,i=this.endTimeStamp-this.StartTimeStamp;i<300&&Math.abs(t)>this.cmpHeight?this.addTransition(this.columnIndex,1e3).then((()=>(this.offsets[this.columnIndex]=t>0?this.offsets[this.columnIndex]+u.element.rem2px(10)*i/1e3:this.offsets[this.columnIndex]-u.element.rem2px(10)*i/1e3,this.addTransition(this.columnIndex,300)))).then((()=>{this.endDeal(t,300)})):this.addTransition(this.columnIndex,300).then((()=>{this.endDeal(t,300)}))},endDeal(e,t){if(e>0)if(this.offsets[this.columnIndex]>=this.crisis(this.columnIndex).max)this.offsets[this.columnIndex]=this.crisis(this.columnIndex).max;else{let e=this.getActive(this.offsets[this.columnIndex]);this.offsets[this.columnIndex]=this.getOffset(e)}else if(this.offsets[this.columnIndex]<=this.crisis(this.columnIndex).min)this.offsets[this.columnIndex]=this.crisis(this.columnIndex).min;else{let e=this.getActive(this.offsets[this.columnIndex]);this.offsets[this.columnIndex]=this.getOffset(e)}if(1==this.actives.length)this.actives[0].index!=this.oldActives[0].index&&this.$emit("change",this.columnIndex,this.actives[0]);else{let e=!0;for(let t=0;t<this.oldActives.length;t++)this.oldActives[t].index!=this.actives[t].index&&(e=!1);e||this.$emit("change",this.columnIndex,this.actives)}setTimeout((()=>{this.removeTransition(this.columnIndex)}),t)},contentTouchMove(e){e.cancelable&&e.preventDefault()}},beforeUnmount(){u.event.off(document.documentElement,`mousemove.picker_${this.uid} mouseup.picker_${this.uid}`)}},Se={class:"mvi-picker"},Te={key:1,class:"mvi-picker-toolbar"},$e=["textContent"],Ie=["textContent"],Be=["textContent"],_e=["onTouchstart","onMousedown"],Ne=["textContent"];const Pe=T(Ce,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Loading");return t.openBlock(),t.createElementBlock("div",Se,[s.loading?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-picker-loading",style:t.normalizeStyle(r.loadingStyle)},[t.createVNode(l,{size:"0.5rem",color:"#ddd"})],4)):t.createCommentVNode("",!0),s.showToolbar&&!s.loading?(t.openBlock(),t.createElementBlock("div",Te,[t.createElementVNode("div",{class:"mvi-picker-toolbar-cancel",textContent:t.toDisplayString(s.cancelText),onClick:i[0]||(i[0]=(...e)=>r.doCancel&&r.doCancel(...e))},null,8,$e),s.title?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-picker-toolbar-title",textContent:t.toDisplayString(s.title)},null,8,Ie)):t.createCommentVNode("",!0),t.createElementVNode("div",{class:"mvi-picker-toolbar-confirm",textContent:t.toDisplayString(s.confirmText),onClick:i[1]||(i[1]=(...e)=>r.doConfirm&&r.doConfirm(...e))},null,8,Be)])):t.createCommentVNode("",!0),s.loading?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",{key:2,class:"mvi-picker-content",style:t.normalizeStyle(r.contentStyle),ref:"content",onTouchmove:i[4]||(i[4]=(...e)=>r.contentTouchMove&&r.contentTouchMove(...e))},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.cmpOptions,((e,n)=>(t.openBlock(),t.createElementBlock("div",{class:"mvi-picker-items",ref_for:!0,ref:e=>o.itemRefs[n]=e,style:t.normalizeStyle(r.columnStyle(e,n)),onTouchstart:e=>r.touchstart(e,n),onTouchmove:i[2]||(i[2]=(...e)=>r.touchmove&&r.touchmove(...e)),onTouchend:i[3]||(i[3]=(...e)=>r.touchend&&r.touchend(...e)),onMousedown:e=>r.mousedown(e,n)},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.values,((e,i)=>(t.openBlock(),t.createElementBlock("div",{class:"mvi-picker-item",textContent:t.toDisplayString(e),style:t.normalizeStyle({height:s.selectHeight||""})},null,12,Ne)))),256))],44,_e)))),256)),t.createElementVNode("div",{class:"mvi-picker-active",style:t.normalizeStyle({height:s.selectHeight||""})},null,4),t.createElementVNode("div",{class:"mvi-picker-mask",style:t.normalizeStyle(r.maskStyle)},null,4)],36))])}],["__scopeId","data-v-4d117a98"]]);Pe.install=e=>{e.component(Pe.name,Pe)};const ze={name:"m-date-picker",emits:["update:modelValue","confirm","cancel","change"],props:{modelValue:{type:Date,default:function(){return new Date}},startDate:{type:Date,default:function(){return Ee("1970-01-01 00:00:00").toDate()}},endDate:{type:Date,default:function(){return Ee("2099-12-31 23:59:59").toDate()}},mode:{type:String,default:"date",validator:e=>["date","datetime","time","month","year"].includes(e)},showToolbar:{type:Boolean,default:!0},title:{type:String,default:null},confirmText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},loading:{type:Boolean,default:!1},visibleCounts:{type:Number,default:5},selectHeight:{type:String,default:"0.88rem"},formatter:{type:Function}},computed:{selectedDate:{set(e){if(e instanceof Date){const t=this.getUnit();Ee(e).isBefore(Ee(this.startDate),t)&&(e=this.startDate),Ee(e).isAfter(Ee(this.endDate),t)&&(e=this.endDate)}this.$emit("update:modelValue",e),this.$emit("change",e)},get(){if(this.modelValue instanceof Date){const e=this.getUnit();return Ee(this.modelValue).isBefore(Ee(this.startDate),e)?this.startDate:Ee(this.modelValue).isAfter(Ee(this.endDate),e)?this.endDate:this.modelValue}return new Date}},years(){let e=[],t=this.startDate.getFullYear();for(;t<=this.endDate.getFullYear();)e.push(t),t++;return e},months(){const e=Ee(this.selectedDate).format("YYYY");let t=[];for(let i=1;i<=12;i++)Ee(`${e}-${i<10?"0"+i:i}`).isBefore(Ee(this.startDate),"month")||Ee(`${e}-${i<10?"0"+i:i}`).isAfter(Ee(this.endDate),"month")||t.push(i);return t},days(){const e=Ee(this.selectedDate).format("YYYY-MM");let t=[];const i=Ee(this.selectedDate).daysInMonth();for(let s=1;s<=i;s++)Ee(`${e}-${s<10?"0"+s:s}`).isBefore(Ee(this.startDate),"date")||Ee(`${e}-${s<10?"0"+s:s}`).isAfter(Ee(this.endDate),"date")||t.push(s);return t},hours(){const e=Ee(this.selectedDate).format("YYYY-MM-DD");let t=[];for(let i=0;i<24;i++)Ee(`${e} ${i<10?"0"+i:i}`).isBefore(Ee(this.startDate),"hour")||Ee(`${e} ${i<10?"0"+i:i}`).isAfter(Ee(this.endDate),"hour")||t.push(i);return t},minutes(){const e=Ee(this.selectedDate).format("YYYY-MM-DD HH");let t=[];for(let i=0;i<60;i++)Ee(`${e}:${i<10?"0"+i:i}`).isBefore(Ee(this.startDate),"minute")||Ee(`${e}:${i<10?"0"+i:i}`).isAfter(Ee(this.endDate),"minute")||t.push(i);return t},pickerOptions(){const e={defaultIndex:this.years.findIndex((e=>e==this.selectedDate.getFullYear())),values:this.years.map((e=>"function"==typeof this.formatter?this.formatter.apply(this,["year",e]):`${e}年`))},t={defaultIndex:this.months.findIndex((e=>e==this.selectedDate.getMonth()+1)),values:this.months.map((e=>"function"==typeof this.formatter?this.formatter.apply(this,["month",e]):`${e}月`))},i={defaultIndex:this.days.findIndex((e=>e==this.selectedDate.getDate())),values:this.days.map((e=>"function"==typeof this.formatter?this.formatter.apply(this,["date",e]):`${e}日`))},s={defaultIndex:this.hours.findIndex((e=>e==this.selectedDate.getHours())),values:this.hours.map((e=>"function"==typeof this.formatter?this.formatter.apply(this,["hour",e]):`${e}时`))},n={defaultIndex:this.minutes.findIndex((e=>e==this.selectedDate.getMinutes())),values:this.minutes.map((e=>"function"==typeof this.formatter?this.formatter.apply(this,["minute",e]):`${e}分`))};return"year"==this.mode?e:"month"==this.mode?[e,t]:"date"==this.mode?[e,t,i]:"datetime"==this.mode?[e,t,i,s,n]:"time"==this.mode?[s,n]:void 0}},components:{Picker:Pe},methods:{dateChange(e,t){"year"==this.mode?this.updateYear(this.years[t.index]):"month"==this.mode?0==e?this.updateYear(this.years[t[e].index]):this.updateMonth(this.months[t[e].index]):"date"==this.mode?0==e?this.updateYear(this.years[t[e].index]):1==e?this.updateMonth(this.months[t[e].index]):this.updateDay(this.days[t[e].index]):"time"==this.mode?0==e?this.updateHour(this.hours[t[e].index]):this.updateMinute(this.minutes[t[e].index]):"datetime"==this.mode&&(0==e?this.updateYear(this.years[t[e].index]):1==e?this.updateMonth(this.months[t[e].index]):2==e?this.updateDay(this.days[t[e].index]):3==e?this.updateHour(this.hours[t[e].index]):this.updateMinute(this.minutes[t[e].index]))},doConfirm(){this.$emit("confirm",this.selectedDate)},doCancel(){this.$emit("cancel",this.selectedDate)},updateYear(e){this.selectedDate=Ee(this.selectedDate).year(e).toDate()},updateMonth(e){this.selectedDate=Ee(this.selectedDate).month(e-1).toDate()},updateDay(e){this.selectedDate=Ee(this.selectedDate).date(e).toDate()},updateHour(e){this.selectedDate=Ee(this.selectedDate).hour(e).toDate()},updateMinute(e){this.selectedDate=Ee(this.selectedDate).minute(e).toDate()},getUnit(){return"year"==this.mode?"year":"month"==this.mode?"month":"date"==this.mode?"date":"time"==this.mode||"datetime"==this.mode?"minute":void 0}}},Ae={class:"mvi-date-picker"};const Oe=T(ze,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Picker");return t.openBlock(),t.createElementBlock("div",Ae,[t.createVNode(l,{options:r.pickerOptions,"show-toolbar":s.showToolbar,title:s.title,"confirm-text":s.confirmText,"cancel-text":s.cancelText,loading:s.loading,"visible-counts":s.visibleCounts,"select-height":s.selectHeight,onChange:r.dateChange,onConfirm:r.doConfirm,onCancel:r.doCancel},null,8,["options","show-toolbar","title","confirm-text","cancel-text","loading","visible-counts","select-height","onChange","onConfirm","onCancel"])])}],["__scopeId","data-v-a1692616"]]);Oe.install=e=>{e.component(Oe.name,Oe)};const Ve={name:"m-date-native-picker",emits:["update:modelValue","error","change"],props:{type:{type:String,default:"date",validator:e=>["date","datetime","month","time"].includes(e)},modelValue:{type:Date,default:null},max:{type:Date,default:null},min:{type:Date,default:null}},computed:{dateType(){return"datetime"==this.type?"datetime-local":this.type},defaultDate(){if(this.modelValue){if("date"==this.type)return Ee(this.modelValue).format("YYYY-MM-DD");if("datetime"==this.type)return Ee(this.modelValue).format("YYYY-MM-DD HH:mm");if("month"==this.type)return Ee(this.modelValue).format("YYYY-MM");if("time"==this.type)return Ee(this.modelValue).format("HH:mm")}return""}},data:()=>({ios:u.platform.os().ios,iPad:u.platform.device().iPad}),methods:{trigger(){this.ios?this.$el.focus():this.$el.click()},selectDateForIOS(){this.ios&&!this.iPad&&this.selectDate()},selectDateForAndroid(){this.ios&&!this.iPad||this.selectDate()},selectDate(){if(this.$el.value){const e=Ee(this.$el.value);if(this.min&&e.isBefore(Ee(this.min)))return void this.$emit("error",0,"The date is less than min");if(this.max&&Ee(this.max).isBefore(e))return void this.$emit("error",1,"The date is greater than max");this.$emit("update:modelValue",e.toDate()),this.$emit("change",e.toDate())}else this.$emit("update:modelValue",null),this.$emit("change",null)}}},Re=["type","value"];const De=T(Ve,[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createElementBlock("input",{onBlur:i[0]||(i[0]=(...e)=>r.selectDateForIOS&&r.selectDateForIOS(...e)),onChange:i[1]||(i[1]=(...e)=>r.selectDateForAndroid&&r.selectDateForAndroid(...e)),class:"mvi-date-native-picker",type:r.dateType,value:r.defaultDate},null,40,Re)}],["__scopeId","data-v-646ce916"]]);De.install=e=>{e.component(De.name,De)};const Me={name:"m-input",data:()=>({focus:!1}),emits:["update:modelValue","left-click","right-click","focus","blur","input","clear"],props:{modelValue:{type:[String,Number],default:""},placeholder:{type:String,default:""},label:{type:String,default:null},labelWidth:{type:String,default:null},labelAlign:{type:String,default:"left",validator:e=>["left","center","right"].includes(e)},labelOffset:{type:String,default:null},type:{type:String,default:"text",validator:e=>["text","password","number","tel","textarea"].includes(e)},name:{type:String,default:null},maxlength:{type:Number,default:-1},size:{type:String,default:"medium",validator:e=>["medium","large"].includes(e)},border:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},left:{type:[String,Object],default:null},right:{type:[String,Object],default:null},rows:{type:Number,default:1},autosize:{type:[Boolean,Object],default:!1,validator:e=>!(u.common.isObject(e)&&u.number.isNumber(e.minRows)&&u.number.isNumber(e.maxRows)&&e.minRows>e.maxRows)},align:{type:String,default:"left",validator:e=>["left","center","right"].includes(e)},inputMode:{type:[String,Boolean],default:!1,validator:e=>[!1,"none","text","decimal","numeric","tel","search","email","url"].includes(e)}},computed:{inputClass(){let e=["mvi-input-container",this.size];return this.border&&e.push("border"),this.showWordLimit&&this.maxlength>0&&e.push("words"),this.required&&e.push("required"),e},showClear(){return!this.disabled&&!this.readonly&&!(!this.realValue||!this.focus)},parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},realValue:{set(e){this.modelValue!==e&&this.$emit("update:modelValue",e)},get(){let e=null===this.modelValue?"":this.modelValue.toString();return"number"==this.type&&(e=e.replace(/\D/g,"")),this.maxlength>0&&e.length>this.maxlength&&(e=e.substr(0,this.maxlength)),this.modelValue!==e&&this.$emit("update:modelValue",e),e}},cmpType(){return"number"==this.type?"text":this.type},rowsFilter(){let e=this.rows;return u.common.isObject(this.autosize)&&(u.number.isNumber(this.autosize.minRows)&&this.rows<this.autosize.minRows&&(e=this.autosize.minRows),u.number.isNumber(this.autosize.maxRows)&&this.rows>this.autosize.maxRows&&(e=this.autosize.maxRows)),e},labelStyle(){let e={};return this.labelWidth&&(e.width=this.labelWidth),this.labelAlign&&("left"==this.labelAlign?e.justifyContent="flex-start":"right"==this.labelAlign?e.justifyContent="flex-end":e.justifyContent=this.labelAlign),this.labelOffset&&(e.marginRight=this.labelOffset),e},inputStyle(){return{textAlign:this.align?this.align:""}},showLeft(){return this.$slots.left||this.parseIcon(this.left).type||this.parseIcon(this.left).url},showRight(){return this.$slots.right||this.parseIcon(this.right).type||this.parseIcon(this.right).url}},components:{Icon:$},mounted(){this.$refs.textarea&&(this.setMaxMinHeight(),(1==this.autosize||u.common.isObject(this.autosize))&&this.autosizeSet())},watch:{realValue(){this.$refs.textarea&&(1==this.autosize||u.common.isObject(this.autosize))&&this.autosizeSet()},rows(){this.$refs.textarea&&this.setMaxMinHeight()},autosize(){this.$refs.textarea&&this.setMaxMinHeight()},showClear(e){this.$nextTick((()=>{this.$refs.textarea&&(1==this.autosize||u.common.isObject(this.autosize))&&this.autosizeSet()}))}},methods:{autosizeSet(){this.$refs.textarea.style.height="auto",this.$refs.textarea.scrollTop=0,this.$refs.textarea.style.height=u.element.getScrollHeight(this.$refs.textarea)+"px"},rows2Height(e){return e*Math.floor(parseFloat(u.element.getCssStyle(this.$refs.textarea,"line-height")))},setMaxMinHeight(){if(u.common.isObject(this.autosize)){if(u.number.isNumber(this.autosize.maxRows)){let e=this.rows2Height(this.autosize.maxRows);this.$refs.textarea.style.maxHeight=e+"px"}if(u.number.isNumber(this.autosize.minRows)){let e=this.rows2Height(this.autosize.minRows);this.$refs.textarea.style.minHeight=e+"px"}}else this.$refs.textarea.style.maxHeight="",this.$refs.textarea.style.minHeight=""},inputFocus(){this.disabled||(this.focus=!0,this.$emit("focus",this.realValue))},inputBlur(){this.disabled||setTimeout((()=>{this.focus=!1,this.$emit("blur",this.realValue)}),100)},input(){this.disabled||this.$emit("input",this.realValue)},leftClick(){this.disabled||this.$emit("left-click",this.realValue)},rightClick(){this.disabled||this.$emit("right-click",this.realValue)},doClear(){this.disabled||this.clearable&&setTimeout((()=>{this.realValue="",(this.$refs.input||this.$refs.textarea).focus(),this.$emit("clear",this.realValue)}),110)}}},Le=["disabled","data-type"],He=["textContent"],Fe=["placeholder","maxlength","disabled","readonly","autofocus","rows","name"],We=["type","inputmode","placeholder","maxlength","disabled","readonly","autofocus","name"],je={key:6,class:"mvi-input-words"};const Ue=T(Me,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",{disabled:s.disabled||null,class:t.normalizeClass(r.inputClass),"data-type":s.type},[r.showLeft?(t.openBlock(),t.createElementBlock("div",{key:0,onClick:i[0]||(i[0]=(...e)=>r.leftClick&&r.leftClick(...e)),class:"mvi-input-left"},[e.$slots.left?t.renderSlot(e.$slots,"left",{key:0},void 0,!0):(t.openBlock(),t.createBlock(l,{key:1,type:r.parseIcon(s.left).type,url:r.parseIcon(s.left).url,spin:r.parseIcon(s.left).spin,size:r.parseIcon(s.left).size,color:r.parseIcon(s.left).color},null,8,["type","url","spin","size","color"]))])):t.createCommentVNode("",!0),s.label?(t.openBlock(),t.createElementBlock("div",{key:1,class:"mvi-input-label",style:t.normalizeStyle(r.labelStyle)},[t.createElementVNode("span",{textContent:t.toDisplayString(s.label)},null,8,He)],4)):t.createCommentVNode("",!0),"textarea"==s.type?t.withDirectives((t.openBlock(),t.createElementBlock("textarea",{key:2,placeholder:s.placeholder,maxlength:s.maxlength,disabled:s.disabled,readonly:s.readonly,autofocus:s.autofocus,class:"mvi-textarea","onUpdate:modelValue":i[1]||(i[1]=e=>r.realValue=e),onInput:i[2]||(i[2]=(...e)=>r.input&&r.input(...e)),ref:"textarea",rows:r.rowsFilter,name:s.name,style:t.normalizeStyle(r.inputStyle),onFocus:i[3]||(i[3]=(...e)=>r.inputFocus&&r.inputFocus(...e)),onBlur:i[4]||(i[4]=(...e)=>r.inputBlur&&r.inputBlur(...e)),autocomplete:"off"},null,44,Fe)),[[t.vModelText,r.realValue]]):t.withDirectives((t.openBlock(),t.createElementBlock("input",{key:3,type:r.cmpType,inputmode:s.inputMode,placeholder:s.placeholder,maxlength:s.maxlength,disabled:s.disabled,readonly:s.readonly,autofocus:s.autofocus,class:"mvi-input","onUpdate:modelValue":i[5]||(i[5]=e=>r.realValue=e),onInput:i[6]||(i[6]=(...e)=>r.input&&r.input(...e)),ref:"input",name:s.name,style:t.normalizeStyle(r.inputStyle),onFocus:i[7]||(i[7]=(...e)=>r.inputFocus&&r.inputFocus(...e)),onBlur:i[8]||(i[8]=(...e)=>r.inputBlur&&r.inputBlur(...e)),autocomplete:"off"},null,44,We)),[[t.vModelDynamic,r.realValue]]),s.clearable?t.withDirectives((t.openBlock(),t.createElementBlock("div",{key:4,onClick:i[9]||(i[9]=(...e)=>r.doClear&&r.doClear(...e)),class:"mvi-input-clear"},[t.createVNode(l,{type:"times-o"})],512)),[[t.vShow,r.showClear]]):t.createCommentVNode("",!0),r.showRight?(t.openBlock(),t.createElementBlock("div",{key:5,onClick:i[10]||(i[10]=(...e)=>r.rightClick&&r.rightClick(...e)),class:"mvi-input-right"},[e.$slots.right?t.renderSlot(e.$slots,"right",{key:0},void 0,!0):(t.openBlock(),t.createBlock(l,{key:1,type:r.parseIcon(s.right).type,url:r.parseIcon(s.right).url,spin:r.parseIcon(s.right).spin,size:r.parseIcon(s.right).size,color:r.parseIcon(s.right).color},null,8,["type","url","spin","size","color"]))])):t.createCommentVNode("",!0),s.showWordLimit&&s.maxlength>0?(t.openBlock(),t.createElementBlock("div",je,t.toDisplayString(r.realValue.length)+"/"+t.toDisplayString(s.maxlength),1)):t.createCommentVNode("",!0)],10,Le)}],["__scopeId","data-v-8664fc16"]]);Ue.install=e=>{e.component(Ue.name,Ue)};const Ye={name:"m-modal",data:()=>({modalShow:!1,firstShow:!1}),emits:["update:modelValue","show","showing","shown","hide","hidding","hidden"],inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},mountEl:{type:String,default:null},title:{type:String,default:""},center:{type:Boolean,default:!1},ellipsis:{type:Boolean,default:!1},content:{type:String,default:""},footer:{type:String,default:null},showTimes:{type:Boolean,default:!1},timeout:{type:Number,default:200},closable:{type:Boolean,default:!1},overlayColor:{type:String,default:null},zIndex:{type:Number,default:900},width:{type:String,default:null},radius:{type:String,default:null},animation:{type:String,default:"scale"},usePadding:{type:Boolean,default:!1},fullScreen:{type:Boolean,default:!1},__ignorePadding:{type:Boolean,default:!1}},computed:{$$el(){return this.$refs.overlay.$$el},show:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},wrapperStyle(){let e={};return this.radius&&(e.borderRadius=this.radius),e.transition="all "+this.timeout+"ms",e},headerStyle(){let e={};return(this.$slots.default||this.content)&&(e.paddingBottom="0"),e}},components:{Icon:$,Overlay:le},watch:{fullScreen(){this.modalSize()}},methods:{modalSize(){this.fullScreen?(this.$refs.modal.style.width=this.$$el.offsetParent.offsetWidth+"px",this.$refs.wrapper.style.height=this.$$el.offsetParent.offsetHeight+"px",this.$refs.wrapper.style.maxHeight=""):(this.width?this.$refs.modal.style.width=this.width:this.$refs.modal.style.width="",this.$refs.wrapper.style.maxHeight=.96*this.$$el.offsetParent.offsetHeight+"px",this.$refs.wrapper.style.height="")},overlayShow(){this.firstShow||(this.firstShow=!0),this.modalShow=!0},overlayHide(){this.modalShow=!1},beforeEnter(e){u.data.get(e,"mvi-modal-beforeEnter-trigger")||(u.data.set(e,"mvi-modal-beforeEnter-trigger",!0),this.$emit("show",e),"function"==typeof this.modalComponentWatch&&this.modalComponentWatch.apply(this,["show",e]))},enter(e){u.data.get(e,"mvi-modal-enter-trigger")||(u.data.set(e,"mvi-modal-enter-trigger",!0),this.modalSize(),this.$emit("showing",e),"function"==typeof this.modalComponentWatch&&this.modalComponentWatch.apply(this,["showing",e]))},afterEnter(e){this.$emit("shown",e),"function"==typeof this.modalComponentWatch&&this.modalComponentWatch.apply(this,["shown",e])},beforeLeave(e){u.data.remove(e,"mvi-modal-beforeEnter-trigger"),u.data.remove(e,"mvi-modal-enter-trigger"),this.$emit("hide",e),"function"==typeof this.modalComponentWatch&&this.modalComponentWatch.apply(this,["hide",e])},leave(e){this.$emit("hidding",e),"function"==typeof this.modalComponentWatch&&this.modalComponentWatch.apply(this,["hidding",e])},afterLeave(e){this.$emit("hidden",e),"function"==typeof this.modalComponentWatch&&this.modalComponentWatch.apply(this,["hidden",e])}}},qe=["innerHTML"],Xe={key:2,ref:"content",class:"mvi-modal-content"},Ke=["innerHTML"],Ze=["textContent"];const Ge=T(Ye,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon"),a=t.resolveComponent("Overlay");return t.openBlock(),t.createBlock(a,{ref:"overlay",modelValue:r.show,"onUpdate:modelValue":i[1]||(i[1]=e=>r.show=e),onShow:r.overlayShow,onHide:r.overlayHide,"use-padding":s.usePadding,"z-index":s.zIndex,closable:s.closable,color:s.overlayColor,timeout:s.timeout,"mount-el":s.mountEl},{default:t.withCtx((()=>[t.createElementVNode("div",{ref:"modal",class:"mvi-modal",style:t.normalizeStyle({zIndex:s.zIndex+10})},[t.createVNode(t.Transition,{name:"mvi-modal-"+s.animation,onBeforeEnter:r.beforeEnter,onEnter:r.enter,onAfterEnter:r.afterEnter,onBeforeLeave:r.beforeLeave,onLeave:r.leave,onAfterLeave:r.afterLeave},{default:t.withCtx((()=>[o.firstShow?t.withDirectives((t.openBlock(),t.createElementBlock("div",t.mergeProps({key:0,class:"mvi-modal-wrapper",ref:"wrapper",style:r.wrapperStyle},e.$attrs),[s.showTimes?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-modal-times",onClick:i[0]||(i[0]=e=>r.show=!1)},[t.createVNode(l,{type:"times"})])):t.createCommentVNode("",!0),e.$slots.title||s.title?(t.openBlock(),t.createElementBlock("div",{key:1,ref:"header",class:t.normalizeClass(["mvi-modal-title",s.ellipsis?"ellipsis":"",s.center?"center":""]),style:t.normalizeStyle(r.headerStyle)},[e.$slots.title?t.renderSlot(e.$slots,"title",{key:0},void 0,!0):s.title?(t.openBlock(),t.createElementBlock("span",{key:1,innerHTML:s.title},null,8,qe)):t.createCommentVNode("",!0)],6)):t.createCommentVNode("",!0),e.$slots.default||s.content?(t.openBlock(),t.createElementBlock("div",Xe,[e.$slots.default?t.renderSlot(e.$slots,"default",{key:0},void 0,!0):s.content?(t.openBlock(),t.createElementBlock("span",{key:1,innerHTML:s.content},null,8,Ke)):t.createCommentVNode("",!0)],512)):t.createCommentVNode("",!0),e.$slots.footer||s.footer?(t.openBlock(),t.createElementBlock("div",{key:3,ref:"footer",class:"mvi-modal-footer",style:t.normalizeStyle({padding:s.__ignorePadding?0:""})},[e.$slots.footer?t.renderSlot(e.$slots,"footer",{key:0},void 0,!0):s.footer?(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(s.footer)},null,8,Ze)):t.createCommentVNode("",!0)],4)):t.createCommentVNode("",!0)],16)),[[t.vShow,o.modalShow]]):t.createCommentVNode("",!0)])),_:3},8,["name","onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])],4)])),_:3},8,["modelValue","onShow","onHide","use-padding","z-index","closable","color","timeout","mount-el"])}],["__scopeId","data-v-d29bc77e"]]);Ge.install=e=>{e.component(Ge.name,Ge)};const Qe={name:"m-dialog",data:()=>({ok:!1,show:!0,focus:!1,value:""}),props:{type:{type:String,default:null},title:{type:String,default:null},message:{default:""},width:{type:String,default:null},zIndex:{type:Number,default:null},animation:{type:String,default:null},radius:{type:String,default:null},overlayColor:{type:String,default:null},closable:{type:Boolean,default:null},input:{type:Object,default:null},usePadding:{type:Boolean,default:null},btnText:{type:[String,Array],default:null},btnColor:{type:[String,Array],default:null},ios:{type:Boolean,default:null},mountEl:{type:String,default:null},timeout:{type:Number,default:null},__remove:{type:Function,default:function(){return function(){}}}},computed:{$$el(){return this.$refs.modal.$$el},cmpTitle(){return"string"==typeof this.title?this.title:"提示"},cmpMessage(){return"string"==typeof this.message?this.message:u.common.isObject(this.message)?JSON.stringify(this.message):String(this.message)},cmpBtnText(){let e=null;return"alert"==this.type?e="string"==typeof this.btnText?this.btnText:"确定":(e=[],this.btnText instanceof Array?("string"==typeof this.btnText[0]?e[0]=this.btnText[0]:e[0]="确定","string"==typeof this.btnText[1]?e[1]=this.btnText[1]:e[1]="取消"):e=["确定","取消"]),e},cmpBtnColor(){let e=null;return"alert"==this.type?e="string"==typeof this.btnColor?this.btnColor:null:(e=[],this.btnColor instanceof Array?("string"==typeof this.btnColor[0]?e[0]=this.btnColor[0]:e[0]=null,"string"==typeof this.btnColor[1]?e[1]=this.btnColor[1]:e[1]=null):e=[null,null]),e},cmpWidth(){return"string"==typeof this.width&&this.width?this.width:"5.6rem"},cmpInput(){let e={placeholder:"",type:"text",autofocus:!0,maxlength:-1,clearable:!0,mode:!1,align:"left",value:""};return u.common.isObject(this.input)&&("string"==typeof this.input.placeholder&&(e.placeholder=this.input.placeholder),"string"==typeof this.input.type&&this.input.type&&(e.type=this.input.type),"boolean"==typeof this.input.autofocus&&(e.autofocus=this.input.autofocus),u.number.isNumber(this.input.maxlength)&&(e.maxlength=this.input.maxlength),"boolean"==typeof this.input.clearable&&(e.clearable=this.input.clearable),"string"==typeof this.input.mode&&(e.mode=this.input.mode),"string"==typeof this.input.align&&(e.align=this.input.align),("string"==typeof this.input.value||u.number.isNumber(this.input.value))&&(e.value=this.input.value.toString())),e},cmpZIndex(){return u.number.isNumber(this.zIndex)?this.zIndex:1e3},cmpUsePadding(){return"boolean"==typeof this.usePadding&&this.usePadding},cmpAnimation(){return"string"==typeof this.animation&&this.animation?this.animation:"narrow"},cmpRadius(){return"string"==typeof this.radius&&this.radius?this.radius:"0.2rem"},cmpOverlayColor(){return"string"==typeof this.overlayColor&&this.overlayColor?this.overlayColor:this.cmpIos?"rgba(0,10,20,.3)":null},cmpIos(){return"boolean"==typeof this.ios&&this.ios},cmpMountEl(){return"string"==typeof this.mountEl&&this.mountEl?this.mountEl:"body"},cmpClosable(){return"boolean"==typeof this.closable&&this.closable},cmpTimeout(){return u.number.isNumber(this.timeout)?this.timeout:200},contentShow(){return"alert"!=this.type&&"confirm"!=this.type||!(!this.cmpMessage||this.cmpIos)},showClear(){return this.focus&&this.value},inputClass(){let e=[];return this.showClear&&this.cmpInput.clearable&&e.push("mvi-dialog-input-padding"),e},inputMode(){let e=!1;return[!1,"none","text","decimal","numeric","tel","search","email","url"].includes(this.cmpInput.mode)&&(e=this.cmpInput.mode),e},inputStyle(){let e={};return["left","right","center"].includes(this.cmpInput.align)&&(e.textAlign=this.cmpInput.align),e}},components:{Icon:$,Modal:Ge},created(){"prompt"==this.type&&this.setDefaultValue()},mounted(){u.event.on(this.$$el,"click.dialog",this.overlayClick)},methods:{overlayClick(e){this.cmpClosable&&e.target==e.currentTarget&&(this.show=!1,this.ok=!1)},setDefaultValue(){let e=this.cmpInput.value;"number"==this.cmpInput.type&&(e=e.replace(/\D/g,"")),this.cmpInput.maxlength>0&&e.length>this.cmpInput.maxlength&&(e=e.substring(0,this.cmpInput.maxlength)),this.value=e},inputFocus(){this.focus=!0},inputBlur(){setTimeout((()=>{this.focus=!1}),100)},inputFun(){let e=this.value;"number"==this.cmpInput.type&&(e=e.replace(/\D/g,"")),this.cmpInput.maxlength>0&&e.length>this.cmpInput.maxlength&&(e=e.substr(0,this.cmpInput.maxlength)),this.value=e},doClear(){this.cmpInput.clearable&&setTimeout((()=>{this.value="",this.$refs.input.focus()}),110)},okFun(){this.show=!1,this.ok=!0},cancelFun(){this.show=!1,this.ok=!1},modalHide(e){"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["hide",this.type,e])},modalHidding(e){"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["hidding",this.type,e])},modalHidden(e){"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["hidden",this.type,e]),"alert"==this.type?this.__remove():"confirm"==this.type?this.__remove(this.ok):"prompt"==this.type&&this.__remove(this.ok,this.value)},modalShow(e){"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["show",this.type,e])},modalShowing(e){"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["showing",this.type,e])},modalShown(e){"prompt"==this.type&&this.cmpInput.autofocus&&this.$refs.input&&this.$refs.input.focus(),"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["shown",this.type,e])}}},Je=["innerHTML"],et=["innerHTML"],tt=["innerHTML"],it=["type","placeholder","maxlength","inputmode"],st={class:"mvi-dialog-footer"},nt=["textContent"],ot=["textContent"];const rt=T(Qe,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon"),a=t.resolveComponent("Modal");return t.openBlock(),t.createBlock(a,{ref:"modal",modelValue:o.show,"onUpdate:modelValue":i[6]||(i[6]=e=>o.show=e),onHide:r.modalHide,onHidding:r.modalHidding,onHidden:r.modalHidden,width:r.cmpWidth,"z-index":r.cmpZIndex,radius:r.cmpRadius,"use-padding":r.cmpUsePadding,animation:r.cmpAnimation,onShow:r.modalShow,onShowing:r.modalShowing,onShown:r.modalShown,timeout:r.cmpTimeout,"overlay-color":r.cmpOverlayColor,"mount-el":r.cmpMountEl,__ignorePadding:""},t.createSlots({footer:t.withCtx((()=>[t.createElementVNode("div",st,["alert"!=s.type?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-dialog-cancel",textContent:t.toDisplayString(r.cmpBtnText[1]),onClick:i[4]||(i[4]=(...e)=>r.cancelFun&&r.cancelFun(...e)),style:t.normalizeStyle({color:r.cmpBtnColor[1]||""})},null,12,nt)):t.createCommentVNode("",!0),t.createElementVNode("div",{class:"mvi-dialog-ok",textContent:t.toDisplayString("alert"==s.type?r.cmpBtnText:r.cmpBtnText[0]),onClick:i[5]||(i[5]=(...e)=>r.okFun&&r.okFun(...e)),style:t.normalizeStyle({color:"alert"==s.type?r.cmpBtnColor||"":r.cmpBtnColor[0]||""})},null,12,ot)])])),_:2},[r.cmpTitle||r.cmpIos&&r.cmpMessage?{name:"title",fn:t.withCtx((()=>[r.cmpTitle?(t.openBlock(),t.createElementBlock("div",{key:0,innerHTML:r.cmpTitle,class:"mvi-dialog-title"},null,8,Je)):t.createCommentVNode("",!0),r.cmpMessage&&r.cmpIos?(t.openBlock(),t.createElementBlock("div",{key:1,innerHTML:r.cmpMessage,class:"mvi-dialog-ios-content"},null,8,et)):t.createCommentVNode("",!0)])),key:"0"}:void 0,r.contentShow?{name:"default",fn:t.withCtx((()=>[!r.cmpIos&&r.cmpMessage?(t.openBlock(),t.createElementBlock("div",{key:0,innerHTML:r.cmpMessage,class:"mvi-dialog-content"},null,8,tt)):t.createCommentVNode("",!0),"prompt"==s.type?(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(["mvi-dialog-input",!r.cmpIos&&r.cmpMessage?"mvi-dialog-input-mt":""])},[t.withDirectives(t.createElementVNode("input",{ref:"input",type:"number"==r.cmpInput.type?"text":r.cmpInput.type,placeholder:r.cmpInput.placeholder,maxlength:r.cmpInput.maxlength,class:t.normalizeClass(r.inputClass),style:t.normalizeStyle(r.inputStyle),"onUpdate:modelValue":i[0]||(i[0]=e=>o.value=e),onInput:i[1]||(i[1]=(...e)=>r.inputFun&&r.inputFun(...e)),onFocus:i[2]||(i[2]=(...e)=>r.inputFocus&&r.inputFocus(...e)),onBlur:i[3]||(i[3]=(...e)=>r.inputBlur&&r.inputBlur(...e)),inputmode:r.inputMode},null,46,it),[[t.vModelDynamic,o.value,void 0,{trim:!0}]]),r.cmpInput.clearable?t.withDirectives((t.openBlock(),t.createBlock(l,{key:0,ref:"icon",type:"times-o",class:"mvi-dialog-times",onClick:r.doClear},null,8,["onClick"])),[[t.vShow,r.showClear]]):t.createCommentVNode("",!0)],2)):t.createCommentVNode("",!0)])),key:"1"}:void 0]),1032,["modelValue","onHide","onHidding","onHidden","width","z-index","radius","use-padding","animation","onShow","onShowing","onShown","timeout","overlay-color","mount-el"])}],["__scopeId","data-v-b9a33bd4"]]),lt={name:"m-dialog-pc",data:()=>({ok:!1,show:!0,focus:!1,value:""}),props:{type:{type:String,default:null},title:{type:String,default:null},message:{default:""},width:{type:String,default:null},zIndex:{type:Number,default:null},animation:{type:String,default:null},radius:{type:String,default:null},overlayColor:{type:String,default:null},closable:{type:Boolean,default:null},input:{type:Object,default:null},center:{type:Boolean,default:!1},usePadding:{type:Boolean,default:null},btns:{type:Object,default:null},showTimes:{type:Boolean,default:null},mountEl:{type:String,default:null},timeout:{type:Number,default:null},__remove:{type:Function,default:function(){return function(){}}}},computed:{$$el(){return this.$refs.modal.$$el},cmpShowTimes(){return"boolean"!=typeof this.showTimes||this.showTimes},cmpTitle(){return"string"==typeof this.title?this.title:"提示"},cmpMessage(){return"string"==typeof this.message?this.message:u.common.isObject(this.message)?JSON.stringify(this.message):String(this.message)},cmpBtns(){let e={ok:{type:"primary",color:null,subColor:null,plain:!1,text:"确定",size:"medium",round:!1,square:!1,disabled:!1,loading:!1,loadText:"loading...",loadIcon:{type:"load-e",spin:!0}},cancel:{type:"default",color:null,subColor:null,plain:!1,text:"取消",size:"medium",round:!1,square:!1,disabled:!1,loading:!1,loadText:"loading...",loadIcon:{type:"load-e",spin:!0}}};return u.common.isObject(this.btns)&&(u.common.isObject(this.btns.ok)&&("string"==typeof this.btns.ok.type&&(e.ok.type=this.btns.ok.type),"string"==typeof this.btns.ok.color&&(e.ok.color=this.btns.ok.color),"string"==typeof this.btns.ok.subColor&&(e.ok.subColor=this.btns.ok.subColor),"boolean"==typeof this.btns.ok.plain&&(e.ok.plain=this.btns.ok.plain),"string"==typeof this.btns.ok.text&&(e.ok.text=this.btns.ok.text),"string"==typeof this.btns.ok.size&&(e.ok.size=this.btns.ok.size),"boolean"==typeof this.btns.ok.round&&(e.ok.round=this.btns.ok.round),"boolean"==typeof this.btns.ok.square&&(e.ok.square=this.btns.ok.square),"boolean"==typeof this.btns.ok.disabled&&(e.ok.disabled=this.btns.ok.disabled),"boolean"==typeof this.btns.ok.loading&&(e.ok.loading=this.btns.ok.loading),"string"==typeof this.btns.ok.loadText&&(e.ok.loadText=this.btns.ok.loadText),("string"==typeof this.btns.ok.loadIcon||u.common.isObject(this.btns.ok.loadIcon))&&(e.ok.loadIcon=this.btns.ok.loadIcon)),u.common.isObject(this.btns.cancel)&&("string"==typeof this.btns.cancel.type&&(e.cancel.type=this.btns.cancel.type),"string"==typeof this.btns.cancel.color&&(e.cancel.color=this.btns.cancel.color),"string"==typeof this.btns.cancel.subColor&&(e.cancel.subColor=this.btns.cancel.subColor),"boolean"==typeof this.btns.cancel.plain&&(e.cancel.plain=this.btns.cancel.plain),"string"==typeof this.btns.cancel.text&&(e.cancel.text=this.btns.cancel.text),"string"==typeof this.btns.cancel.size&&(e.cancel.size=this.btns.cancel.size),"boolean"==typeof this.btns.cancel.round&&(e.cancel.round=this.btns.cancel.round),"boolean"==typeof this.btns.cancel.square&&(e.cancel.square=this.btns.cancel.square),"boolean"==typeof this.btns.cancel.disabled&&(e.cancel.disabled=this.btns.cancel.disabled),"boolean"==typeof this.btns.cancel.loading&&(e.cancel.loading=this.btns.cancel.loading),"string"==typeof this.btns.cancel.loadText&&(e.cancel.loadText=this.btns.cancel.loadText),("string"==typeof this.btns.cancel.loadIcon||u.common.isObject(this.btns.cancel.loadIcon))&&(e.cancel.loadIcon=this.btns.cancel.loadIcon))),e},cmpWidth(){return"string"==typeof this.width&&this.width?this.width:"7.2rem"},cmpInput(){let e={placeholder:"",type:"text",autofocus:!0,maxlength:-1,clearable:!1,align:"left",value:""};return u.common.isObject(this.input)&&("string"==typeof this.input.placeholder&&(e.placeholder=this.input.placeholder),"string"==typeof this.input.type&&this.input.type&&(e.type=this.input.type),"boolean"==typeof this.input.autofocus&&(e.autofocus=this.input.autofocus),u.number.isNumber(this.input.maxlength)&&(e.maxlength=this.input.maxlength),"boolean"==typeof this.input.clearable&&(e.clearable=this.input.clearable),"string"==typeof this.input.align&&(e.align=this.input.align),("string"==typeof this.input.value||u.number.isNumber(this.input.value))&&(e.value=this.input.value.toString())),e},cmpZIndex(){return u.number.isNumber(this.zIndex)?this.zIndex:1e3},cmpUsePadding(){return"boolean"==typeof this.usePadding&&this.usePadding},cmpAnimation(){return"string"==typeof this.animation&&this.animation?this.animation:"translate-top"},cmpRadius(){return"string"==typeof this.radius&&this.radius?this.radius:"0.12rem"},cmpOverlayColor(){return"string"==typeof this.overlayColor&&this.overlayColor?this.overlayColor:null},cmpClosable(){return"boolean"==typeof this.closable&&this.closable},cmpCenter(){return"boolean"==typeof this.center&&this.center},cmpMountEl(){return"string"==typeof this.mountEl&&this.mountEl?this.mountEl:"body"},cmpTimeout(){return u.number.isNumber(this.timeout)?this.timeout:200},contentShow(){return"Alert"!=this.type&&"Confirm"!=this.type||!!this.cmpMessage},showClear(){return this.focus&&this.value},inputClass(){let e=[];return this.showClear&&this.cmpInput.clearable&&e.push("mvi-dialog-input-padding"),e},inputStyle(){let e={};return["left","right","center"].includes(this.cmpInput.align)&&(e.textAlign=this.cmpInput.align),e}},components:{Icon:$,Modal:Ge,Button:_},created(){"Prompt"==this.type&&this.setDefaultValue()},mounted(){u.event.on(this.$$el,"click.dialog",this.overlayClick)},methods:{overlayClick(e){this.cmpClosable&&e.target==e.currentTarget&&(this.show=!1,this.ok=!1)},setDefaultValue(){let e=this.cmpInput.value;"number"==this.cmpInput.type&&(e=e.replace(/\D/g,"")),this.cmpInput.maxlength>0&&e.length>this.cmpInput.maxlength&&(e=e.substring(0,this.cmpInput.maxlength)),this.value=e},inputFocus(){this.focus=!0},inputBlur(){setTimeout((()=>{this.focus=!1}),100)},inputFun(){let e=this.value;"number"==this.cmpInput.type&&(e=e.replace(/\D/g,"")),this.cmpInput.maxlength>0&&e.length>this.cmpInput.maxlength&&(e=e.substring(0,this.cmpInput.maxlength)),this.value=e},doClear(){this.cmpInput.clearable&&setTimeout((()=>{this.value="",this.$refs.input.focus()}),110)},okFun(){this.show=!1,this.ok=!0},cancelFun(){this.show=!1,this.ok=!1},modalHide(e){"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["hide",this.type,e])},modalHidding(e){"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["hidding",this.type,e])},modalHidden(e){"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["hidden",this.type,e]),"Alert"==this.type?this.__remove():"Confirm"==this.type?this.__remove(this.ok):"Prompt"==this.type&&this.__remove(this.ok,this.value)},modalShow(e){"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["show",this.type,e])},modalShowing(e){"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["showing",this.type,e])},modalShown(e){"Prompt"==this.type&&this.cmpInput.autofocus&&this.$refs.input&&this.$refs.input.focus(),"function"==typeof this.dialogComponentWatch&&this.dialogComponentWatch.apply(this,["shown",this.type,e])}}},at=["innerHTML"],ct=["innerHTML"],ht={key:1,class:"mvi-dialog-input"},dt=["type","placeholder","maxlength"];const mt=T(lt,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon"),a=t.resolveComponent("Button"),c=t.resolveComponent("Modal");return t.openBlock(),t.createBlock(c,{ref:"modal",modelValue:o.show,"onUpdate:modelValue":i[5]||(i[5]=e=>o.show=e),"show-times":r.cmpShowTimes,onHide:r.modalHide,onHidding:r.modalHidding,onHidden:r.modalHidden,width:r.cmpWidth,"z-index":r.cmpZIndex,radius:r.cmpRadius,"use-padding":r.cmpUsePadding,animation:r.cmpAnimation,onShow:r.modalShow,onShowing:r.modalShowing,onShown:r.modalShown,timeout:r.cmpTimeout,"overlay-color":r.cmpOverlayColor,"mount-el":r.cmpMountEl,center:r.cmpCenter},t.createSlots({_:2},[r.cmpTitle?{name:"title",fn:t.withCtx((()=>[t.createElementVNode("div",{innerHTML:r.cmpTitle,class:"mvi-dialog-title"},null,8,at)])),key:"0"}:void 0,r.contentShow?{name:"default",fn:t.withCtx((()=>[r.cmpMessage?(t.openBlock(),t.createElementBlock("div",{key:0,innerHTML:r.cmpMessage,class:t.normalizeClass(["mvi-dialog-content",s.center?"center":""])},null,10,ct)):t.createCommentVNode("",!0),"Prompt"==s.type?(t.openBlock(),t.createElementBlock("div",ht,[t.withDirectives(t.createElementVNode("input",{ref:"input",type:"number"==r.cmpInput.type?"text":r.cmpInput.type,placeholder:r.cmpInput.placeholder,maxlength:r.cmpInput.maxlength,class:t.normalizeClass(r.inputClass),style:t.normalizeStyle(r.inputStyle),"onUpdate:modelValue":i[0]||(i[0]=e=>o.value=e),onInput:i[1]||(i[1]=(...e)=>r.inputFun&&r.inputFun(...e)),onFocus:i[2]||(i[2]=(...e)=>r.inputFocus&&r.inputFocus(...e)),onBlur:i[3]||(i[3]=(...e)=>r.inputBlur&&r.inputBlur(...e)),onKeyup:i[4]||(i[4]=t.withKeys(((...e)=>r.okFun&&r.okFun(...e)),["enter"]))},null,46,dt),[[t.vModelDynamic,o.value,void 0,{trim:!0}]]),r.cmpInput.clearable?t.withDirectives((t.openBlock(),t.createBlock(l,{key:0,ref:"icon",type:"times-o",class:"mvi-dialog-times",onClick:r.doClear},null,8,["onClick"])),[[t.vShow,r.showClear]]):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),t.createElementVNode("div",{class:t.normalizeClass(["mvi-dialog-footer",s.center?"center":""])},["Alert"!=s.type?(t.openBlock(),t.createBlock(a,{key:0,type:r.cmpBtns.cancel.type,color:r.cmpBtns.cancel.color,"sub-color":r.cmpBtns.cancel.subColor,plain:r.cmpBtns.cancel.plain,class:"mvi-dialog-cancel",onClick:r.cancelFun,size:r.cmpBtns.cancel.size,round:r.cmpBtns.cancel.round,square:r.cmpBtns.cancel.square,loading:r.cmpBtns.cancel.loading,"load-text":r.cmpBtns.cancel.loadText,"load-icon":r.cmpBtns.cancel.loadIcon,disabled:r.cmpBtns.cancel.disabled},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(r.cmpBtns.cancel.text),1)])),_:1},8,["type","color","sub-color","plain","onClick","size","round","square","loading","load-text","load-icon","disabled"])):t.createCommentVNode("",!0),t.createVNode(a,{type:r.cmpBtns.ok.type,color:r.cmpBtns.ok.color,"sub-color":r.cmpBtns.ok.subColor,plain:r.cmpBtns.ok.plain,onClick:r.okFun,size:r.cmpBtns.ok.size,round:r.cmpBtns.ok.round,square:r.cmpBtns.ok.square,loading:r.cmpBtns.ok.loading,"load-text":r.cmpBtns.ok.loadText,"load-icon":r.cmpBtns.ok.loadIcon,disabled:r.cmpBtns.ok.disabled},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(r.cmpBtns.ok.text),1)])),_:1},8,["type","color","sub-color","plain","onClick","size","round","square","loading","load-text","load-icon","disabled"])],2)])),key:"1"}:void 0]),1032,["modelValue","show-times","onHide","onHidding","onHidden","width","z-index","radius","use-padding","animation","onShow","onShowing","onShown","timeout","overlay-color","mount-el","center"])}],["__scopeId","data-v-7537c68e"]]),ut={initParams:(e,t)=>{let i={};return u.common.isObject(t)?(i.title=t.title,i.message=t.message,i.width=t.width,i.zIndex=t.zIndex,i.animation=t.animation,i.radius=t.radius,i.overlayColor=t.overlayColor,i.closable=t.closable,i.input=t.input,i.usePadding=t.usePadding,i.mountEl=t.mountEl,i.timeout=t.timeout,"alert"==e||"confirm"==e||"prompt"==e?(i.btnText=t.btnText,i.btnColor=t.btnColor,i.ios=t.ios):"Alert"!=e&&"Confirm"!=e&&"Prompt"!=e||(i.center=t.center,i.btns=t.btns,i.showTimes=t.showTimes)):i.message=t,i.type=e,i},alert:function(e){return new Promise((i=>{let s=ut.initParams("alert",e),n=u.element.string2dom("<div></div>");document.body.appendChild(n);const o=t.createApp(rt,{...s,__remove:()=>{o.unmount(),n.remove(),i()}});this&&this.config&&this.config.globalProperties&&"function"==typeof this.config.globalProperties.dialogComponentWatch&&(o.config.globalProperties.dialogComponentWatch=this.config.globalProperties.dialogComponentWatch),o.mount(n)}))},confirm:function(e){return new Promise((i=>{let s=ut.initParams("confirm",e),n=u.element.string2dom("<div></div>");document.body.appendChild(n);const o=t.createApp(rt,{...s,__remove:e=>{o.unmount(),n.remove(),i(e)}});this&&this.config&&this.config.globalProperties&&"function"==typeof this.config.globalProperties.dialogComponentWatch&&(o.config.globalProperties.dialogComponentWatch=this.config.globalProperties.dialogComponentWatch),o.mount(n)}))},prompt:function(e){return new Promise((i=>{let s=ut.initParams("prompt",e),n=u.element.string2dom("<div></div>");document.body.appendChild(n);const o=t.createApp(rt,{...s,__remove:(e,t)=>{o.unmount(),n.remove(),i({ok:e,value:t})}});this&&this.config&&this.config.globalProperties&&"function"==typeof this.config.globalProperties.dialogComponentWatch&&(o.config.globalProperties.dialogComponentWatch=this.config.globalProperties.dialogComponentWatch),o.mount(n)}))},Alert:function(e){return new Promise((i=>{let s=ut.initParams("Alert",e),n=u.element.string2dom("<div></div>");document.body.appendChild(n);const o=t.createApp(mt,{...s,__remove:()=>{o.unmount(),n.remove(),i()}});this&&this.config&&this.config.globalProperties&&"function"==typeof this.config.globalProperties.dialogComponentWatch&&(o.config.globalProperties.dialogComponentWatch=this.config.globalProperties.dialogComponentWatch),o.mount(n)}))},Confirm:function(e){return new Promise((i=>{let s=ut.initParams("Confirm",e),n=u.element.string2dom("<div></div>");document.body.appendChild(n);const o=t.createApp(mt,{...s,__remove:e=>{o.unmount(),n.remove(),i(e)}});this&&this.config&&this.config.globalProperties&&"function"==typeof this.config.globalProperties.dialogComponentWatch&&(o.config.globalProperties.dialogComponentWatch=this.config.globalProperties.dialogComponentWatch),o.mount(n)}))},Prompt:function(e){return new Promise((i=>{let s=ut.initParams("Prompt",e),n=u.element.string2dom("<div></div>");document.body.appendChild(n);const o=t.createApp(mt,{...s,__remove:(e,t)=>{o.unmount(),n.remove(),i({ok:e,value:t})}});this&&this.config&&this.config.globalProperties&&"function"==typeof this.config.globalProperties.dialogComponentWatch&&(o.config.globalProperties.dialogComponentWatch=this.config.globalProperties.dialogComponentWatch),o.mount(n)}))},install:e=>{e.config.globalProperties.$alert=ut.alert.bind(e),e.provide("$alert",ut.alert.bind(e)),e.config.globalProperties.$confirm=ut.confirm.bind(e),e.provide("$confirm",ut.confirm.bind(e)),e.config.globalProperties.$prompt=ut.prompt.bind(e),e.provide("$prompt",ut.prompt.bind(e)),e.config.globalProperties.$Alert=ut.Alert.bind(e),e.provide("$Alert",ut.Alert.bind(e)),e.config.globalProperties.$Confirm=ut.Confirm.bind(e),e.provide("$Confirm",ut.Confirm.bind(e)),e.config.globalProperties.$Prompt=ut.Prompt.bind(e),e.provide("$Prompt",ut.Prompt.bind(e))}},pt={name:"m-toast",data:()=>({show:!0,timer:null}),inheritAttrs:!1,props:{type:{type:String,default:null},message:{default:null},timeout:{type:Number,default:null},overlayColor:{type:String,default:null},background:{type:String,default:null},color:{type:String,default:null},zIndex:{type:Number,default:null},usePadding:{type:Boolean,default:null},icon:{type:[String,Object],default:null},mountEl:{type:String,default:null},shadow:{type:Boolean,default:null},__remove:{type:Function,default:function(){return function(){}}},__init:{type:Function,default:function(){return function(){}}}},computed:{$$el(){return this.$refs.overlay.$$el},cmpUsePadding(){return"boolean"==typeof this.usePadding&&this.usePadding},cmpType(){return["success","error","loading","info"].includes(this.type)?this.type:"info"},defaultIconType(){return"success"==this.cmpType?"success":"error"==this.cmpType?"error-o":"info"==this.cmpType?"info-o":"loading"==this.cmpType?null:void 0},cmpIcon(){let e={type:this.defaultIconType,url:null,spin:!1,size:"0.72rem",color:null};return"string"==typeof this.icon&&this.icon?e.type=this.icon:u.common.isObject(this.icon)&&("string"==typeof this.icon.type&&this.icon.type&&(e.type=this.icon.type),"string"==typeof this.icon.url&&this.icon.url&&(e.url=this.icon.url),"boolean"==typeof this.icon.spin&&(e.spin=this.icon.spin),"string"==typeof this.icon.size&&this.icon.size&&(e.size=this.icon.size),"string"==typeof this.icon.color&&this.icon.color&&(e.color=this.icon.color)),e},cmpMessage(){return"string"==typeof this.message&&this.message?this.message:u.common.isObject(this.message)?JSON.stringify(this.message):null==this.message||null==this.message?"":String(this.message)},cmpTimeout(){return u.number.isNumber(this.timeout)&&this.timeout>0?this.timeout:0},cmpZIndex(){return u.number.isNumber(this.zIndex)?this.zIndex:1100},cmpOverlayColor(){return"string"==typeof this.overlayColor&&this.overlayColor?this.overlayColor:"rgba(0, 10, 20, .05)"},cmpBackground(){return"string"==typeof this.background&&this.background?this.background:null},cmpColor(){return"string"==typeof this.color&&this.color?this.color:"#fff"},cmpMountEl(){return"string"==typeof this.mountEl&&this.mountEl?this.mountEl:"body"},cmpShadow(){return"boolean"!=typeof this.shadow||this.shadow},toastStyle(){let e={zIndex:this.cmpZIndex};return this.cmpBackground&&(e.backgroundColor=this.cmpBackground),this.cmpColor&&(e.color=this.cmpColor),e}},components:{Icon:$,Loading:xe,Overlay:le},mounted(){this.__init(this)},methods:{toastShown(){this.cmpTimeout>0&&(this.timer=setTimeout((()=>{this.show=!1}),this.cmpTimeout))},toastHidden(){this.clearTimer(),this.__remove()},clearTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}}},ft={class:"mvi-toast-icon"},gt=["innerHTML"];const yt=T(pt,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Loading"),a=t.resolveComponent("Icon"),c=t.resolveComponent("Overlay");return t.openBlock(),t.createBlock(c,{ref:"overlay",color:r.cmpOverlayColor,onHidden:r.toastHidden,modelValue:o.show,"onUpdate:modelValue":i[0]||(i[0]=e=>o.show=e),"use-padding":r.cmpUsePadding,zIndex:r.cmpZIndex,fade:"","mount-el":r.cmpMountEl,onShown:r.toastShown},{default:t.withCtx((()=>[t.createElementVNode("div",t.mergeProps({class:["mvi-toast",r.cmpMessage?"":"iconless",r.cmpShadow?"shadow":""],style:r.toastStyle},e.$attrs),[t.createElementVNode("div",ft,["loading"!=r.cmpType||r.cmpIcon.type||r.cmpIcon.url?(t.openBlock(),t.createBlock(a,{key:1,type:r.cmpIcon.type,url:r.cmpIcon.url,spin:r.cmpIcon.spin,size:r.cmpIcon.size,color:r.cmpIcon.color},null,8,["type","url","spin","size","color"])):(t.openBlock(),t.createBlock(l,{key:0,color:r.cmpColor,size:r.cmpIcon.size},null,8,["color","size"]))]),r.cmpMessage?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-toast-message",innerHTML:r.cmpMessage},null,8,gt)):t.createCommentVNode("",!0)],16)])),_:1},8,["color","onHidden","modelValue","use-padding","zIndex","mount-el","onShown"])}],["__scopeId","data-v-ff635be3"]]),bt={initParams:e=>{let t={};return u.common.isObject(e)?(t.type=e.type,t.message=e.message,t.timeout=e.timeout,t.overlayColor=e.overlayColor,t.background=e.background,t.color=e.color,t.zIndex=e.zIndex,t.usePadding=e.usePadding,t.icon=e.icon,t.mountEl=e.mountEl,t.shadow=e.shadow):(t.message=e,t.timeout=1500),t},showToast:e=>new Promise(((i,s)=>{bt.$el&&bt.$instance&&(bt.$instance.unmount(),bt.$el.remove());let n=bt.initParams(e),o=u.element.string2dom("<div></div>");document.body.appendChild(o);const r=t.createApp(yt,{...n,__init:e=>{bt.$vm=e},__remove:()=>{r.unmount(),o.remove(),i()}});r.mount(o),bt.$el=o,bt.$instance=r})),hideToast:()=>{bt.$vm&&(bt.$vm.show=!1)},install:e=>{e.config.globalProperties.$showToast=bt.showToast,e.provide("$showToast",bt.showToast),e.config.globalProperties.$hideToast=bt.hideToast,e.provide("$hideToast",bt.hideToast)}},vt=["textContent"];const wt=T({name:"m-msgbox",data:()=>({show:!1}),inheritAttrs:!1,props:{message:{default:null},animation:{type:String,default:null},timeout:{type:Number,default:null},zIndex:{type:Number,default:null},background:{type:String,default:null},color:{type:String,default:null},__remove:{type:Function,default:function(){return function(){}}}},computed:{cpmMessage(){return"string"==typeof this.message?this.message:u.common.isObject(this.message)?JSON.stringify(this.message):String(this.message)},cmpAnimation(){return"string"==typeof this.animation&&this.animation?this.animation:"fade"},cmpTimeout(){return u.number.isNumber(this.timeout)?this.timeout:1500},cmpZIndex(){return u.number.isNumber(this.zIndex)?this.zIndex:1100},cmpBackground(){return"string"==typeof this.background&&this.background?this.background:null},cmpColor(){return"string"==typeof this.color&&this.color?this.color:null},msgboxStyle(){let e={zIndex:this.cmpZIndex};return this.cmpBackground&&(e.backgroundColor=this.cmpBackground),this.cmpColor&&(e.color=this.cmpColor),e},msgboxClass(){let e=["mvi-msgbox"];return"translate"==this.cmpAnimation&&e.push("mvi-msgbox-translate"),e}},mounted(){this.show=!0},methods:{afterEnter(){this.cmpTimeout>0&&setTimeout((()=>{this.show=!1}),this.cmpTimeout)},afterLeave(){this.__remove()}}},[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[t.createVNode(t.Transition,{name:"mvi-msgbox-"+r.cmpAnimation,onAfterEnter:r.afterEnter,onAfterLeave:r.afterLeave},{default:t.withCtx((()=>[t.withDirectives(t.createElementVNode("div",t.mergeProps(e.$attrs,{class:r.msgboxClass,textContent:t.toDisplayString(r.cpmMessage),style:r.msgboxStyle}),null,16,vt),[[t.vShow,o.show]])])),_:1},8,["name","onAfterEnter","onAfterLeave"])])}],["__scopeId","data-v-4d410ae1"]]),kt={initParams:e=>{let t={};return u.common.isObject(e)?(t.message=e.message,t.timeout=e.timeout,t.animation=e.animation,t.zIndex=e.zIndex,t.color=e.color,t.background=e.background):t.message=e,t},msgbox:e=>new Promise((i=>{let s=kt.initParams(e),n=u.element.string2dom("<div></div>");document.body.appendChild(n);const o=t.createApp(wt,{...s,__remove:()=>{o.unmount(),n.remove(),i()}});o.mount(n)})),install:e=>{e.config.globalProperties.$msgbox=kt.msgbox,e.provide("$msgbox",kt.msgbox)}},Et={name:"m-number-keyboard",data:()=>({firstShow:!1,keyboardShow:!1,numbers:["1","2","3","4","5","6","7","8","9","X",".","0"]}),emits:["update:modelValue","update:show","input","delete","complete","show","showing","shown","hide","hidding","hidden"],inheritAttrs:!1,props:{showDecimal:{type:Boolean,default:!0},showDelete:{type:Boolean,default:!0},showComplete:{type:Boolean,default:!0},show:{type:Boolean,default:!1},modelValue:{type:[String,Number],default:""},zIndex:{type:Number,default:850},timeout:{type:Number,default:200},closable:{type:Boolean,default:!1},maxlength:{type:Number,default:-1},deleteText:{type:String,default:"删除"},completeText:{type:String,default:"完成"},promiseEmpty:{type:Boolean,default:!1},active:{type:Boolean,default:!0},mountEl:{type:String,default:null},overlayColor:{type:String,default:"rgba(0,10,20,0.2)"},usePadding:{type:Boolean,default:!1},calibration:{type:Boolean,default:!1},showX:{type:Boolean,default:!1},random:{type:Boolean,default:!1},title:{type:String,default:null},border:{type:Boolean,default:!1}},computed:{$$el(){return this.$refs.overlay.$$el},cmpShow:{set(e){this.$emit("update:show",e)},get(){return this.show}},cmpValue:{set(e){this.$emit("update:modelValue",e)},get(){return u.number.isNumber(this.modelValue)?this.modelValue.toString():this.modelValue}},boardStyle(){return{transition:"all "+this.timeout+"ms",zIndex:this.zIndex+10}},deleteDisabeld(){return""===this.modelValue},completeDisabled(){return""===this.modelValue},leftNumberClass(){return(e,t)=>{let i=["mvi-number-keyboard-left-number"];return t==this.cpmNumbers.length-1&&(this.showX||this.showDecimal?i.push("half"):i.push("full")),this.border&&i.push("border"),i}},leftNumberElClass(){return()=>{let e=["mvi-number-keyboard-left-number-el"];return this.active&&e.push("active"),e}},deleteBtnClass(){let e=["mvi-number-keyboard-delete"];return this.border&&e.push("border"),e},deleteBtnElClass(){let e=["mvi-number-keyboard-delete-el"];return this.active&&!this.deleteDisabeld&&e.push("active"),e},completeBtnClass(){let e=["mvi-number-keyboard-complete"];return this.border&&e.push("border"),e},completeBtnElClass(){let e=["mvi-number-keyboard-complete-el"];return!this.active||!this.promiseEmpty&&this.completeDisabled||e.push("active"),e},showKeyBoard(){return e=>"X"==e?this.showX:"."!=e||this.showDecimal&&!this.showX},cpmNumbers(){if(this.show){let e=this.numbers.filter((e=>this.showKeyBoard(e)));if(this.random){let t=[],i=e.length;for(let e=0;e<i;e++)t.push(this.getRandomNumber(t));return t}return e}return this.numbers}},components:{Overlay:le},methods:{getRandomNumber(e){let t=this.numbers.filter((e=>this.showKeyBoard(e))),i=Math.floor(Math.random()*t.length);return e.includes(t[i])?this.getRandomNumber(e):t[i]},overlayShow(){this.firstShow||(this.firstShow=!0),this.keyboardShow=!0},overlayHide(){this.keyboardShow=!1},numberClick(e){this.cmpValue.length>=this.maxlength&&this.maxlength>0||(this.cmpValue+=e,this.$emit("input",e))},deleteClick(){if(this.deleteDisabeld)return;let e=u.string.delete(this.cmpValue,this.cmpValue.length-1,1);this.cmpValue=e,this.$emit("delete",e)},completeClick(){this.completeDisabled&&!this.promiseEmpty||(this.calibration&&(this.cmpValue=parseFloat(this.cmpValue)||""),this.$emit("complete",this.cmpValue),this.cmpShow=!1)},beforeEnter(e){u.data.get(e,"mvi-keyboard-beforeEnter-trigger")||(u.data.set(e,"mvi-keyboard-beforeEnter-trigger",!0),this.$emit("show",e),"function"==typeof this.keyboardComponentWatch&&this.keyboardComponentWatch.apply(this,["show",e]))},enter(e){u.data.get(e,"mvi-keyboard-enter-trigger")||(u.data.set(e,"mvi-keyboard-enter-trigger",!0),this.$emit("showing",e),"function"==typeof this.keyboardComponentWatch&&this.keyboardComponentWatch.apply(this,["showing",e]))},afterEnter(e){this.$emit("shown",e),"function"==typeof this.keyboardComponentWatch&&this.keyboardComponentWatch.apply(this,["shown",e])},beforeLeave(e){u.data.remove(e,"mvi-keyboard-beforeEnter-trigger"),u.data.remove(e,"mvi-keyboard-enter-trigger"),this.$emit("hide",e),"function"==typeof this.keyboardComponentWatch&&this.keyboardComponentWatch.apply(this,["hide",e])},leave(e){this.$emit("hidding",e),"function"==typeof this.keyboardComponentWatch&&this.keyboardComponentWatch.apply(this,["hidding",e])},afterLeave(e){this.$emit("hidden",e),"function"==typeof this.keyboardComponentWatch&&this.keyboardComponentWatch.apply(this,["hidden",e])}}},xt={key:0,class:"mvi-number-keyboard-title"},Ct={key:1},St={class:"mvi-number-keyboard-left"},Tt=["onClick"],$t={key:0,class:"mvi-number-keyboard-right"},It=["disabled"],Bt=["textContent"],_t=["disabled"],Nt=["textContent"];const Pt=T(Et,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Overlay");return t.openBlock(),t.createBlock(l,{ref:"overlay",modelValue:r.cmpShow,"onUpdate:modelValue":i[2]||(i[2]=e=>r.cmpShow=e),onShow:r.overlayShow,onHide:r.overlayHide,"z-index":s.zIndex,color:s.overlayColor,closable:s.closable,timeout:s.timeout,"mount-el":s.mountEl,"use-padding":s.usePadding},{default:t.withCtx((()=>[t.createVNode(t.Transition,{name:"mvi-keyboard",onBeforeEnter:r.beforeEnter,onAfterEnter:r.afterEnter,onBeforeLeave:r.beforeLeave,onAfterLeave:r.afterLeave,onLeave:r.leave,onEnter:r.enter},{default:t.withCtx((()=>[o.firstShow?t.withDirectives((t.openBlock(),t.createElementBlock("div",t.mergeProps({key:0,ref:"keyboard",class:"mvi-number-keyboard",style:r.boardStyle},e.$attrs),[s.border||!s.title&&!e.$slots.title?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",xt,[e.$slots.title?t.renderSlot(e.$slots,"default",{key:0},void 0,!0):(t.openBlock(),t.createElementBlock("span",Ct,t.toDisplayString(s.title),1))])),t.createElementVNode("div",{class:t.normalizeClass(["mvi-number-keyboard-wrapper",s.border?"":"border"])},[t.createElementVNode("div",St,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.cpmNumbers,((e,i)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(r.leftNumberClass(e,i))},[t.createElementVNode("div",{onClick:t=>r.numberClick(e),class:t.normalizeClass(r.leftNumberElClass(e,i))},t.toDisplayString(e),11,Tt)],2)))),256))]),s.showComplete||s.showDelete?(t.openBlock(),t.createElementBlock("div",$t,[s.showDelete?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(r.deleteBtnClass)},[t.createElementVNode("div",{disabled:r.deleteDisabeld||null,class:t.normalizeClass(r.deleteBtnElClass),onClick:i[0]||(i[0]=(...e)=>r.deleteClick&&r.deleteClick(...e))},[e.$slots.delete?t.renderSlot(e.$slots,"delete",{key:0},void 0,!0):(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(s.deleteText)},null,8,Bt))],10,It)],2)):t.createCommentVNode("",!0),s.showComplete?(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(r.completeBtnClass)},[t.createElementVNode("div",{disabled:s.promiseEmpty?null:r.completeDisabled||null,class:t.normalizeClass(r.completeBtnElClass),onClick:i[1]||(i[1]=(...e)=>r.completeClick&&r.completeClick(...e))},[e.$slots.complete?t.renderSlot(e.$slots,"complete",{key:0},void 0,!0):t.createCommentVNode("",!0),t.createElementVNode("span",{textContent:t.toDisplayString(s.completeText)},null,8,Nt)],10,_t)],2)):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0)],2)],16)),[[t.vShow,o.keyboardShow]]):t.createCommentVNode("",!0)])),_:3},8,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave","onLeave","onEnter"])])),_:3},8,["modelValue","onShow","onHide","z-index","color","closable","timeout","mount-el","use-padding"])}],["__scopeId","data-v-96ebe1e8"]]);Pt.install=e=>{e.component(Pt.name,Pt)};const zt={name:"m-search",emits:["update:modelValue","search","cancel","left-click","right-click","focus","blur","input","clear"],data:()=>({focus:!1}),props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text",validator:e=>["text","password","number","tel","textarea"].includes(e)},placeholder:{type:String,default:""},label:{type:String,default:null},round:{type:Boolean,default:!1},maxlength:{type:Number,default:-1},autofocus:{type:Boolean,default:!1},showCancel:{type:Boolean,default:!1},cancelText:{type:String,default:"取消"},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},align:{type:String,default:"left",validator:e=>["left","center","right"].includes(e)},leftIcon:{type:[String,Object],default:null},rightIcon:{type:[String,Object],default:null},clearable:{type:Boolean,default:!1},inputMode:{type:[String,Boolean],default:!1,validator:e=>[!1,"none","text","decimal","numeric","tel","search","email","url"].includes(e)}},computed:{parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},showClear(){return!this.disabled&&!this.readonly&&(!!this.focus&&""!==this.realValue)},cmpType(){return"number"==this.type?"text":this.type},cmpInputMode(){let e=!1;return"string"==typeof this.inputMode&&(e=this.inputMode),e},inputStyle(){let e={};return this.align&&(e.textAlign=this.align),(this.parseIcon(this.leftIcon).type||this.parseIcon(this.leftIcon).url)&&(e.paddingLeft=0),(this.clearable&&this.showClear||this.parseIcon(this.rightIcon).type||this.parseIcon(this.rightIcon).url)&&(e.paddingRight=0),e},realValue:{set(e){this.modelValue!==e&&this.$emit("update:modelValue",e)},get(){let e=null===this.modelValue?"":this.modelValue.toString();return"number"==this.type&&(e=e.replace(/\D/g,"")),this.maxlength>0&&e.length>this.maxlength&&(e=e.substr(0,this.maxlength)),this.modelValue!==e&&this.$emit("update:modelValue",e),e}}},components:{Icon:$},methods:{inputFocus(){this.disabled||(this.focus=!0,this.$emit("focus",this.realValue))},inputBlur(){this.disabled||setTimeout((()=>{this.focus=!1,this.$emit("blur",this.realValue)}),100)},searchInput(){this.disabled||this.$emit("input",this.realValue)},doSearch(){this.disabled||this.$emit("search",this.realValue)},doCancel(){this.disabled||this.$emit("cancel",this.realValue)},leftClick(){this.disabled||this.$emit("left-click",this.realValue)},rightClick(){this.disabled||this.$emit("right-click",this.realValue)},clearInput(){this.disabled||this.clearable&&setTimeout((()=>{this.realValue="",this.$refs.input.focus(),this.$emit("clear",this.realValue)}),110)}}},At=["disabled"],Ot=["textContent"],Vt=["type","placeholder","maxlength","autofocus","disabled","readonly","inputmode"],Rt=["textContent"];const Dt=T(zt,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",{class:"mvi-search",disabled:s.disabled||null},[s.label?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-search-label",textContent:t.toDisplayString(s.label)},null,8,Ot)):t.createCommentVNode("",!0),t.createElementVNode("div",{class:t.normalizeClass(["mvi-search-input-container",s.round?"round":""])},[r.parseIcon(s.leftIcon).type||r.parseIcon(s.leftIcon).url?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-search-left-icon",onClick:i[0]||(i[0]=(...e)=>r.leftClick&&r.leftClick(...e))},[t.createVNode(l,{type:r.parseIcon(s.leftIcon).type,url:r.parseIcon(s.leftIcon).url,spin:r.parseIcon(s.leftIcon).spin,size:r.parseIcon(s.leftIcon).size,color:r.parseIcon(s.leftIcon).color},null,8,["type","url","spin","size","color"])])):t.createCommentVNode("",!0),t.withDirectives(t.createElementVNode("input",{ref:"input",class:"mvi-search-input",type:r.cmpType,onKeypress:i[1]||(i[1]=t.withKeys(((...e)=>r.doSearch&&r.doSearch(...e)),["enter"])),autocomplete:"off",placeholder:s.placeholder,maxlength:s.maxlength,autofocus:s.autofocus,disabled:s.disabled,readonly:s.readonly,inputmode:r.cmpInputMode,"onUpdate:modelValue":i[2]||(i[2]=e=>r.realValue=e),onInput:i[3]||(i[3]=(...e)=>r.searchInput&&r.searchInput(...e)),onFocus:i[4]||(i[4]=(...e)=>r.inputFocus&&r.inputFocus(...e)),onBlur:i[5]||(i[5]=(...e)=>r.inputBlur&&r.inputBlur(...e)),style:t.normalizeStyle(r.inputStyle)},null,44,Vt),[[t.vModelDynamic,r.realValue]]),s.clearable?t.withDirectives((t.openBlock(),t.createElementBlock("div",{key:1,class:"mvi-search-clear",onClick:i[6]||(i[6]=(...e)=>r.clearInput&&r.clearInput(...e))},[t.createVNode(l,{type:"times-o"})],512)),[[t.vShow,r.showClear]]):t.createCommentVNode("",!0),r.parseIcon(s.rightIcon).type||r.parseIcon(s.rightIcon).url?(t.openBlock(),t.createElementBlock("div",{key:2,class:"mvi-search-right-icon",onClick:i[7]||(i[7]=(...e)=>r.rightClick&&r.rightClick(...e))},[t.createVNode(l,{type:r.parseIcon(s.rightIcon).type,url:r.parseIcon(s.rightIcon).url,spin:r.parseIcon(s.rightIcon).spin,size:r.parseIcon(s.rightIcon).size,color:r.parseIcon(s.rightIcon).color},null,8,["type","url","spin","size","color"])])):t.createCommentVNode("",!0)],2),s.showCancel?(t.openBlock(),t.createElementBlock("div",{key:1,textContent:t.toDisplayString(s.cancelText),class:"mvi-search-cancel",onClick:i[8]||(i[8]=(...e)=>r.doCancel&&r.doCancel(...e))},null,8,Rt)):t.createCommentVNode("",!0)],8,At)}],["__scopeId","data-v-4635809b"]]);Dt.install=e=>{e.component(Dt.name,Dt)};const Mt={name:"m-progress",props:{value:{type:Number,default:0},max:{type:Number,default:100},min:{type:Number,default:0},strokeWidth:{type:String,default:null},showTip:{type:Boolean,default:!1},color:{type:String,default:null},tipColor:{type:String,default:null},trackColor:{type:String,default:null},tipText:{type:[String,Number],default:null},round:{type:Boolean,default:!1},square:{type:Boolean,default:!1},animation:{type:Boolean,default:!1},timeout:{type:Number,default:400}},computed:{progressStyle(){let e={};return this.strokeWidth&&(e.height=this.strokeWidth),this.trackColor&&(e.backgroundColor=this.trackColor),e},progressBarStyle(){let e={};return this.animation&&(e.transition="width "+this.timeout+"ms,border-radius "+this.timeout+"ms",e.webkitTransition="width "+this.timeout+"ms,border-radius "+this.timeout+"ms"),this.color&&(e.backgroundColor=this.color),this.value==this.max&&(e.borderRadius="inherit"),e.width=`calc(${(this.value-this.min<0?0:this.value-this.min)/(this.max-this.min)} * 100%)`,e},cmpText(){return this.tipText?this.tipText:Math.round((this.value-this.min<0?0:this.value-this.min)/(this.max-this.min)*100)+"%"},tipStyle(){let e={};return this.tipColor&&(e.color=this.tipColor),e},progressClass(){let e=["mvi-progress"];return this.round?e.push("round"):this.square&&e.push("square"),e}}},Lt=["textContent"];const Ht=T(Mt,[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(r.progressClass),style:t.normalizeStyle(r.progressStyle)},[t.createElementVNode("div",{class:"mvi-progress-bar",style:t.normalizeStyle(r.progressBarStyle)},[s.showTip?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-progress-tooltip",style:t.normalizeStyle(r.tipStyle)},[e.$slots.tip?t.renderSlot(e.$slots,"tip",{key:0,value:s.value},void 0,!0):(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(r.cmpText)},null,8,Lt))],4)):t.createCommentVNode("",!0)],4)],6)}],["__scopeId","data-v-b4862679"]]);Ht.install=e=>{e.component(Ht.name,Ht)};const Ft={name:"m-slider",data:()=>({drag:null,isdrag:!1}),emits:["update:modelValue","change"],props:{modelValue:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},strokeWidth:{type:String,default:"0.2rem"},color:{type:String,default:null},trackColor:{type:String,default:null},disabled:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},round:{type:Boolean,default:!1},square:{type:Boolean,default:!1}},computed:{sliderStyle(){let e={};return this.trackColor&&(e.background=this.trackColor),this.strokeWidth&&(this.vertical?e.width=this.strokeWidth:e.height=this.strokeWidth),e},sliderBarStyle(){let e={};this.color&&(e.background=this.color);let t=u.number.divide(u.number.subtract(this.modelValue,this.min),u.number.subtract(this.max,this.min));return this.vertical?e.height=`calc(${t} * 100%)`:e.width=`calc(${t} * 100%)`,e},buttonElStyle(){let e={};return this.strokeWidth&&(e.width=`calc(${this.strokeWidth} * 2)`,e.height=`calc(${this.strokeWidth} * 2)`),e},sliderClass(){let e=["mvi-slider"];return this.round?e.push("round"):this.square&&e.push("square"),this.vertical&&e.push("vertical"),e}},mounted(){this.setBtnOffset(),this.drag=new y(this.$refs.btn,{container:this.$el,mode:"on",draggableY:this.vertical&&!this.disabled,draggableX:!this.vertical&&!this.disabled,cursor:!1,drag:this.onDrag,dragged:()=>{this.$nextTick((()=>{setTimeout((()=>{this.isdrag=!1}),10)}))}}),this.drag.init()},watch:{disabled(e){this.drag&&(e?this.vertical?this.drag.draggableY=!1:this.drag.draggableX=!1:this.vertical?this.drag.draggableY=!0:this.drag.draggableX=!0)},vertical(){this.$nextTick((()=>{this.setBtnOffset()}))},modelValue(){this.isdrag||this.setBtnOffset()}},methods:{onDrag(e,t,i){if(this.isdrag=!0,this.vertical){let e=u.number.add(u.number.mutiply(u.number.divide(u.number.add(i.top,u.number.divide(this.$refs.btn.offsetHeight,2)),this.$el.offsetHeight),u.number.subtract(this.max,this.min)),this.min);this.$emit("update:modelValue",e),this.$emit("change",e)}else{let e=u.number.add(u.number.mutiply(u.number.divide(u.number.add(i.left,u.number.divide(this.$refs.btn.offsetWidth,2)),this.$el.offsetWidth),u.number.subtract(this.max-this.min)),this.min);this.$emit("update:modelValue",e),this.$emit("change",e)}},setBtnOffset(){this.vertical?(this.$refs.btn.style.left="50%",this.$refs.btn.style.top=u.number.subtract(u.number.mutiply(u.number.divide(u.number.subtract(this.modelValue,this.min),u.number.subtract(this.max-this.min)),this.$el.offsetHeight),u.number.divide(this.$refs.btn.offsetHeight,2))+"px"):(this.$refs.btn.style.top="50%",this.$refs.btn.style.left=u.number.subtract(u.number.mutiply(u.number.divide(u.number.subtract(this.modelValue,this.min),u.number.subtract(this.max-this.min)),this.$el.offsetWidth),u.number.divide(this.$refs.btn.offsetWidth,2))+"px")},dragTo(e){if(!this.disabled&&!this.isdrag&&!u.element.isContains(this.$refs.btn,e.target))if(this.vertical){let t=e.offsetY,i=u.number.add(u.number.mutiply(u.number.divide(t,this.$el.offsetHeight),u.number.subtract(this.max,this.min)),this.min);this.$emit("update:modelValue",i),this.$emit("change",i)}else{let t=e.offsetX,i=u.number.add(u.number.mutiply(u.number.divide(t,this.$el.offsetWidth),u.number.subtract(this.max,this.min)),this.min);this.$emit("update:modelValue",i),this.$emit("change",i)}}},beforeUnmount(){this.drag&&this.drag.destroy()}},Wt=["disabled"],jt={class:"mvi-slider-button",ref:"btn"};const Ut=T(Ft,[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createElementBlock("div",{disabled:s.disabled||null,class:t.normalizeClass(r.sliderClass),style:t.normalizeStyle(r.sliderStyle),onClick:i[0]||(i[0]=(...e)=>r.dragTo&&r.dragTo(...e))},[t.createElementVNode("div",{ref:"bar",class:"mvi-slider-bar",style:t.normalizeStyle(r.sliderBarStyle)},null,4),t.createElementVNode("div",jt,[e.$slots.button?t.renderSlot(e.$slots,"button",{key:0},void 0,!0):(t.openBlock(),t.createElementBlock("div",{key:1,class:"mvi-slider-button-el",style:t.normalizeStyle(r.buttonElStyle)},null,4))],512)],14,Wt)}],["__scopeId","data-v-bb4c2168"]]);Ut.install=e=>{e.component(Ut.name,Ut)};const Yt={name:"m-stepper",emits:["update:modelValue","change"],props:{modelValue:{type:[String,Number],default:0},step:{type:Number,default:1},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},min:{type:Number,default:null},max:{type:Number,default:null},digit:{type:Number,default:0},disabled:{type:Boolean,default:!1},disabledPlus:{type:Boolean,default:!1},disabledMinus:{type:Boolean,default:!1},disabledInput:{type:Boolean,default:!1},showPlus:{type:Boolean,default:!0},showMinus:{type:Boolean,default:!0},showInput:{type:Boolean,default:!0},inputWidth:{type:String,default:null},active:{type:Boolean,default:!0},inputAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},border:{type:Boolean,default:!1}},computed:{arrivalMin(){return null!=this.min&&this.realValue<=this.min},arrivalMax(){return null!=this.max&&this.realValue>=this.max},inputStyle(){let e={};return this.inputWidth&&(e.width=this.inputWidth),e},inputElStyle(){let e={};return this.inputAlign&&(e.textAlign=this.inputAlign),e},minusClass(){let e=["mvi-stepper-minus"];return this.disabledMinus||this.arrivalMin||this.disabled||!this.active||e.push("active"),this.border&&e.push("border"),e},plusClass(){let e=["mvi-stepper-plus"];return this.disabledPlus||this.arrivalMax||this.disabled||!this.active||e.push("active"),this.border&&e.push("border"),e},realValue:{set(e){let t=this.updateValue(e);this.modelValue!==t&&(this.$emit("update:modelValue",t),this.$emit("change",t))},get(){return this.modelValue}}},components:{Icon:$},methods:{doMinus(){this.disabled||this.disabledMinus||this.arrivalMin||(this.realValue=u.number.subtract(this.realValue,this.step))},doPlus(){this.disabled||this.disabledPlus||this.arrivalMax||(this.realValue=u.number.add(this.realValue,this.step))},changeValue(){this.disabled||this.disabledInput||(this.$refs.input.value=this.realValue)},updateValue(e){let t=parseFloat(e);return isNaN(t)&&(t=0),t=Number(t.toFixed(this.digit)),t<=this.min&&null!=this.min&&(t=this.min),t>=this.max&&null!=this.max&&(t=this.max),t}}},qt=["disabled"],Xt=["disabled"],Kt=["disabled"],Zt=["disabled"];const Gt=T(Yt,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-stepper",s.size])},[s.showMinus?(t.openBlock(),t.createElementBlock("div",{key:0,disabled:s.disabledMinus||r.arrivalMin||s.disabled||null,class:t.normalizeClass(r.minusClass),onClick:i[0]||(i[0]=(...e)=>r.doMinus&&r.doMinus(...e))},[t.createVNode(l,{type:"minus"})],10,qt)):t.createCommentVNode("",!0),s.showInput?(t.openBlock(),t.createElementBlock("div",{key:1,disabled:s.disabled||s.disabledInput||null,class:t.normalizeClass(["mvi-stepper-input",s.border?"border":""]),style:t.normalizeStyle(r.inputStyle)},[t.withDirectives(t.createElementVNode("input",{ref:"input","onUpdate:modelValue":i[1]||(i[1]=e=>r.realValue=e),disabled:s.disabled||s.disabledInput||null,type:"text",onBlur:i[2]||(i[2]=(...e)=>r.changeValue&&r.changeValue(...e)),onKeyup:i[3]||(i[3]=t.withKeys(((...e)=>r.changeValue&&r.changeValue(...e)),["enter"])),style:t.normalizeStyle(r.inputElStyle),inputmode:"numeric"},null,44,Kt),[[t.vModelText,r.realValue]])],14,Xt)):t.createCommentVNode("",!0),s.showPlus?(t.openBlock(),t.createElementBlock("div",{key:2,disabled:s.disabledPlus||r.arrivalMax||s.disabled||null,class:t.normalizeClass(r.plusClass),onClick:i[4]||(i[4]=(...e)=>r.doPlus&&r.doPlus(...e))},[t.createVNode(l,{type:"plus"})],10,Zt)):t.createCommentVNode("",!0)],2)}],["__scopeId","data-v-d4efe9c9"]]);Gt.install=e=>{e.component(Gt.name,Gt)};const Qt={name:"m-switch",emits:["update:modelValue","change"],props:{modelValue:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:String,default:"0.4rem"},activeColor:{type:String,default:null},inactiveColor:{type:String,default:null}},components:{Icon:$},methods:{change(e){let t=e.target.checked;this.$emit("update:modelValue",t),this.$emit("change",t)}},computed:{switchStyle(){let e={};return this.inactiveColor&&!this.modelValue&&(e.backgroundColor=this.inactiveColor),this.activeColor&&this.modelValue&&(e.backgroundColor=this.activeColor),this.size&&(e.width=`calc(${this.size} * 2)`),e},elStyle(){let e={};return this.activeColor&&(e.color=this.activeColor),this.size&&(e.width=this.size,e.height=this.size,e.fontSize=this.size),e}}},Jt=["disabled"],ei=["checked","disabled"];const ti=T(Qt,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("label",{class:t.normalizeClass(["mvi-switch",s.modelValue?"checked":""]),style:t.normalizeStyle(r.switchStyle),disabled:s.disabled||null},[t.createElementVNode("span",{class:t.normalizeClass(["mvi-switch-el",s.modelValue?"checked":""]),style:t.normalizeStyle(r.elStyle)},[s.loading&&!s.disabled?(t.openBlock(),t.createBlock(l,{key:0,type:"load-e",spin:"",size:"0.8em"})):t.createCommentVNode("",!0)],6),t.createElementVNode("input",{onChange:i[0]||(i[0]=(...e)=>r.change&&r.change(...e)),type:"checkbox",checked:s.modelValue,disabled:s.disabled||s.loading},null,40,ei)],14,Jt)}],["__scopeId","data-v-836d8024"]]);ti.install=e=>{e.component(ti.name,ti)};const ii={name:"m-actionsheet",emits:["update:modelValue","select"],props:{modelValue:{type:Boolean,default:!1},overlayColor:{type:String,default:null},zIndex:{type:Number,default:900},timeout:{type:Number,default:200},round:{type:Boolean,default:!1},title:{type:String,default:null},closable:{type:Boolean,default:!1},options:{type:Array,default:function(){return[]}},showCancel:{type:Boolean,default:!0},cancelText:{type:String,default:"取消"},active:{type:Boolean,default:!0},mountEl:{type:String,default:null},selectClose:{type:Boolean,default:!0},usePadding:{type:Boolean,default:!1},size:{type:String,default:"medium",validator:e=>["medium","large"].includes(e)}},computed:{$$el(){return this.$refs.popup.$$el},show:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},itemClass(){return e=>{let t=["mvi-actionsheet-item",this.size];return!this.active||e.loading||e.disabled||t.push("active"),t}},itemDisabled:()=>e=>"boolean"==typeof e.disabled&&e.disabled},components:{Icon:$,Loading:xe,Popup:ae},methods:{doSelect(e,t){e.disabled||e.loading||(this.selectClose&&(this.show=!1),this.$emit("select",{...e},t))}}},si={class:"mvi-actionsheet"},ni=["textContent"],oi={class:"mvi-actionsheet-list"},ri=["disabled","onClick"],li={key:1,class:"mvi-actionsheet-content"},ai=["textContent"],ci=(e=>(t.pushScopeId("data-v-9262c92f"),e=e(),t.popScopeId(),e))((()=>t.createElementVNode("div",{class:"mvi-actionsheet-divider"},null,-1))),hi=["textContent"];const di=T(ii,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Loading"),a=t.resolveComponent("Icon"),c=t.resolveComponent("Popup");return t.openBlock(),t.createBlock(c,{ref:"popup",modelValue:r.show,"onUpdate:modelValue":i[1]||(i[1]=e=>r.show=e),"overlay-color":s.overlayColor,"z-index":s.zIndex,timeout:s.timeout,placement:"bottom",round:s.round,"use-padding":s.usePadding,"mount-el":s.mountEl,closable:s.closable},{default:t.withCtx((()=>[t.createElementVNode("div",si,[s.title?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["mvi-actionsheet-title",s.size]),textContent:t.toDisplayString(s.title)},null,10,ni)):t.createCommentVNode("",!0),t.createElementVNode("div",oi,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(s.options,((e,i)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(r.itemClass(e)),disabled:r.itemDisabled(e)||null,onClick:t=>r.doSelect(e,i)},[e.loading?(t.openBlock(),t.createBlock(l,{key:0,size:"large"==s.size?"0.4rem":"0.36rem",color:"#bbb"},null,8,["size"])):e.label||r.parseIcon(e.icon).type||r.parseIcon(e.icon).url?(t.openBlock(),t.createElementBlock("div",li,[(r.parseIcon(e.icon).type||r.parseIcon(e.icon).url)&&"right"!=e.placement?(t.openBlock(),t.createBlock(a,{key:0,"data-placement":"left",type:r.parseIcon(e.icon).type,url:r.parseIcon(e.icon).url,spin:r.parseIcon(e.icon).spin,size:r.parseIcon(e.icon).size,color:r.parseIcon(e.icon).color},null,8,["type","url","spin","size","color"])):t.createCommentVNode("",!0),e.label?(t.openBlock(),t.createElementBlock("span",{key:1,class:"mvi-actionsheet-item-label",textContent:t.toDisplayString(e.label)},null,8,ai)):t.createCommentVNode("",!0),(r.parseIcon(e.icon).type||r.parseIcon(e.icon).url)&&"right"==e.placement?(t.openBlock(),t.createBlock(a,{key:2,"data-placement":"right",type:r.parseIcon(e.icon).type,url:r.parseIcon(e.icon).url,spin:r.parseIcon(e.icon).spin,size:r.parseIcon(e.icon).size,color:r.parseIcon(e.icon).color},null,8,["type","url","spin","size","color"])):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0)],10,ri)))),256))]),ci,s.showCancel?(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(["mvi-actionsheet-button",s.size,s.active?"active":""]),textContent:t.toDisplayString(s.cancelText),onClick:i[0]||(i[0]=e=>r.show=!1)},null,10,hi)):t.createCommentVNode("",!0)])])),_:1},8,["modelValue","overlay-color","z-index","timeout","round","use-padding","mount-el","closable"])}],["__scopeId","data-v-9262c92f"]]);di.install=e=>{e.component(di.name,di)};const mi={name:"m-dropdown",emits:["update:modelValue","update:show","select"],props:{modelValue:{type:[Object,Number,String,Array],default:null},activeColor:{type:String,default:null},options:{type:Array,default:function(){return[]}},selectedClose:{type:Boolean,default:!0},selectedIcon:{type:[String,Object],default:"success"},show:{type:Boolean,default:!1},overlayColor:{type:String,default:null},zIndex:{type:Number,default:900},timeout:{type:Number,default:200},round:{type:Boolean,default:!1},placement:{type:String,default:"top"},closable:{type:Boolean,default:!0},mountEl:{type:String,default:null},active:{type:Boolean,default:!0},usePadding:{type:Boolean,default:!1}},computed:{$$el(){return this.$refs.popup.$$el},cmpShow:{set(e){this.$emit("update:show",e)},get(){return this.show}},parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},equalValue(){return(e,t)=>void 0===e.value||null===e.value?this.modelValue===t:u.common.equal(this.modelValue,e.value)},itemDisabled:()=>e=>"boolean"==typeof e.disabled&&e.disabled,dropdownItemStyle(){return(e,t)=>{let i={};return!this.itemDisabled(e)&&this.equalValue(e,t)&&this.activeColor&&(i.color=this.activeColor),i}},dropdownItemClass(){return(e,t)=>{let i=["mvi-dropdown-item"];return this.equalValue(e,t)&&!e.disabled&&i.push("checked"),this.active&&!e.disabled&&i.push("active"),i}}},components:{Icon:$,Popup:ae},methods:{doSelect(e,t){e.disabled||(this.$emit("select",JSON.parse(JSON.stringify(e)),t),u.common.equal(e.value,this.modelValue)||this.$emit("update:modelValue",e.value),this.selectedClose&&(this.cmpShow=!1))}}},ui={class:"mvi-dropdown"},pi=["disabled","onClick"],fi={class:"mvi-dropdown-label"},gi=["textContent"],yi=["data-placement"];const bi=T(mi,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon"),a=t.resolveComponent("Popup");return t.openBlock(),t.createBlock(a,{ref:"popup",modelValue:r.cmpShow,"onUpdate:modelValue":i[0]||(i[0]=e=>r.cmpShow=e),"overlay-color":s.overlayColor,"z-index":s.zIndex,timeout:s.timeout,placement:s.placement,round:s.round,"use-padding":s.usePadding,"mount-el":s.mountEl,closable:s.closable,__contentPadding:!1},{default:t.withCtx((()=>[t.createElementVNode("div",ui,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(s.options,((e,i)=>(t.openBlock(),t.createElementBlock("div",{disabled:r.itemDisabled(e)||null,class:t.normalizeClass(r.dropdownItemClass(e,i)),onClick:t=>r.doSelect(e,i),style:t.normalizeStyle(r.dropdownItemStyle(e,i))},[t.createElementVNode("div",fi,[e.icon?(t.openBlock(),t.createBlock(l,{key:0,type:r.parseIcon(e.icon).type,url:r.parseIcon(e.icon).url,spin:r.parseIcon(e.icon).spin,class:"mvi-dropdown-label-icon",size:r.parseIcon(e.icon).size,color:r.parseIcon(e.icon).color},null,8,["type","url","spin","size","color"])):t.createCommentVNode("",!0),t.createElementVNode("span",{class:"mvi-dropdown-label-text",textContent:t.toDisplayString(e.label||"")},null,8,gi)]),t.createElementVNode("div",{class:t.normalizeClass(["mvi-dropdown-icon",r.equalValue(e,i)?"checked":""]),"data-placement":s.placement},[t.createVNode(l,{type:r.parseIcon(s.selectedIcon).type,url:r.parseIcon(s.selectedIcon).url,spin:r.parseIcon(s.selectedIcon).spin,size:r.parseIcon(s.selectedIcon).size,color:r.parseIcon(s.selectedIcon).color},null,8,["type","url","spin","size","color"])],10,yi)],14,pi)))),256))])])),_:1},8,["modelValue","overlay-color","z-index","timeout","placement","round","use-padding","mount-el","closable"])}],["__scopeId","data-v-d29335df"]]);bi.install=e=>{e.component(bi.name,bi)};const vi={class:"mvi-notify-content"},wi=["textContent"];const ki=T({name:"m-notify",data:()=>({timer:null,show:!1}),props:{type:{type:String,default:null},message:{type:String,default:null},color:{type:String,default:null},background:{type:String,default:null},zIndex:{type:Number,default:null},timeout:{type:Number,default:null},icon:{type:[String,Object],default:null},__remove:{type:Function,default:function(){return function(){}}},__init:{type:Function,default:function(){return function(){}}}},computed:{cmpType(){return["success","info","primary","error","warn"].includes(this.type)?this.type:"success"},cmpMessage(){return"string"==typeof this.message?this.message:u.common.isObject(this.message)?JSON.stringify(this.message):String(this.message)},cmpColor(){return"string"==typeof this.color?this.color:null},cmpBackground(){return"string"==typeof this.background?this.background:null},cmpZIndex(){return u.number.isNumber(this.zIndex)?this.zIndex:1100},cmpTimeout(){return u.number.isNumber(this.timeout)?this.timeout:1500},parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},notifyStyle(){let e={zIndex:this.cmpZIndex};return this.cmpBackground&&(e.backgroundColor=this.cmpBackground),this.cmpColor&&(e.color=this.cmpColor),e}},components:{Icon:$},mounted(){this.show=!0,this.__init(this)},methods:{afterEnter(){this.cmpTimeout>0&&(this.timer=setTimeout((()=>{this.show=!1}),this.cmpTimeout))},afterLeave(){this.clearTimer(),this.__remove()},clearTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}}},[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon");return t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[t.createVNode(t.Transition,{name:"mvi-notify",onAfterLeave:r.afterLeave,onAfterEnter:r.afterEnter},{default:t.withCtx((()=>[t.withDirectives(t.createElementVNode("div",{class:t.normalizeClass(["mvi-notify",r.cmpType]),style:t.normalizeStyle(r.notifyStyle)},[t.createElementVNode("div",vi,[r.parseIcon(s.icon).type||r.parseIcon(s.icon).url?(t.openBlock(),t.createBlock(l,{key:0,type:r.parseIcon(s.icon).type,url:r.parseIcon(s.icon).url,spin:r.parseIcon(s.icon).spin,size:r.parseIcon(s.icon).size,color:r.parseIcon(s.icon).color},null,8,["type","url","spin","size","color"])):t.createCommentVNode("",!0),t.createElementVNode("span",{textContent:t.toDisplayString(r.cmpMessage)},null,8,wi)])],6),[[t.vShow,o.show]])])),_:1},8,["onAfterLeave","onAfterEnter"])])}],["__scopeId","data-v-80ba439a"]]),Ei={initParams:e=>{let t={};return u.common.isObject(e)?(t.type=e.type,t.message=e.message,t.timeout=e.timeout,t.background=e.background,t.color=e.color,t.zIndex=e.zIndex,t.icon=e.icon):t.message=e,t},showNotify:e=>new Promise((i=>{Ei.$el&&Ei.$instance&&(Ei.$instance.unmount(),Ei.$el.remove());let s=Ei.initParams(e),n=u.element.string2dom("<div></div>");document.body.appendChild(n);const o=t.createApp(ki,{...s,__init:e=>{Ei.$vm=e},__remove:()=>{o.unmount(),n.remove(),i()}});o.mount(n),Ei.$el=n,Ei.$instance=o})),hideNotify:()=>{Ei.$vm&&(Ei.$vm.show=!1)},install:e=>{e.config.globalProperties.$showNotify=Ei.showNotify,e.provide("$showNotify",Ei.showNotify),e.config.globalProperties.$hideNotify=Ei.hideNotify,e.provide("$hideNotify",Ei.hideNotify)}},xi={name:"m-pull-refresh",data:()=>({elHeight:0,rootHeight:0,amount:0,amountMax:4,startY:0,firstStartY:0,status:0,translateY:0,hasTouch:!1,mouseDown:!1,disableScroll:!1}),emits:["update:modelValue","refresh"],props:{pullingText:{type:String,default:"下拉刷新"},loosingText:{type:String,default:"释放刷新"},loadingText:{type:String,default:"正在刷新"},modelValue:{type:Boolean,default:!1},pullingIcon:{type:[String,Object],default:"arrow-down"},loosingIcon:{type:[String,Object],default:"arrow-up"},loadingIcon:{type:[String,Object],default:function(){return{type:"load-e",spin:!0}}},disabled:{type:Boolean,default:!1},distance:{type:Number,default:1.4}},computed:{containerStyle(){return{height:`calc(100% + ${this.elHeight}px)`,transform:`translateY(${this.translateY}px)`}},wrapperStyle(){let e={height:this.rootHeight+"px"};return this.disableScroll&&(e.overflowY="hidden"),e},icon(){return 0==this.status?this.parseIcon(this.pullingIcon):1==this.status?this.parseIcon(this.loosingIcon):2==this.status?this.parseIcon(this.loadingIcon):void 0},message(){return 0==this.status?this.pullingText:1==this.status?this.loosingText:2==this.status?this.loadingText:void 0},parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t}},components:{Icon:$},setup:()=>({uid:t.getCurrentInstance().uid}),mounted(){this.initHeight(),u.event.on(document.documentElement,`mousemove.pullRefresh_${this.uid}`,this.onPull2),u.event.on(document.documentElement,`mouseup.pullRefresh_${this.uid}`,this.pulled2)},watch:{modelValue(){this.changeStatus()}},methods:{initHeight(){this.elHeight=this.$refs.el.offsetHeight,this.rootHeight=this.$el.offsetHeight,this.translateY=-this.elHeight},startPull(e){this.disabled||0==this.status&&(this.startY=e.targetTouches[0].pageY,this.firstStartY=this.startY)},startPull2(e){this.disabled||0==this.status&&(this.mouseDown=!0,this.startY=e.pageY,this.firstStartY=this.startY)},onPull(e){if(this.disabled)return;if(2==this.status)return;let t=e.targetTouches[0].pageY,i=t-this.startY,s=t-this.firstStartY;if(this.startY=t,s<=0)return void(this.firstStartY=this.startY);if(u.element.getScrollTop(this.$refs.wrapper)>0)return void(this.firstStartY=this.startY);let n=this.getScrollEl(e.target);if(!n.isEqualNode(this.$refs.wrapper)&&u.element.getScrollTop(n)>0)return void(this.firstStartY=this.startY);this.hasTouch=!0,e.cancelable&&e.preventDefault(),this.amount<this.amountMax&&this.amount++;let o=this.translateY+i/this.amount;o>u.element.rem2px(this.distance)-this.elHeight?this.status=1:this.status=0,this.translateY=o},onPull2(e){if(!this.mouseDown||this.disabled)return;if(2==this.status)return;let t=e.pageY,i=t-this.startY,s=t-this.firstStartY;if(this.startY=t,s<=0)return void(this.firstStartY=this.startY);if(u.element.getScrollTop(this.$refs.wrapper)>0)return void(this.firstStartY=this.startY);let n=this.getScrollEl(e.target);if(!n.isEqualNode(this.$refs.wrapper)&&u.element.getScrollTop(n)>0)return void(this.firstStartY=this.startY);this.hasTouch=!0,e.cancelable&&e.preventDefault(),this.amount<this.amountMax&&this.amount++;let o=this.translateY+i/this.amount;o>u.element.rem2px(this.distance)-this.elHeight?this.status=1:this.status=0,this.translateY=o},pulled(){this.disabled||(1==this.status&&0==this.modelValue?this.$emit("update:modelValue",!0):0==this.status&&this.changeStatus())},pulled2(){this.mouseDown&&!this.disabled&&(this.mouseDown=!1,1==this.status&&!1===this.modelValue?this.$emit("update:modelValue",!0):0==this.status&&this.changeStatus())},changeStatus(){this.disabled||(this.modelValue?(this.status=2,this.disableScroll=!0,this.$emit("refresh"),this.hasTouch||(this.$refs.container.style.transition="transform 300ms",this.$refs.container.style.webkitTransition="transform 300ms",this.$refs.container.offsetWidth,this.translateY=u.element.rem2px(this.distance)-this.elHeight,setTimeout((()=>{this.$refs.container&&(this.$refs.container.style.transition="",this.$refs.container.style.webkitTransition="")}),300))):(this.amount=0,this.hasTouch=!1,this.$refs.container.style.transition="transform 300ms",this.$refs.container.style.webkitTransition="transform 300ms",this.$refs.container.offsetWidth,this.translateY=-this.elHeight,setTimeout((()=>{this.$refs.container&&(this.$refs.container.style.transition="",this.$refs.container.style.webkitTransition=""),this.status=0,this.disableScroll=!1}),300)))},getScrollEl(e){return e.isEqualNode(this.$refs.wrapper)||!u.element.isContains(this.$refs.wrapper,e)?this.$refs.wrapper:u.element.getScrollHeight(e)>e.clientHeight?e:this.getScrollEl(e.parentNode)}},beforeUnmount(){u.event.off(document.documentElement,`mousemove.pullRefresh_${this.uid} mouseup.pullRefresh_${this.uid}`)}},Ci={class:"mvi-pull-refresh"},Si={ref:"el",class:"mvi-pull-refresh-el"},Ti=["textContent"];const $i=T(xi,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",Ci,[t.createElementVNode("div",{ref:"container",class:"mvi-pull-refresh-container",style:t.normalizeStyle(r.containerStyle)},[t.createElementVNode("div",Si,[e.$slots.el?t.renderSlot(e.$slots,"el",{key:0,status:o.status},void 0,!0):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.createVNode(l,{type:r.icon.type,spin:r.icon.spin,url:r.icon.url,size:r.icon.size,color:r.icon.color},null,8,["type","spin","url","size","color"]),t.createElementVNode("span",{class:"mvi-pull-refresh-text",textContent:t.toDisplayString(r.message)},null,8,Ti)],64))],512),t.createElementVNode("div",{ref:"wrapper",class:"mvi-pull-refresh-wrapper",onTouchstart:i[0]||(i[0]=(...e)=>r.startPull&&r.startPull(...e)),onTouchmove:i[1]||(i[1]=(...e)=>r.onPull&&r.onPull(...e)),onTouchend:i[2]||(i[2]=(...e)=>r.pulled&&r.pulled(...e)),onMousedown:i[3]||(i[3]=(...e)=>r.startPull2&&r.startPull2(...e)),style:t.normalizeStyle(r.wrapperStyle)},[t.renderSlot(e.$slots,"default",{},void 0,!0)],36)],4)])}],["__scopeId","data-v-56b35aa0"]]);$i.install=e=>{e.component($i.name,$i)};const Ii={name:"m-swipe-cell",data:()=>({startX:0,startX2:0,transformX:0,leftShow:!1,rightShow:!1,amounts:0,mouseDown:!1,isDrag:!1}),props:{disabled:{type:Boolean,default:!1},centerClose:{type:Boolean,default:!0}},emits:["open","close"],watch:{disabled(){this.close(!0)}},computed:{cellStyle(){return{transform:`translateX(${this.transformX}px)`}}},setup:()=>({uid:t.getCurrentInstance().uid}),mounted(){u.event.on(document.documentElement,`mousemove.swipeCell_${this.uid}`,this.cellMouseMove),u.event.on(document.documentElement,`mouseup.swipeCell_${this.uid}`,this.cellMouseUp)},methods:{cellTouchStart(e){this.disabled||(this.startX=e.touches[0].pageX,this.startX2=this.startX,this.amounts=0)},cellTouchMove(e){if(this.disabled)return;let t=e.touches[0].pageX,i=t-this.startX,s=t-this.startX2;if(this.startX=t,!(Math.abs(s)<=u.element.rem2px(1)))if(e.cancelable&&e.preventDefault(),s>0){if(this.leftShow&&this.transformX==this.$refs.left.offsetWidth)return;this.leftShow=!0,this.$nextTick((()=>{this.transformX>=this.$refs.left.offsetWidth?(this.amounts+=8,this.transformX+=i/this.amounts):this.transformX+=i}))}else if(s<0){if(this.rightShow&&this.transformX==-this.$refs.right.offsetWidth)return;this.rightShow=!0,this.$nextTick((()=>{this.transformX<=-this.$refs.right.offsetWidth?(this.amounts+=8,this.transformX+=i/this.amounts):this.transformX+=i}))}},cellTouchEnd(e){if(this.disabled)return;let t=e.changedTouches[0].pageX-this.startX2;0!=t&&(t>0?this.transformX>0?this.open("left"):this.close():this.transformX<0?this.open("right"):this.close())},cellMouseDown(e){this.disabled||(this.startX=e.pageX,this.startX2=this.startX,this.amounts=0,this.mouseDown=!0)},cellMouseMove(e){if(this.disabled)return;if(!this.mouseDown)return;this.isDrag=!0;let t=e.pageX,i=t-this.startX,s=t-this.startX2;if(this.startX=t,!(Math.abs(s)<=u.element.rem2px(1)))if(e.cancelable&&e.preventDefault(),s>0){if(this.leftShow&&this.transformX==this.$refs.left.offsetWidth)return;this.leftShow=!0,this.$nextTick((()=>{this.transformX>=this.$refs.left.offsetWidth?(this.amounts+=3,this.transformX+=i/this.amounts):this.transformX+=i}))}else if(s<0){if(this.rightShow&&this.transformX==-this.$refs.right.offsetWidth)return;this.rightShow=!0,this.$nextTick((()=>{this.transformX<=-this.$refs.right.offsetWidth?(this.amounts+=3,this.transformX+=i/this.amounts):this.transformX+=i}))}},cellMouseUp(e){if(this.disabled)return;if(!this.mouseDown)return;this.mouseDown=!1;let t=e.pageX-this.startX2;0!=t&&(t>0?this.transformX>0?this.open("left"):this.close():this.transformX<0?this.open("right"):this.close(),setTimeout((()=>{this.isDrag=!1}),10))},setTransform(e){return new Promise(((t,i)=>{this.$el.style.transition="transform 300ms",this.$el.style.webkitTransition="transform 300ms",setTimeout((()=>{this.transformX=e,setTimeout((()=>{this.$el.style.transition="",this.$el.style.webkitTransition="",t()}),300)}),0)}))},open(e){this.disabled||("left"==e?(this.leftShow||(this.leftShow=!0),this.$nextTick((()=>{this.setTransform(this.$refs.left.offsetWidth).then((()=>{this.$emit("open",e)}))}))):"right"==e&&(this.rightShow||(this.rightShow=!0),this.$nextTick((()=>{this.setTransform(-this.$refs.right.offsetWidth).then((()=>{this.$emit("open",e)}))}))))},close(e){if(!e&&this.disabled)return;let t="left";0!=this.transformX&&(t=this.transformX>=0?"left":"right",this.setTransform(0).then((()=>{this.leftShow=!1,this.rightShow=!1,this.$emit("close",t)})))},clickCenter(){this.disabled||this.isDrag||this.centerClose&&this.close()}},beforeUnmount(){u.event.off(document.documentElement,`mousemove.swipeCell_${this.uid} mouseup.swipeCell_${this.uid}`)}},Bi=["disabled"],_i={ref:"left",class:"mvi-swipe-cell-left"},Ni={ref:"right",class:"mvi-swipe-cell-right"};const Pi=T(Ii,[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createElementBlock("div",{class:"mvi-swipe-cell",onTouchstart:i[1]||(i[1]=(...e)=>r.cellTouchStart&&r.cellTouchStart(...e)),onTouchmove:i[2]||(i[2]=(...e)=>r.cellTouchMove&&r.cellTouchMove(...e)),onTouchend:i[3]||(i[3]=(...e)=>r.cellTouchEnd&&r.cellTouchEnd(...e)),style:t.normalizeStyle(r.cellStyle),disabled:s.disabled||null,onMousedown:i[4]||(i[4]=(...e)=>r.cellMouseDown&&r.cellMouseDown(...e))},[t.withDirectives(t.createElementVNode("div",_i,[t.renderSlot(e.$slots,"left",{},void 0,!0)],512),[[t.vShow,o.leftShow]]),t.createElementVNode("div",{ref:"center",class:"mvi-swipe-cell-center",onClick:i[0]||(i[0]=(...e)=>r.clickCenter&&r.clickCenter(...e))},[t.renderSlot(e.$slots,"default",{},void 0,!0)],512),t.withDirectives(t.createElementVNode("div",Ni,[t.renderSlot(e.$slots,"right",{},void 0,!0)],512),[[t.vShow,o.rightShow]])],44,Bi)}],["__scopeId","data-v-1e12e6ca"]]);Pi.install=e=>{e.component(Pi.name,Pi)};const zi={name:"m-circle-progress",data:()=>({pathSize:1e3}),props:{value:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},size:{type:Number,default:2},color:{type:String,default:null},trackColor:{type:String,default:null},fill:{type:String,default:null},animation:{type:Boolean,default:!0},timeout:{type:Number,default:400},showTip:{type:Boolean,default:!1},tipText:{type:String,default:null},strokeWidth:{type:Number,default:.2},round:{type:Boolean,default:!1},clockWise:{type:Boolean,default:!0}},computed:{progressStyle(){let e={};return this.size&&(e.width=this.size+"rem",e.height=this.size+"rem"),e},viewBox(){let e=u.element.rem2px(this.strokeWidth);return`0 0 ${this.pathSize+2*e} ${this.pathSize+2*e}`},pathD(){let e=u.element.rem2px(this.strokeWidth);return`M ${this.pathSize/2+e} ${this.pathSize/2+e} m 0, -${this.pathSize/2} a ${this.pathSize/2}, ${this.pathSize/2} 0 1, ${this.clockWise?1:0} 0, ${this.pathSize} a ${this.pathSize/2}, ${this.pathSize/2} 0 1, ${this.clockWise?1:0} 0, -${this.pathSize}`},cmpValue(){if(this.tipText)return this.tipText;{let e=this.value>this.max?this.max:this.value<this.min?this.min:this.value;return Math.round((e-this.min)/(this.max-this.min)*100)+"%"}},barStyle(){let e={};this.fill&&(e.fill=this.fill),this.color&&(e.stroke=this.color),u.number.isNumber(this.strokeWidth)&&(e.strokeWidth=this.strokeWidth+"rem"),this.round&&(e.strokeLinecap="round"),this.animation&&(e.transition="stroke-dasharray "+this.timeout+"ms",e.webkitTransition="stroke-dasharray "+this.timeout+"ms");let t=Number((this.pathSize*Math.PI).toFixed(2)),i=this.value>this.max?this.max:this.value<this.min?this.min:this.value,s=Number(((i-this.min)/(this.max-this.min)*t).toFixed(2));return e.strokeDasharray=s+","+(t-s),e},trackStyle(){let e={};return this.fill&&(e.fill=this.fill),this.trackColor&&(e.stroke=this.trackColor),u.number.isNumber(this.strokeWidth)&&(e.strokeWidth=this.strokeWidth+"rem"),e}}},Ai=["viewBox"],Oi=["d"],Vi=["d"],Ri={key:0,class:"mvi-circle-progress-tip"},Di=["textContent"];const Mi=T(zi,[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createElementBlock("div",{class:"mvi-circle-progress",style:t.normalizeStyle(r.progressStyle)},[(t.openBlock(),t.createElementBlock("svg",{viewBox:r.viewBox},[t.createElementVNode("path",{d:r.pathD,style:t.normalizeStyle(r.trackStyle),class:"mvi-circle-progress-track"},null,12,Oi),t.createElementVNode("path",{d:r.pathD,style:t.normalizeStyle(r.barStyle),class:"mvi-circle-progress-bar"},null,12,Vi)],8,Ai)),s.showTip?(t.openBlock(),t.createElementBlock("div",Ri,[e.$slots.tip?t.renderSlot(e.$slots,"tip",{key:0,value:s.value},void 0,!0):(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(r.cmpValue)},null,8,Di))])):t.createCommentVNode("",!0)],4)}],["__scopeId","data-v-e78a42ce"]]);Mi.install=e=>{e.component(Mi.name,Mi)};const Li={name:"m-collapse",data:()=>({children:[]}),emits:["update:modelValue","before-slide-down","slide-down","before-slide-up","slide-up"],props:{modelValue:{type:[Number,Array],default:null},accordion:{type:Boolean,default:!1},inBorder:{type:Boolean,default:!0},outBorder:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},active:{type:Boolean,default:!0},noWrap:{type:Boolean,default:!1}},provide(){return{collapse:this}}},Hi={class:"mvi-collapse"};const Fi=T(Li,[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createElementBlock("div",Hi,[t.renderSlot(e.$slots,"default",{},void 0,!0)])}],["__scopeId","data-v-b47c5bd1"]]);Fi.install=e=>{e.component(Fi.name,Fi)};const Wi=T({name:"m-transition-slide",data:()=>({show:!0,height:null,useAnimation:!1,opacity:0}),emits:["before-slide-down","slide-down","before-slide-up","slide-up"],props:{expand:{type:Boolean,default:!0},timeout:{type:Number,default:200}},watch:{expand(e){this.show=e}},mounted(){this.show=this.expand,this.show&&(this.useAnimation=!0,this.opacity="")},methods:{beforeEnter(e){e.style.height=0,e.style.transition="height "+this.timeout+"ms linear",e.style.webkitTransition="height "+this.timeout+"ms linear",this.$emit("before-slide-down",this.$el)},enter(e){e.offsetWidth,e.style.height=this.height},afterEnter(e){e.style.transition="",e.style.webkitTransition="",e.style.height="",this.$emit("slide-down",this.$el)},beforeLeave(e){this.height||(this.height=u.element.getCssStyle(e,"height")),e.style.height=this.height,this.useAnimation&&(e.style.transition="height "+this.timeout+"ms linear",e.style.webkitTransition="height "+this.timeout+"ms linear",this.$emit("before-slide-up",this.$el))},leave(e){e.offsetWidth,e.style.height=0},afterLeave(e){e.style.height="",this.useAnimation?(e.style.transition="",e.style.webkitTransition="",this.$emit("slide-up",this.$el)):(this.useAnimation=!0,this.opacity="")}}},[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createBlock(t.Transition,{name:"mvi-transition-slide",onBeforeEnter:r.beforeEnter,onAfterEnter:r.afterEnter,onBeforeLeave:r.beforeLeave,onAfterLeave:r.afterLeave,onEnter:r.enter,onLeave:r.leave},{default:t.withCtx((()=>[t.withDirectives(t.createElementVNode("div",{class:"mvi-transition-slide",style:t.normalizeStyle({opacity:o.opacity})},[t.renderSlot(e.$slots,"default",{},void 0,!0)],4),[[t.vShow,o.show]])])),_:3},8,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave","onEnter","onLeave"])}],["__scopeId","data-v-446676c7"]]);Wi.install=e=>{e.component(Wi.name,Wi)};const ji={name:"m-collapse-item",inject:["collapse"],props:{icon:{type:[String,Object],default:null},title:{type:String,default:null},label:{type:String,default:null},disabled:{type:Boolean,default:!1},content:{type:String,default:""}},components:{Cell:V,TransitionSlide:Wi},setup:()=>({uid:t.getCurrentInstance().uid}),computed:{index(){return this.collapse.children.findIndex((e=>u.common.equal(e.uid,this.uid)))},cmpActive(){return!this.cmpDisabled&&this.collapse.active},expand(){let e=!1;return this.collapse.accordion||u.number.isNumber(this.collapse.modelValue)?this.collapse.modelValue===this.index&&(e=!0):Array.isArray(this.collapse.modelValue)&&this.collapse.modelValue.includes(this.index)&&(e=!0),e},cmpDisabled(){return this.collapse.disabled||this.disabled},isLast(){return this.collapse.children.length==this.index+1}},created(){this.collapse.children.push(this)},methods:{beforeSlideDown(){this.collapse.$emit("before-slide-down",this.index)},slideDown(){this.collapse.$emit("slide-down",this.index)},beforeSlideUp(){this.collapse.$emit("before-slide-up",this.index)},slideUp(){this.collapse.$emit("slide-up",this.index)},changeCollapse(){if(this.cmpDisabled)return!1;if(this.collapse.accordion)this.collapse.modelValue==this.index?this.collapse.$emit("update:modelValue",null):this.collapse.$emit("update:modelValue",this.index);else if(u.number.isNumber(this.collapse.modelValue))this.collapse.modelValue==this.index?this.collapse.$emit("update:modelValue",[]):this.collapse.$emit("update:modelValue",[this.collapse.modelValue,this.index]);else if(Array.isArray(this.collapse.modelValue)){let e=[...this.collapse.modelValue];e.includes(this.index)?(e=e.filter((e=>e!=this.index)),this.collapse.$emit("update:modelValue",e)):(e.push(this.index),this.collapse.$emit("update:modelValue",e))}else{let e=[];e.push(this.index),this.collapse.$emit("update:modelValue",e)}}}},Ui=["disabled"],Yi={class:"mvi-collapse-content"},qi=["textContent"];const Xi=T(ji,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Cell"),a=t.resolveComponent("TransitionSlide");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-collapse-item",r.collapse.outBorder?"border":""]),disabled:r.cmpDisabled||null},[t.createVNode(l,{class:t.normalizeClass(["mvi-collapse-cell",r.expand?"expand":""]),icon:s.icon,content:s.label,title:s.title,border:r.collapse.inBorder,arrow:"angle-right",onClick:r.changeCollapse,active:r.cmpActive,"no-wrap":r.collapse.noWrap},null,8,["class","icon","content","title","border","onClick","active","no-wrap"]),t.createVNode(a,{expand:r.expand,timeout:200,onBeforeSlideUp:r.beforeSlideUp,onSlideUp:r.slideUp,onBeforeSlideDown:r.beforeSlideDown,onSlideDown:r.slideDown},{default:t.withCtx((()=>[t.createElementVNode("div",Yi,[e.$slots.default?t.renderSlot(e.$slots,"default",{key:0},void 0,!0):(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(s.content)},null,8,qi))])])),_:3},8,["expand","onBeforeSlideUp","onSlideUp","onBeforeSlideDown","onSlideDown"])],10,Ui)}],["__scopeId","data-v-a25113d9"]]);Xi.install=e=>{e.component(Xi.name,Xi)};const Ki={name:"m-divider",props:{dashed:{type:Boolean,default:!1},color:{type:String,default:null}}},Zi={key:0,class:"mvi-divider-center"};const Gi=T(Ki,[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-divider",s.dashed?"dashed":""])},[t.createElementVNode("div",{class:"mvi-divider-left",style:t.normalizeStyle({borderColor:s.color||""})},null,4),this.$slots.default?(t.openBlock(),t.createElementBlock("div",Zi,[t.renderSlot(e.$slots,"default",{},void 0,!0)])):t.createCommentVNode("",!0),t.createElementVNode("div",{class:"mvi-divider-right",style:t.normalizeStyle({borderColor:s.color||""})},null,4)],2)}],["__scopeId","data-v-1eeeb2dd"]]);Gi.install=e=>{e.component(Gi.name,Gi)};const Qi=T({name:"m-roll",data:()=>({rollEl:null,timer:null,status:-1}),emits:["play","stop","pause"],props:{interval:{type:Number,default:5e3},direction:{type:String,default:"left",validator:e=>["left","right","top","bottom"].includes(e)},autoplay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},animation:{type:String,default:"linear",validator:e=>["linear","ease","ease-in","ease-out","ease-in-out"].includes(e)},clickStop:{type:Boolean,default:!1},hoverStop:{type:Boolean,default:!1}},mounted(){this.rollEl=this.$refs.roll,this.autoplay&&this.play()},computed:{rollStyle(){let e={};return"left"==this.direction?(e.left="100%",e.right="auto"):"right"==this.direction?(e.right="100%",e.left="auto"):"top"==this.direction?(e.top="100%",e.bottom="auto"):"bottom"==this.direction&&(e.bottom="100%",e.top="auto"),e},containerStyle(){let e={};return this.rollEl&&(e.height=u.element.getCssStyle(this.rollEl,"height")),e}},methods:{hoverIn(){this.hoverStop&&0==this.status&&this.pause()},hoverOut(){this.hoverStop&&1==this.status&&this.play()},clickStopFun(){this.clickStop&&(0==this.status?this.pause():1==this.status&&this.play())},play(){if(!this.$refs.roll)return;if(0==this.status)return;this.status=0;let e=u.element.getElementPoint(this.$refs.roll,this.$el),t=0;"left"==this.direction?t=Math.round((e.left+this.$refs.roll.offsetWidth)/(this.$el.offsetWidth+this.$refs.roll.offsetWidth)*this.interval):"right"==this.direction?t=Math.round((e.right+this.$refs.roll.offsetWidth)/(this.$el.offsetWidth+this.$refs.roll.offsetWidth)*this.interval):"top"==this.direction?t=Math.round((e.top+this.$refs.roll.offsetHeight)/(this.$el.offsetHeight+this.$refs.roll.offsetHeight)*this.interval):"bottom"==this.direction&&(t=Math.round((e.bottom+this.$refs.roll.offsetHeight)/(this.$el.offsetHeight+this.$refs.roll.offsetHeight)*this.interval)),this.$refs.roll.style.transition="all "+t+"ms "+this.animation,this.$refs.roll.style.webkitTransition="all "+t+"ms "+this.animation,setTimeout((()=>{this.$refs.roll&&("left"==this.direction?(this.$refs.roll.style.left=-this.$refs.roll.offsetWidth+"px",this.$refs.roll.style.right="auto"):"right"==this.direction?(this.$refs.roll.style.right=-this.$refs.roll.offsetWidth+"px",this.$refs.roll.style.left="auto"):"top"==this.direction?(this.$refs.roll.style.top=-this.$refs.roll.offsetHeight+"px",this.$refs.roll.style.bottom="auto"):"bottom"==this.direction&&(this.$refs.roll.style.bottom=-this.$refs.roll.offsetHeight+"px",this.$refs.roll.style.top="auto"),this.$emit("play"),this.timer=setTimeout((()=>{this.stop(),this.loop&&this.play()}),t))}),0)},stop(){2!=this.status&&(this.status=2,this.$refs.roll.style.transition="",this.$refs.roll.style.webkitTransition="","left"==this.direction?(this.$refs.roll.style.left="100%",this.$refs.roll.style.right="auto"):"right"==this.direction?(this.$refs.roll.style.right="100%",this.$refs.roll.style.left="auto"):"top"==this.direction?(this.$refs.roll.style.top="100%",this.$refs.roll.style.bottom="auto"):"bottom"==this.direction&&(this.$refs.roll.style.bottom="100%",this.$refs.roll.style.top="auto"),this.timer&&(clearTimeout(this.timer),this.timer=null),this.$emit("stop"))},pause(){if(0!=this.status)return;this.status=1;let e=u.element.getElementPoint(this.$refs.roll,this.$el);this.$refs.roll.style.transition="",this.$refs.roll.style.webkitTransition="",this.timer&&(clearTimeout(this.timer),this.timer=null),"left"==this.direction?(this.$refs.roll.style.left=e.left+"px",this.$refs.roll.style.right="auto"):"right"==this.direction?(this.$refs.roll.style.right=e.right+"px",this.$refs.roll.style.left="auto"):"top"==this.direction?(this.$refs.roll.style.top=e.top+"px",this.$refs.roll.style.bottom="auto"):"bottom"==this.direction&&(this.$refs.roll.style.bottom=e.bottom+"px",this.$refs.roll.style.top="auto"),this.$emit("pause")}},beforeUnmount(){this.stop()}},[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createElementBlock("div",{onClick:i[0]||(i[0]=(...e)=>r.clickStopFun&&r.clickStopFun(...e)),onMouseenter:i[1]||(i[1]=(...e)=>r.hoverIn&&r.hoverIn(...e)),onMouseleave:i[2]||(i[2]=(...e)=>r.hoverOut&&r.hoverOut(...e)),class:"mvi-roll-container",style:t.normalizeStyle(r.containerStyle)},[t.createElementVNode("div",{class:t.normalizeClass(["mvi-roll","left"==s.direction||"right"==s.direction?"horizontal":"vertical"]),style:t.normalizeStyle(r.rollStyle),ref:"roll"},[t.renderSlot(e.$slots,"default",{},void 0,!0)],6)],36)}],["__scopeId","data-v-5de2e07e"]]);Qi.install=e=>{e.component(Qi.name,Qi)};const Ji=T({name:"m-steps",data:()=>({children:[]}),props:{active:{type:Number,default:0},vertical:{type:Boolean,default:!1},activeColor:{type:String,default:null},inactiveColor:{type:String,default:null},activeIcon:{type:[String,Object],default:"success-o"},inactiveIcon:{type:[String,Object],default:null}},provide(){return{steps:this}}},[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-steps",s.vertical?"vertical":""])},[t.renderSlot(e.$slots,"default",{},void 0,!0)],2)}],["__scopeId","data-v-c61b4376"]]);Ji.install=e=>{e.component(Ji.name,Ji)};const es={key:0,class:"mvi-step-vertical"},ts={class:"mvi-step-vertical-container"},is={class:"mvi-step-vertical-icon"},ss={class:"mvi-step-container"};const ns=T({name:"m-step",data:()=>({elm:null}),setup:()=>({uid:t.getCurrentInstance().uid}),inject:["steps"],created(){this.steps.children.push(this)},mounted(){this.elm=this.$el},computed:{parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},stepIndex(){return this.steps.children.findIndex((e=>u.common.equal(e.uid,this.uid)))},labelStyle(){let e={};return this.steps.activeColor&&this.steps.active==this.stepIndex&&(e.color=this.steps.activeColor),this.steps.inactiveColor&&this.steps.active!=this.stepIndex&&(e.color=this.steps.inactiveColor),e},activeIconStyle(){let e={};return this.steps.activeColor&&this.steps.active==this.stepIndex&&(e.color=this.steps.activeColor),e},inactiveIconStyle(){let e={};return this.steps.inactiveColor&&this.stepIndex>this.steps.active&&(e.color=this.steps.inactiveColor),this.steps.activeColor&&this.stepIndex<=this.steps.active&&(e.color=this.steps.activeColor),e},circleStyle(){let e={};return this.stepIndex<=this.steps.active?this.steps.activeColor&&(e.backgroundColor=this.steps.activeColor):this.steps.inactiveColor&&(e.backgroundColor=this.steps.inactiveColor),e},activeCircleStyle(){let e={};return this.steps.activeColor&&this.steps.active==this.stepIndex&&(e.backgroundColor=this.steps.activeColor),e},lineStyle(){let e={};return this.steps.activeColor&&this.stepIndex<this.steps.active&&(this.steps.vertical?e.borderRightColor=this.steps.activeColor:e.borderTopColor=this.steps.activeColor),this.steps.inactiveColor&&this.stepIndex>=this.steps.active&&(this.steps.vertical?e.borderRightColor=this.steps.inactiveColor:e.borderTopColor=this.steps.inactiveColor),e},stepIconStyle(){let e={};return this.elm&&(e.backgroundColor=u.element.getCssStyle(this.steps.$el,"background-color")),e}},components:{Icon:$}},[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon");return r.steps.vertical?(t.openBlock(),t.createElementBlock("div",es,[t.createElementVNode("div",{class:t.normalizeClass(["mvi-step-vertical-label",r.stepIndex==r.steps.active?"finish":""]),style:t.normalizeStyle(r.labelStyle)},[t.renderSlot(e.$slots,"default",{},void 0,!0)],6),t.createElementVNode("div",ts,[t.createElementVNode("div",is,[r.steps.active==r.stepIndex&&(r.parseIcon(r.steps.activeIcon).type||r.parseIcon(r.steps.activeIcon).url)?(t.openBlock(),t.createBlock(l,{key:0,class:"mvi-step-icon-active-el",type:r.parseIcon(r.steps.activeIcon).type,url:r.parseIcon(r.steps.activeIcon).url,spin:r.parseIcon(r.steps.activeIcon).spin,size:r.parseIcon(r.steps.activeIcon).size,color:r.parseIcon(r.steps.activeIcon).color,style:t.normalizeStyle(r.activeIconStyle)},null,8,["type","url","spin","size","color","style"])):r.steps.active==r.stepIndex?(t.openBlock(),t.createElementBlock("div",{key:1,class:"mvi-step-circle-active",style:t.normalizeStyle(r.activeCircleStyle)},null,4)):r.parseIcon(r.steps.inactiveIcon).type||r.parseIcon(r.steps.inactiveIcon).url?(t.openBlock(),t.createBlock(l,{key:2,class:t.normalizeClass(["mvi-step-icon-inactive-el",r.stepIndex<=r.steps.active?"finish":""]),type:r.parseIcon(r.steps.inactiveIcon).type,url:r.parseIcon(r.steps.inactiveIcon).url,spin:r.parseIcon(r.steps.inactiveIcon).spin,size:r.parseIcon(r.steps.inactiveIcon).size,color:r.parseIcon(r.steps.inactiveIcon).color,style:t.normalizeStyle(r.inactiveIconStyle)},null,8,["class","type","url","spin","size","color","style"])):(t.openBlock(),t.createElementBlock("div",{key:3,class:t.normalizeClass(["mvi-step-circle",r.stepIndex<=r.steps.active?"finish":""]),style:t.normalizeStyle(r.circleStyle)},null,6))]),t.createElementVNode("div",{class:t.normalizeClass(["mvi-step-vertical-line",r.stepIndex==r.steps.children.length-1?"last":"",r.stepIndex<r.steps.active?"finish":""]),style:t.normalizeStyle(r.lineStyle)},null,6)])])):(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(["mvi-step",r.stepIndex==r.steps.children.length-1?"last":""])},[t.createElementVNode("div",{class:t.normalizeClass(["mvi-step-label",r.stepIndex==r.steps.children.length-1?"last":"",0==r.stepIndex?"first":"",r.stepIndex==r.steps.active?"finish":""]),style:t.normalizeStyle(r.labelStyle)},[t.createElementVNode("div",null,[t.renderSlot(e.$slots,"default",{},void 0,!0)])],6),t.createElementVNode("div",ss,[t.createElementVNode("div",{class:t.normalizeClass(["mvi-step-icon",r.stepIndex==r.steps.children.length-1?"last":""]),style:t.normalizeStyle(r.stepIconStyle)},[r.steps.active==r.stepIndex&&(r.parseIcon(r.steps.activeIcon).type||r.parseIcon(r.steps.activeIcon).url)?(t.openBlock(),t.createBlock(l,{key:0,class:"mvi-step-icon-active-el",type:r.parseIcon(r.steps.activeIcon).type,url:r.parseIcon(r.steps.activeIcon).url,spin:r.parseIcon(r.steps.activeIcon).spin,size:r.parseIcon(r.steps.activeIcon).size,color:r.parseIcon(r.steps.activeIcon).color,style:t.normalizeStyle(r.activeIconStyle)},null,8,["type","url","spin","size","color","style"])):r.steps.active==r.stepIndex?(t.openBlock(),t.createElementBlock("div",{key:1,class:"mvi-step-circle-active",style:t.normalizeStyle(r.activeCircleStyle)},null,4)):r.parseIcon(r.steps.inactiveIcon).type||r.parseIcon(r.steps.inactiveIcon).url?(t.openBlock(),t.createBlock(l,{key:2,class:t.normalizeClass(["mvi-step-icon-inactive-el",r.stepIndex<=r.steps.active?"finish":""]),type:r.parseIcon(r.steps.inactiveIcon).type,url:r.parseIcon(r.steps.inactiveIcon).url,spin:r.parseIcon(r.steps.inactiveIcon).spin,size:r.parseIcon(r.steps.inactiveIcon).size,color:r.parseIcon(r.steps.inactiveIcon).color,style:t.normalizeStyle(r.inactiveIconStyle)},null,8,["class","type","url","spin","size","color","style"])):(t.openBlock(),t.createElementBlock("div",{key:3,class:t.normalizeClass(["mvi-step-circle",r.stepIndex<=r.steps.active?"finish":""]),style:t.normalizeStyle(r.circleStyle)},null,6))],6),t.createElementVNode("div",{class:t.normalizeClass(["mvi-step-line",r.stepIndex==r.steps.children.length-1?"last":"",r.stepIndex<r.steps.active?"finish":""]),style:t.normalizeStyle(r.lineStyle)},null,6)])],2))}],["__scopeId","data-v-0c19a341"]]);ns.install=e=>{e.component(ns.name,ns)};const os=T({name:"m-label",data:()=>({show:!0}),props:{type:{type:String,default:"default",validator:e=>["default","error","info","primary","success","warn"].includes(e)},size:{type:String,default:"medium",validator:e=>["medium","large"].includes(e)},color:{type:String,default:null},plain:{type:Boolean,default:!1},round:{type:Boolean,default:!1},mark:{type:Boolean,default:!1},subColor:{type:String,default:null},closable:{type:Boolean,default:!1},reverse:{type:Boolean,default:!1}},computed:{labelClass(){let e=["mvi-label"];return this.size&&e.push(this.size),this.type&&e.push(this.type),this.plain&&e.push("plain"),this.round&&e.push("round"),this.mark&&(e.push("mark"),this.reverse&&e.push("reverse")),e},labelStyle(){let e={};return this.color&&(this.plain?(e.borderColor=this.color,e.color=this.color,e.backgroundColor=this.subColor||"#fff"):(e.backgroundColor=this.color,e.borderColor=this.color,e.color=this.subColor||"#fff")),e}},components:{Icon:$},methods:{closeLabel(){this.show=!1}}},[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon");return s.closable?(t.openBlock(),t.createBlock(t.Transition,{key:0,name:"mvi-label"},{default:t.withCtx((()=>[o.show?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(r.labelClass),style:t.normalizeStyle(r.labelStyle)},[t.renderSlot(e.$slots,"default",{},void 0,!0),t.createElementVNode("span",{class:"mvi-label-closable",onClick:i[0]||(i[0]=(...e)=>r.closeLabel&&r.closeLabel(...e))},[t.createVNode(l,{type:"times"})])],6)):t.createCommentVNode("",!0)])),_:3})):(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(r.labelClass),style:t.normalizeStyle(r.labelStyle)},[t.renderSlot(e.$slots,"default",{},void 0,!0)],6))}],["__scopeId","data-v-bb5198b2"]]);os.install=e=>{e.component(os.name,os)};const rs={name:"m-swiper",provide(){return{swiper:this}},emits:["before-change","change"],data:()=>({elm:null,sizeCounts:0,children:[],start:0,initStart:0,transform:0,timer:null,totalMove:0,oldIndex:-1,amounts:0,mouseDown:!1,fadeActiveIndex:0,useOpacity:!0,apiDoSlide:!1}),props:{autoplay:{type:Boolean,default:!1},speed:{type:Number,default:500},interval:{type:Number,default:5e3},initialSlide:{type:Number,default:0},width:{type:String,default:null},height:{type:String,default:null},loop:{type:Boolean,default:!1},showIndicators:{type:Boolean,default:!1},activeColor:{type:String,default:null},inactiveColor:{type:String,default:null},vertical:{type:Boolean,default:!1},touchable:{type:Boolean,default:!0},showControl:{type:Boolean,default:!1},fade:{type:Boolean,default:!1}},computed:{indicatorStyle(){return e=>{let t={};return this.isIndicatorActive(e)?this.activeColor&&(t.backgroundColor=this.activeColor):this.inactiveColor&&(t.backgroundColor=this.inactiveColor),t}},wrapperStyle(){let e={};return this.vertical?(e.height="calc(100% * "+this.children.length+")",e.transform="translateY("+this.transform+"px)",e.webkitTransform="translateY("+this.transform+"px)"):(e.width="calc(100% * "+this.children.length+")",e.transform="translateX("+this.transform+"px)",e.webkitTransform="translateX("+this.transform+"px)"),e},containerStyle(){let e={};return this.width&&(e.width=this.width),this.height&&(e.height=this.height),e},slideSize(){this.sizeCounts;let e=0;return this.vertical?this.height?this.height.includes("rem")?e=u.element.rem2px(parseFloat(this.height)):this.height.includes("px")?e=parseFloat(this.height):this.elm&&(e=parseFloat(u.element.getCssStyle(this.elm,"height"))):this.elm&&(e=parseFloat(u.element.getCssStyle(this.elm,"height"))):this.width?this.width.includes("rem")?e=u.element.rem2px(parseFloat(this.width)):this.width.includes("px")?e=parseFloat(this.width):this.elm&&(e=parseFloat(u.element.getCssStyle(this.elm,"width"))):this.elm&&(e=parseFloat(u.element.getCssStyle(this.elm,"width"))),Number(e.toFixed(2))},activeIndex(){let e=0;return e=this.totalMove<=0?this.mathNext(Math.abs(u.number.divide(this.transform,this.slideSize))):this.mathPrev(Math.abs(u.number.divide(this.transform,this.slideSize))),e>this.children.length-1?e=this.children.length-1:e<0&&(e=0),e},indicatorsIndex(){let e=0;return e=this.fade?this.fadeActiveIndex:this.loop?this.activeIndex==this.children.length-1?0:0==this.activeIndex?this.children.length-3:this.activeIndex-1:this.activeIndex,e},cmpInitalSlide(){return this.loop?this.initialSlide<this.children.length-2?this.initialSlide+1:1:this.initialSlide},controlStyle:()=>e=>{let t={};return 0==e?(t.left="0",t.right="auto"):(t.left="auto",t.right="0"),t},indicatorShow(){return e=>!!this.fade||(!this.loop||0!=e&&e!=this.children.length-1)},indicatorsTotal(){return this.fade?this.children.length:this.loop?this.children.length-2>0?this.children.length-2:0:this.children.length},isIndicatorActive(){return e=>this.fade?this.indicatorsIndex==e:this.loop?this.indicatorsIndex+1==e:this.indicatorsIndex==e}},components:{Icon:$},watch:{autoplay(){this.setAutoplay()},initialSlide(e){this.fade?(this.useOpacity=!1,this.fadeActiveIndex=e):this.setDefaultSlide()}},created(){this.fade&&(this.fadeActiveIndex=this.initialSlide)},setup:()=>({uid:t.getCurrentInstance().uid}),mounted(){if(this.elm=this.$el,0!=this.children.length){if(this.fade)this.setAutoplay();else{if(this.loop&&this.children.length>0){let e=this.children[0].$el.cloneNode(!0),t=this.children[this.children.length-1].$el.cloneNode(!0);this.$refs.wrapper.append(e),this.$refs.wrapper.prepend(t),this.children.unshift({$el:t}),this.children.push({$el:e})}this.setDefaultSlide(),u.event.on(document.documentElement,`mousemove.swiper_${this.uid}`,this.swiperMouseMove),u.event.on(document.documentElement,`mouseup.swiper_${this.uid}`,this.swiperMouseUp)}u.event.on(window,`resize.swiper_${this.uid}`,this.resizeChange)}},methods:{resizeChange(){this.sizeCounts++,this.transform=-u.number.mutiply(this.activeIndex,this.slideSize)},setAutoplay(){0!=this.children.length&&(this.autoplay&&!this.timer&&this.interval>this.speed?this.timer=setInterval((()=>{this.slideNext()}),this.interval):this.timer&&(clearInterval(this.timer),this.timer=null))},swiperTouchStart(e){0!=this.children.length&&this.touchable&&(this.apiDoSlide||(this.timer&&(clearInterval(this.timer),this.timer=null),this.amounts=0,this.totalMove=0,this.vertical?this.start=e.targetTouches[0].pageY:this.start=e.targetTouches[0].pageX,this.initStart=this.start,this.removeTransition()))},swiperTouchMove(e){if(0==this.children.length)return;if(!this.touchable)return;e.cancelable&&e.preventDefault();let t=0;t=this.vertical?e.targetTouches[0].pageY:e.targetTouches[0].pageX;let i=t-this.start;if(this.totalMove=t-this.initStart,this.totalMove>0){if(this.transform>=0)return this.amounts++,this.transform=u.number.add(this.transform,u.number.divide(i,this.amounts)),void(this.start=t)}else if(this.transform<=-u.number.mutiply(this.children.length-1,this.slideSize))return this.amounts++,this.transform=u.number.add(this.transform,u.number.divide(i,this.amounts)),void(this.start=t);this.start=t,this.transform=u.number.add(this.transform,i)},swiperTouchEnd(e){0!=this.children.length&&this.touchable&&this.addTransition().then((()=>{this.transform=-u.number.mutiply(this.activeIndex,this.slideSize),setTimeout((()=>{this.slideDone()}),this.speed)}))},swiperMouseDown(e){0!=this.children.length&&this.touchable&&(this.apiDoSlide||(this.timer&&(clearInterval(this.timer),this.timer=null),this.mouseDown=!0,this.amounts=0,this.totalMove=0,this.vertical?this.start=e.pageY:this.start=e.pageX,this.initStart=this.start,this.removeTransition()))},swiperMouseMove(e){if(0==this.children.length)return;if(!this.touchable)return;if(!this.mouseDown)return;e.cancelable&&e.preventDefault();let t=0;t=this.vertical?e.pageY:e.pageX;let i=t-this.start;if(this.totalMove=t-this.initStart,this.totalMove>0){if(this.transform>=0)return this.amounts++,this.transform=u.number.add(this.transform,u.number.divide(i,this.amounts)),void(this.start=t)}else if(this.transform<=-u.number.mutiply(this.children.length-1,this.slideSize))return this.amounts++,this.transform=u.number.add(this.transform,u.number.divide(i,this.amounts)),void(this.start=t);this.start=t,this.transform=u.number.add(this.transform,i)},swiperMouseUp(e){0!=this.children.length&&this.touchable&&this.mouseDown&&(this.mouseDown=!1,this.addTransition().then((()=>{this.transform=-u.number.mutiply(this.activeIndex,this.slideSize),setTimeout((()=>{this.slideDone()}),this.speed)})))},setDefaultSlide(){if(0!=this.children.length&&!this.fade){if(!this.$refs.wrapper)return;this.removeTransition().then((()=>{this.transform=-u.number.mutiply(this.cmpInitalSlide,this.slideSize),this.$nextTick((()=>{setTimeout((()=>{this.$refs.wrapper&&this.addTransition().then((()=>{this.oldIndex=this.initialSlide,this.setAutoplay()}))}),50)}))}))}},addTransition(){return new Promise(((e,t)=>{this.$refs.wrapper.style.transition="transform "+this.speed+"ms",this.$refs.wrapper.style.webkitTransition="transform "+this.speed+"ms",setTimeout((()=>{e()}),10)}))},removeTransition(){return new Promise(((e,t)=>{this.$refs.wrapper.style.transition="",this.$refs.wrapper.style.webkitTransition="",setTimeout((()=>{e()}),10)}))},slideDone(){return new Promise(((e,t)=>{this.loop?this.transform==-u.number.mutiply(this.children.length-1,this.slideSize)?this.removeTransition().then((()=>{this.transform=-this.slideSize,this.$nextTick((()=>{setTimeout((()=>{this.addTransition().then((()=>{this.indicatorsIndex!=this.oldIndex&&(this.oldIndex=this.indicatorsIndex,this.$emit("change",this.indicatorsIndex)),this.setAutoplay(),e()}))}),50)}))})):0==this.transform?this.removeTransition().then((()=>{this.transform=-u.number.mutiply(this.children.length-2,this.slideSize),this.$nextTick((()=>{setTimeout((()=>{this.addTransition().then((()=>{this.indicatorsIndex!=this.oldIndex&&(this.oldIndex=this.indicatorsIndex,this.$emit("change",this.indicatorsIndex)),this.setAutoplay(),e()}))}),50)}))})):(this.indicatorsIndex!=this.oldIndex&&(this.oldIndex=this.indicatorsIndex,this.$emit("change",this.indicatorsIndex)),this.setAutoplay(),e()):(this.indicatorsIndex!=this.oldIndex&&(this.oldIndex=this.indicatorsIndex,this.$emit("change",this.indicatorsIndex)),this.setAutoplay(),e())}))},mathNext(e){const t=Math.floor(e);return u.number.subtract(e,t)>=.25?t+1:t},mathPrev(e){const t=Math.floor(e);return u.number.subtract(e,t)<=.75?t:t+1},slideTo(e){return new Promise(((t,i)=>{if(0!=this.children.length)if(this.fade)e>this.children.length-1?e=this.children.length-1:e<0&&(e=0),this.fadeActiveIndex!=e?(this.$emit("before-change",this.fadeActiveIndex),this.fadeActiveIndex=e,this.timer&&(clearInterval(this.timer),this.timer=null),setTimeout((()=>{this.$emit("change",this.fadeActiveIndex),this.setAutoplay(),t()}),this.speed)):t();else if(this.oldIndex>e){if(this.transform>=0)return void t();this.apiDoSlide=!0,this.$emit("before-change",this.oldIndex),this.timer&&(clearInterval(this.timer),this.timer=null),this.addTransition().then((()=>{this.transform=u.number.add(this.transform,u.number.mutiply(this.oldIndex-e,this.slideSize)),setTimeout((()=>{this.slideDone().then((()=>{this.apiDoSlide=!1,t()}))}),this.speed)}))}else{if(this.transform<=-u.number.mutiply(this.children.length-1,this.slideSize))return void t();this.apiDoSlide=!0,this.$emit("before-change",this.oldIndex),this.timer&&(clearInterval(this.timer),this.timer=null),this.addTransition().then((()=>{this.transform=u.number.subtract(this.transform,u.number.mutiply(e-this.oldIndex,this.slideSize)),setTimeout((()=>{this.slideDone().then((()=>{this.apiDoSlide=!1,t()}))}),this.speed)}))}else t()}))},slideNext(){return new Promise(((e,t)=>{if(0!=this.children.length)if(this.fade)this.loop?(this.$emit("before-change",this.fadeActiveIndex),this.fadeActiveIndex==this.children.length-1?this.fadeActiveIndex=0:this.fadeActiveIndex++,this.timer&&(clearInterval(this.timer),this.timer=null),setTimeout((()=>{this.$emit("change",this.fadeActiveIndex),this.setAutoplay(),e()}),this.speed)):this.fadeActiveIndex!=this.children.length-1?(this.$emit("before-change",this.fadeActiveIndex),this.fadeActiveIndex++,this.timer&&(clearInterval(this.timer),this.timer=null),setTimeout((()=>{this.$emit("change",this.fadeActiveIndex),this.setAutoplay(),e()}),this.speed)):e();else{if(this.transform<=-u.number.mutiply(this.children.length-1,this.slideSize))return void e();this.apiDoSlide=!0,this.$emit("before-change",this.oldIndex),this.timer&&(clearInterval(this.timer),this.timer=null),this.addTransition().then((()=>{this.transform=u.number.subtract(this.transform,this.slideSize),setTimeout((()=>{this.slideDone().then((()=>{this.apiDoSlide=!1,e()}))}),this.speed)}))}else e()}))},slidePrev(){return new Promise(((e,t)=>{if(0!=this.children.length)if(this.fade)this.loop?(this.$emit("before-change",this.fadeActiveIndex),0==this.fadeActiveIndex?this.fadeActiveIndex=this.children.length-1:this.fadeActiveIndex--,this.timer&&(clearInterval(this.timer),this.timer=null),setTimeout((()=>{this.$emit("change",this.fadeActiveIndex),this.setAutoplay(),e()}),this.speed)):0!=this.fadeActiveIndex?(this.$emit("before-change",this.fadeActiveIndex),this.fadeActiveIndex--,this.timer&&(clearInterval(this.timer),this.timer=null),setTimeout((()=>{this.$emit("change",this.fadeActiveIndex),this.setAutoplay(),e()}),this.speed)):e();else{if(this.transform>=0)return void e();this.apiDoSlide=!0,this.$emit("before-change",this.oldIndex),this.timer&&(clearInterval(this.timer),this.timer=null),this.addTransition().then((()=>{this.transform=u.number.add(this.transform,this.slideSize),setTimeout((()=>{this.slideDone().then((()=>{this.apiDoSlide=!1,e()}))}),this.speed)}))}else e()}))}},beforeUnmount(){this.timer&&(clearInterval(this.timer),this.timer=null),this.fade||u.event.off(document.documentElement,`mousemove.swiper_${this.uid} mouseup.swiper_${this.uid}`),u.event.off(window,`resize.swiper_${this.uid}`)}},ls={key:0,class:"mvi-swiper-fade"},as={key:3,class:"mvi-swiper-indicators"},cs=["onClick"];const hs=T(rs,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-swiper-container",s.vertical?"vertical":""]),style:t.normalizeStyle(r.containerStyle)},[s.fade?(t.openBlock(),t.createElementBlock("div",ls,[t.renderSlot(e.$slots,"default",{},void 0,!0)])):(t.openBlock(),t.createElementBlock("div",{key:1,class:"mvi-swiper-wrapper",ref:"wrapper",style:t.normalizeStyle(r.wrapperStyle),onTouchstart:i[0]||(i[0]=(...e)=>r.swiperTouchStart&&r.swiperTouchStart(...e)),onTouchmove:i[1]||(i[1]=(...e)=>r.swiperTouchMove&&r.swiperTouchMove(...e)),onTouchend:i[2]||(i[2]=(...e)=>r.swiperTouchEnd&&r.swiperTouchEnd(...e)),onMousedown:i[3]||(i[3]=(...e)=>r.swiperMouseDown&&r.swiperMouseDown(...e))},[t.renderSlot(e.$slots,"default",{},void 0,!0)],36)),e.$slots.indicators?t.renderSlot(e.$slots,"indicators",{key:2,active:r.indicatorsIndex,total:r.indicatorsTotal},void 0,!0):s.showIndicators?(t.openBlock(),t.createElementBlock("div",as,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(o.children,((e,i)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[r.indicatorShow(i)?(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-swiper-indicator",r.isIndicatorActive(i)?"active":""]),style:t.normalizeStyle(r.indicatorStyle(i)),key:"indicator-"+i,onClick:e=>r.slideTo(s.fade?i:s.loop?i-1:i)},null,14,cs)):t.createCommentVNode("",!0)],64)))),256))])):t.createCommentVNode("",!0),s.showControl?(t.openBlock(),t.createElementBlock("div",{key:4,class:"mvi-swiper-control",style:t.normalizeStyle(r.controlStyle(0)),onClick:i[4]||(i[4]=(...e)=>r.slidePrev&&r.slidePrev(...e))},[t.createVNode(l,{type:"angle-left"})],4)):t.createCommentVNode("",!0),s.showControl?(t.openBlock(),t.createElementBlock("div",{key:5,class:"mvi-swiper-control",style:t.normalizeStyle(r.controlStyle(1)),onClick:i[5]||(i[5]=(...e)=>r.slideNext&&r.slideNext(...e))},[t.createVNode(l,{type:"angle-right"})],4)):t.createCommentVNode("",!0)],6)}],["__scopeId","data-v-3e00cf07"]]);hs.install=e=>{e.component(hs.name,hs)};const ds=T({name:"m-swiper-slide",setup:()=>({uid:t.getCurrentInstance().uid}),inject:["swiper"],created(){this.swiper.children.push(this)},computed:{slideStyle(){let e={};return this.swiper.vertical?(e.width="100%",e.height=this.swiper.fade?"100%":"calc(100% * "+1/this.swiper.children.length+")"):(e.height="100%",e.width=this.swiper.fade?"100%":"calc(100% * "+1/this.swiper.children.length+")"),e},slideIndex(){return this.swiper.children.findIndex((e=>u.common.equal(e.uid,this.uid)))}},methods:{addTransition(e){this.swiper.useOpacity?(e.style.transition="opacity "+this.swiper.speed+"ms",e.style.webkitTransition="opacity "+this.swiper.speed+"ms"):(e.style.transition="",e.style.webkitTransition="")},removeTransition(e){this.swiper.useOpacity?(e.style.transition="",e.style.webkitTransition=""):this.swiper.useOpacity=!0}}},[["render",function(e,i,s,n,o,r){return r.swiper.fade?(t.openBlock(),t.createBlock(t.Transition,{key:0,name:"mvi-swiper-slide",onBeforeEnter:r.addTransition,onAfterEnter:r.removeTransition,onBeforeLeave:r.addTransition,onAfterLeave:r.removeTransition},{default:t.withCtx((()=>[t.withDirectives(t.createElementVNode("div",{class:"mvi-swiper-slide-fade",style:t.normalizeStyle(r.slideStyle)},[t.renderSlot(e.$slots,"default",{},void 0,!0)],4),[[t.vShow,r.swiper.fadeActiveIndex==r.slideIndex]])])),_:3},8,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])):(t.openBlock(),t.createElementBlock("div",{key:1,class:"mvi-swiper-slide",style:t.normalizeStyle(r.slideStyle)},[t.renderSlot(e.$slots,"default",{},void 0,!0)],4))}],["__scopeId","data-v-1cd4abbd"]]);ds.install=e=>{e.component(ds.name,ds)};const ms={name:"m-tabs",data:()=>({children:[],slideLeft:0,slideWidth:0,current:0}),provide(){return{tabs:this}},emits:["update:modelValue","change"],props:{type:{type:String,default:"default",validator:e=>["default","card"].includes(e)},modelValue:{type:Number,default:0},animation:{type:String,default:"none",validator:e=>["none","slide","fade"].includes(e)},timeout:{type:Number,default:200},ellipsis:{type:Boolean,default:!0},border:{type:Boolean,default:!1},flex:{type:String,default:"space-between"},offset:{type:String,default:"0"},activeColor:{type:String,default:null}},computed:{sliderStyle(){let e={};return"slide"!=this.animation&&"fade"!=this.animation||(e.transition="left "+this.timeout+"ms,width "+this.timeout+"ms",e.webkitTransition="left "+this.timeout+"ms,width "+this.timeout+"ms"),this.activeColor&&(e.background=this.activeColor),e.width=this.slideWidth+"px",e.left=this.slideLeft+"px",e},headersStyle(){let e={};return this.flex&&"default"==this.type&&(e.justifyContent=this.flex),"card"==this.type&&this.activeColor&&(e.borderColor=this.activeColor),e},headerClass(){return(e,t)=>{let i=["mvi-tab-header"];return this.modelValue==t&&i.push("active"),this.ellipsis&&i.push("ellipsis"),i}},headerStyle(){return(e,t)=>{let i={};return this.offset&&0!=t&&"default"==this.type&&(i.marginLeft=this.offset),this.activeColor&&(i.borderColor=this.activeColor,this.modelValue==t&&("default"==this.type?i.color=this.activeColor:i.background=this.activeColor)),i.maxWidth=`calc(100% / ${this.children.length})`,i}},parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t}},components:{Icon:$},created(){this.current=this.modelValue},watch:{modelValue(e,t){this.to(e,t)}},setup:()=>({uid:t.getCurrentInstance().uid}),mounted(){this.$nextTick((()=>{this.setSlider()})),this.setHeight(),u.event.on(window,`resize.tabs_${this.uid}`,this.setHeight)},methods:{clickHeader(e,t){e.disabled||this.modelValue!=t&&(this.$emit("update:modelValue",t),this.$emit("change",t))},to(e,t){for(let i=0;i<this.children.length;i++)this.children[i].show=!1,this.children[i].back=e<t;this.children[e].show=!0,this.children[e].firstShow||(this.children[e].firstShow=!0),this.$nextTick((()=>{this.current=e,this.setHeight(),this.setSlider()}))},setHeight(){this.children[this.current]&&this.$refs.content&&(this.$refs.content.style.height=this.children[this.current].$el.offsetHeight+"px")},setSlider(){"card"!=this.type&&this.$refs.headers&&(this.slideWidth=parseFloat(u.element.getCssStyle(this.$refs.headers.querySelector(".mvi-tab-header.active"),"width")),this.slideLeft=u.element.getElementPoint(this.$refs.headers.querySelector(".mvi-tab-header.active"),this.$refs.headers).left)}},beforeUnmount(){u.event.off(window,`resize.tabs_${this.uid}`)}},us={class:"mvi-tabs"},ps=["onClick","disabled"],fs=["innerHTML"],gs={class:"mvi-tabs-content",ref:"content"};const ys=T(ms,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",us,[t.createElementVNode("div",{ref:"headers",class:t.normalizeClass(["mvi-tabs-header","card"==s.type?"card":"","default"==s.type&&s.border?"border":""]),style:t.normalizeStyle(r.headersStyle)},["default"==s.type?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-tabs-slider",style:t.normalizeStyle(r.sliderStyle)},null,4)):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(o.children,((e,i)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(r.headerClass(e,i)),onClick:t=>r.clickHeader(e,i),style:t.normalizeStyle(r.headerStyle(e,i)),disabled:e.disabled||null},["left"==e.placement&&(r.parseIcon(e.icon).type||r.parseIcon(e.icon).url)?(t.openBlock(),t.createBlock(l,{key:0,class:t.normalizeClass(["mvi-tab-icon",e.title?"left":""]),type:r.parseIcon(e.icon).type,url:r.parseIcon(e.icon).url,spin:r.parseIcon(e.icon).spin,size:r.parseIcon(e.icon).size,color:r.parseIcon(e.icon).color},null,8,["class","type","url","spin","size","color"])):t.createCommentVNode("",!0),e.title?(t.openBlock(),t.createElementBlock("span",{key:1,class:"mvi-tab-header-text",innerHTML:e.title},null,8,fs)):t.createCommentVNode("",!0),"right"==e.placement&&(r.parseIcon(e.icon).type||r.parseIcon(e.icon).url)?(t.openBlock(),t.createBlock(l,{key:2,class:t.normalizeClass(["mvi-tab-icon",e.title?"right":""]),type:r.parseIcon(e.icon).type,url:r.parseIcon(e.icon).url,spin:r.parseIcon(e.icon).spin,size:r.parseIcon(e.icon).size,color:r.parseIcon(e.icon).color},null,8,["class","type","url","spin","size","color"])):t.createCommentVNode("",!0)],14,ps)))),256))],6),t.createElementVNode("div",gs,[t.renderSlot(e.$slots,"default",{},void 0,!0)],512)])}],["__scopeId","data-v-b7e3e17c"]]);ys.install=e=>{e.component(ys.name,ys)};const bs=T({name:"m-tab",inject:["tabs"],data:()=>({show:!1,back:!1,firstShow:!1}),setup:()=>({uid:t.getCurrentInstance().uid}),created(){this.tabs.children.push(this),this.tabs.modelValue==this.tabIndex&&(this.show=!0,this.firstShow||(this.firstShow=!0))},props:{title:{type:String,default:""},icon:{type:[String,Object],default:null},disabled:{type:Boolean,default:!1},placement:{type:String,default:"left",validator:e=>["left","right"].includes(e)}},computed:{tabStyle(){let e={};return"slide"==this.tabs.animation?(e.transition="left "+this.tabs.timeout+"ms,opacity "+this.tabs.timeout+"ms",e.webkitTransition="left "+this.tabs.timeout+"ms,opacity "+this.tabs.timeout+"ms"):"fade"==this.tabs.animation&&(e.transition="opacity "+this.tabs.timeout+"ms",e.webkitTransition="opacity "+this.tabs.timeout+"ms"),e},tabIndex(){return this.tabs.children.findIndex((e=>u.common.equal(e.uid,this.uid)))}},unmounted(){this.tabs.children.splice(this.tabIndex,1),this.tabs.modelValue>0?(this.tabs.$emit("update:modelValue",this.tabs.modelValue-1),this.tabs.$emit("change",this.tabs.modelValue-1)):this.tabs.to(0,0)}},[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createBlock(t.Transition,{name:"mvi-tab-"+r.tabs.animation+(o.back?"-back":"")},{default:t.withCtx((()=>[o.firstShow?t.withDirectives((t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-tab",style:t.normalizeStyle(r.tabStyle)},[t.renderSlot(e.$slots,"default",{},void 0,!0)],4)),[[t.vShow,o.show]]):t.createCommentVNode("",!0)])),_:3},8,["name"])}],["__scopeId","data-v-f3fc1fea"]]);bs.install=e=>{e.component(bs.name,bs)};const vs=["data-placement"],ws=["data-placement"];const ks=T({name:"m-triangle",props:{background:{type:String,default:null},borderColor:{type:String,default:null},size:{type:String,default:"0.14rem"},placement:{type:String,default:"top",validator:e=>["top","left","right","bottom"].includes(e)}},computed:{triangleStyle(){let e={};return e.borderWidth=this.size,"top"==this.placement?e.borderBottomColor=this.borderColor||"":"bottom"==this.placement?e.borderTopColor=this.borderColor||"":"left"==this.placement?e.borderRightColor=this.borderColor||"":"right"==this.placement&&(e.borderLeftColor=this.borderColor||""),e},triangleElStyle(){let e={};return e.borderWidth=`calc(${this.size} - 1px)`,"top"==this.placement?(e.borderBottomColor=this.background||"",e.marginLeft=`-${this.size}`):"bottom"==this.placement?(e.borderTopColor=this.background||"",e.marginLeft=`-${this.size}`):"left"==this.placement?(e.borderRightColor=this.background||"",e.marginTop=`-${this.size}`):"right"==this.placement&&(e.borderLeftColor=this.background||"",e.marginTop=`-${this.size}`),e}}},[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createElementBlock("div",{class:"mvi-triangle",style:t.normalizeStyle(r.triangleStyle),"data-placement":s.placement},[t.createElementVNode("div",{class:"mvi-triangle-el",style:t.normalizeStyle(r.triangleElStyle),"data-placement":s.placement},null,12,ws)],12,vs)}],["__scopeId","data-v-aa2239dc"]]);ks.install=e=>{e.component(ks.name,ks)};const Es=T({name:"m-layer",data:()=>({layerShow:!1,firstShow:!1,realPlacement:"bottom"}),emits:["update:modelValue","show","showing","shown","hide","hidding","hidden"],props:{modelValue:{type:Boolean,default:!1},target:{type:String,default:null},root:{type:String,default:null},placement:{type:String,default:"bottom",validator:e=>["top","left","right","bottom","top-start","top-end","left-start","left-end","right-start","right-end","bottom-start","bottom-end"].includes(e)},offset:{type:String,default:"0.2rem"},zIndex:{type:Number,default:null},fixed:{type:Boolean,default:!1},width:{type:String,default:null},timeout:{type:Number,default:200},closable:{type:Boolean,default:!1},showTriangle:{type:Boolean,default:!1},animation:{type:String,default:null},shadow:{type:Boolean,default:!0},border:{type:Boolean,default:!1},borderColor:{type:String,default:"#eee"},background:{type:String,default:"#fff"},fixedAuto:{type:Boolean,default:!1}},components:{Triangle:ks},watch:{placement(e){this.layerShow&&this.firstShow&&(this.autoAdjust(),this.reset(),this.$nextTick((()=>{this.resetTriangle()})))},modelValue(e){e&&(this.firstShow||(this.firstShow=!0)),this.layerShow=e}},computed:{trianglePlacement(){return"bottom-start"==this.realPlacement||"bottom"==this.realPlacement||"bottom-end"==this.realPlacement?"top":"top-start"==this.realPlacement||"top"==this.realPlacement||"top-end"==this.realPlacement?"bottom":"left-start"==this.realPlacement||"left"==this.realPlacement||"left-end"==this.realPlacement?"right":"right-start"==this.realPlacement||"right"==this.realPlacement||"right-end"==this.realPlacement?"left":void 0},wrapperCls(){let e=["mvi-layer-wrapper"];return this.shadow&&e.push("shadow"),this.border&&e.push("border"),e},wrapperStyle(){let e={};return this.border&&this.borderColor&&(e.borderColor=this.borderColor),this.background&&(e.background=this.background),this.width&&(e.width=this.width),e},layerStyle(){let e={};return u.number.isNumber(this.zIndex)&&(e.zIndex=this.zIndex),this.timeout&&(e.transition="transform "+this.timeout+"ms,opacity "+this.timeout+"ms",e.webkitTransition="transform "+this.timeout+"ms,opacity "+this.timeout+"ms"),this.showTriangle||(e.padding=0,"bottom-start"==this.realPlacement||"bottom"==this.realPlacement||"bottom-end"==this.realPlacement?e.paddingTop=this.offset:"top-start"==this.realPlacement||"top"==this.realPlacement||"top-end"==this.realPlacement?e.paddingBottom=this.offset:"left-start"==this.realPlacement||"left"==this.realPlacement||"left-end"==this.realPlacement?e.paddingRight=this.offset:"right-start"!=this.realPlacement&&"right"!=this.realPlacement&&"right-end"!=this.realPlacement||(e.paddingLeft=this.offset)),e}},setup:()=>({uid:t.getCurrentInstance().uid}),mounted(){this.modelValue&&(this.firstShow||(this.firstShow=!0),this.layerShow=this.modelValue),u.event.on(window,`resize.layer_${this.uid}`,this.resizeSet),u.event.on(window,`click.layer_${this.uid}`,this.hideLayer)},methods:{resizeSet(){this.layerShow&&this.firstShow&&(this.autoAdjust(),this.reset(),this.$nextTick((()=>{this.resetTriangle()})))},autoAdjust(){let e=this.getTargetEl(),t=u.element.getElementBounding(e);this.realPlacement=this.placement,"bottom"==this.placement?t.bottom<this.$el.offsetHeight?t.top>this.$el.offsetHeight?(this.realPlacement="top",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-end")):t.left>this.$el.offsetWidth?(this.realPlacement="left",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-end")):t.right>this.$el.offsetWidth&&(this.realPlacement="right",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-end")):(t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-end")):"bottom-start"==this.placement?t.bottom<this.$el.offsetHeight?t.top>this.$el.offsetHeight?(this.realPlacement="top-start",t.right+e.offsetWidth<this.$el.offsetWidth&&(this.realPlacement="top"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-end")):t.left>this.$el.offsetWidth?(this.realPlacement="left",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-end")):t.right>this.$el.offsetWidth&&(this.realPlacement="right",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-end")):(t.right+e.offsetWidth<this.$el.offsetWidth&&(this.realPlacement="bottom"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-end")):"bottom-end"==this.placement?t.bottom<this.$el.offsetHeight?t.top>this.$el.offsetHeight?(this.realPlacement="top-end",t.left+e.offsetWidth<this.$el.offsetWidth&&(this.realPlacement="top"),t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-start")):t.left>this.$el.offsetWidth?(this.realPlacement="left",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-end")):t.right>this.$el.offsetWidth&&(this.realPlacement="right",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-end")):(t.left+e.offsetWidth<this.$el.offsetWidth&&(this.realPlacement="bottom"),t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-start")):"top"==this.placement?t.top<this.$el.offsetHeight?t.bottom>this.$el.offsetHeight?(this.realPlacement="bottom",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-end")):t.left>this.$el.offsetWidth?(this.realPlacement="left",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-end")):t.right>this.$el.offsetWidth&&(this.realPlacement="right",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-end")):(t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-end")):"top-start"==this.placement?t.top<this.$el.offsetHeight?t.bottom>this.$el.offsetHeight?(this.realPlacement="bottom-start",t.right+e.offsetWidth<this.$el.offsetWidth&&(this.realPlacement="bottom"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-end")):t.left>this.$el.offsetWidth?(this.realPlacement="left",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-end")):t.right>this.$el.offsetWidth&&(this.realPlacement="right",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-end")):(t.right+e.offsetWidth<this.$el.offsetWidth&&(this.realPlacement="top"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-end")):"top-end"==this.placement?t.top<this.$el.offsetHeight?t.bottom>this.$el.offsetHeight?(this.realPlacement="bottom-end",t.left+e.offsetWidth<this.$el.offsetWidth&&(this.realPlacement="bottom"),t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-start")):t.left>this.$el.offsetWidth?(this.realPlacement="left",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-end")):t.right>this.$el.offsetWidth&&(this.realPlacement="right",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-end")):(t.left+e.offsetWidth<this.$el.offsetWidth&&(this.realPlacement="top"),t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-start")):"left"==this.placement?t.left<this.$el.offsetWidth?t.right>this.$el.offsetWidth?(this.realPlacement="right",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-end")):t.top>this.$el.offsetHeight?(this.realPlacement="top",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-end")):t.bottom>this.$el.offsetHeight&&(this.realPlacement="bottom",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-end")):(t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-end")):"left-start"==this.placement?t.left<this.$el.offsetWidth?t.right>this.$el.offsetWidth?(this.realPlacement="right-start",t.bottom+e.offsetHeight<this.$el.offsetHeight&&(this.realPlacement="right"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-end")):t.top>this.$el.offsetHeight?(this.realPlacement="top",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-end")):t.bottom>this.$el.offsetHeight&&(this.realPlacement="bottom",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-end")):(t.bottom+e.offsetHeight<this.$el.offsetHeight&&(this.realPlacement="left"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-end")):"left-end"==this.placement?t.left<this.$el.offsetWidth?t.right>this.$el.offsetWidth?(this.realPlacement="right-end",t.top+e.offsetHeight<this.$el.offsetHeight&&(this.realPlacement="right"),t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-start")):t.top>this.$el.offsetHeight?(this.realPlacement="top",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-end")):t.bottom>this.$el.offsetHeight&&(this.realPlacement="bottom",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-end")):(t.top+e.offsetHeight<this.$el.offsetHeight&&(this.realPlacement="left"),t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-start")):"right"==this.placement?t.right<this.$el.offsetWidth?t.left>this.$el.offsetWidth?(this.realPlacement="left",t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-end")):t.top>this.$el.offsetHeight?(this.realPlacement="top",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-end")):t.bottom>this.$el.offsetHeight&&(this.realPlacement="bottom",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-end")):(t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-start"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-end")):"right-start"==this.placement?t.right<this.$el.offsetWidth?t.left>this.$el.offsetWidth?(this.realPlacement="left-start",t.bottom+e.offsetHeight<this.$el.offsetHeight&&(this.realPlacement="left"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-end")):t.top>this.$el.offsetHeight?(this.realPlacement="top",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-end")):t.bottom>this.$el.offsetHeight&&(this.realPlacement="bottom",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-end")):(t.bottom+e.offsetHeight<this.$el.offsetHeight&&(this.realPlacement="right"),t.bottom+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-end")):"right-end"==this.placement&&(t.right<this.$el.offsetWidth?t.left>this.$el.offsetWidth?(this.realPlacement="left-end",t.top+e.offsetHeight<this.$el.offsetHeight&&(this.realPlacement="left"),t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="left-start")):t.top>this.$el.offsetHeight?(this.realPlacement="top",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="top-end")):t.bottom>this.$el.offsetHeight&&(this.realPlacement="bottom",t.left+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-start"),t.right+e.offsetWidth/2<this.$el.offsetWidth/2&&(this.realPlacement="bottom-end")):(t.top+e.offsetHeight<this.$el.offsetHeight&&(this.realPlacement="right"),t.top+e.offsetHeight/2<this.$el.offsetHeight/2&&(this.realPlacement="right-start")))},hideLayer(e){if(this.layerShow&&this.firstShow&&this.closable){if(u.element.isContains(this.$el,e.target)||u.element.isContains(this.getTargetEl(),e.target))return;this.$emit("update:modelValue",!1)}},beforeEnter(e){u.data.get(e,"mvi-layer-beforeEnter-trigger")||(u.data.set(e,"mvi-layer-beforeEnter-trigger",!0),this.$emit("show",e),"function"==typeof this.layerComponentWatch&&this.layerComponentWatch.apply(this,["show",e]))},enter(e){u.data.get(e,"mvi-layer-enter-trigger")||(u.data.set(e,"mvi-layer-enter-trigger",!0),this.$nextTick((()=>{this.autoAdjust(),this.reset(),this.$nextTick((()=>{this.resetTriangle()})),this.$emit("showing",e),"function"==typeof this.layerComponentWatch&&this.layerComponentWatch.apply(this,["showing",e])})))},afterEnter(e){this.$emit("shown",e),"function"==typeof this.layerComponentWatch&&this.layerComponentWatch.apply(this,["shown",e])},beforeLeave(e){u.data.remove(e,"mvi-layer-beforeEnter-trigger"),u.data.remove(e,"mvi-layer-enter-trigger"),this.$emit("hide",e),"function"==typeof this.layerComponentWatch&&this.layerComponentWatch.apply(this,["hide",e])},leave(e){this.$emit("hidding",e),"function"==typeof this.layerComponentWatch&&this.layerComponentWatch.apply(this,["hidding",e])},afterLeave(e){this.$emit("hidden",e),"function"==typeof this.layerComponentWatch&&this.layerComponentWatch.apply(this,["hidden",e])},reset(){if(!u.element.isElement(this.$el))return;this.showTriangle&&(this.$el.style.padding=0,"bottom-start"==this.realPlacement||"bottom"==this.realPlacement||"bottom-end"==this.realPlacement?this.$el.style.paddingTop=`calc(${this.offset} + ${this.$refs.triangle.$el.offsetHeight}px)`:"top-start"==this.realPlacement||"top"==this.realPlacement||"top-end"==this.realPlacement?this.$el.style.paddingBottom=`calc(${this.offset} + ${this.$refs.triangle.$el.offsetHeight}px)`:"left-start"==this.realPlacement||"left"==this.realPlacement||"left-end"==this.realPlacement?this.$el.style.paddingRight=`calc(${this.offset} + ${this.$refs.triangle.$el.offsetWidth}px)`:"right-start"!=this.realPlacement&&"right"!=this.realPlacement&&"right-end"!=this.realPlacement||(this.$el.style.paddingLeft=`calc(${this.offset} + ${this.$refs.triangle.$el.offsetWidth}px)`));let e=this.getTargetEl(),t=this.getRootEl(),i=u.element.getElementPoint(e,t);if(this.fixed)if(this.fixedAuto){let t=!0,s=e.offsetParent;for(;t&&s;)"none"!=u.element.getCssStyle(s,"transform")?t=!1:s=s.offsetParent;i=u.element.getElementPoint(e,s)}else i=u.element.getElementBounding(e);"bottom"==this.realPlacement||"bottom-start"==this.realPlacement||"bottom-end"==this.realPlacement?(this.$el.style.top=i.top+e.offsetHeight+"px",this.$el.style.bottom="auto","bottom"==this.realPlacement?this.$el.style.left=i.left+e.offsetWidth/2-this.$el.offsetWidth/2+"px":"bottom-start"==this.realPlacement?this.$el.style.left=i.left+"px":"bottom-end"==this.realPlacement&&(this.$el.style.left=e.offsetWidth+i.left-this.$el.offsetWidth+"px"),this.$el.style.right="auto"):"top"==this.realPlacement||"top-start"==this.realPlacement||"top-end"==this.realPlacement?(this.$el.style.bottom=(this.fixed?i.bottom+e.offsetHeight:t.clientHeight-i.top)+"px",this.$el.style.top="auto","top"==this.realPlacement?this.$el.style.left=i.left+e.offsetWidth/2-this.$el.offsetWidth/2+"px":"top-start"==this.realPlacement?this.$el.style.left=i.left+"px":"top-end"==this.realPlacement&&(this.$el.style.left=e.offsetWidth+i.left-this.$el.offsetWidth+"px"),this.$el.style.right="auto"):"left"==this.realPlacement||"left-start"==this.realPlacement||"left-end"==this.realPlacement?(this.$el.style.right=(this.fixed?i.right+e.offsetWidth:t.clientWidth-i.left)+"px",this.$el.style.left="auto","left"==this.realPlacement?this.$el.style.top=i.top+e.offsetHeight/2-this.$el.offsetHeight/2+"px":"left-start"==this.realPlacement?this.$el.style.top=i.top+"px":"left-end"==this.realPlacement&&(this.$el.style.top=e.offsetHeight+i.top-this.$el.offsetHeight+"px"),this.$el.style.bottom="auto"):"right"!=this.realPlacement&&"right-start"!=this.realPlacement&&"right-end"!=this.realPlacement||(this.$el.style.left=i.left+e.offsetWidth+"px",this.$el.style.right="auto","right"==this.realPlacement?this.$el.style.top=i.top+e.offsetHeight/2-this.$el.offsetHeight/2+"px":"right-start"==this.realPlacement?this.$el.style.top=i.top+"px":"right-end"==this.realPlacement&&(this.$el.style.top=e.offsetHeight+i.top-this.$el.offsetHeight+"px"),this.$el.style.bottom="auto")},resetTriangle(){if(!this.showTriangle||this.$refs.triangle&&!this.$refs.triangle.$el)return;const e=this.getTargetEl().offsetWidth,t=this.$el.offsetWidth,i=this.getTargetEl().offsetHeight,s=this.$el.offsetHeight,n=this.$refs.triangle.$el.offsetWidth,o=this.$refs.triangle.$el.offsetHeight;"bottom-start"==this.realPlacement?(this.$refs.triangle.$el.style.top="auto",this.$refs.triangle.$el.style.right="auto",this.$refs.triangle.$el.style.bottom="100%",this.$refs.triangle.$el.style.left=(e>t?t:e)/2-n/2+"px"):"bottom"==this.realPlacement?(this.$refs.triangle.$el.style.top="auto",this.$refs.triangle.$el.style.right="auto",this.$refs.triangle.$el.style.bottom="100%",this.$refs.triangle.$el.style.left=t/2-n/2+"px"):"bottom-end"==this.realPlacement?(this.$refs.triangle.$el.style.top="auto",this.$refs.triangle.$el.style.left="auto",this.$refs.triangle.$el.style.bottom="100%",this.$refs.triangle.$el.style.right=(e>t?t:e)/2-n/2+"px"):"top-start"==this.realPlacement?(this.$refs.triangle.$el.style.top="100%",this.$refs.triangle.$el.style.right="auto",this.$refs.triangle.$el.style.bottom="auto",this.$refs.triangle.$el.style.left=(e>t?t:e)/2-n/2+"px"):"top"==this.realPlacement?(this.$refs.triangle.$el.style.top="100%",this.$refs.triangle.$el.style.right="auto",this.$refs.triangle.$el.style.bottom="auto",this.$refs.triangle.$el.style.left=t/2-n/2+"px"):"top-end"==this.realPlacement?(this.$refs.triangle.$el.style.top="100%",this.$refs.triangle.$el.style.left="auto",this.$refs.triangle.$el.style.bottom="auto",this.$refs.triangle.$el.style.right=(e>t?t:e)/2-n/2+"px"):"left-start"==this.realPlacement?(this.$refs.triangle.$el.style.left="100%",this.$refs.triangle.$el.style.right="auto",this.$refs.triangle.$el.style.top=(i>s?s:i)/2-o/2+"px",this.$refs.triangle.$el.style.bottom="auto"):"left"==this.realPlacement?(this.$refs.triangle.$el.style.left="100%",this.$refs.triangle.$el.style.right="auto",this.$refs.triangle.$el.style.top=s/2-o/2+"px",this.$refs.triangle.$el.style.bottom="auto"):"left-end"==this.realPlacement?(this.$refs.triangle.$el.style.left="100%",this.$refs.triangle.$el.style.right="auto",this.$refs.triangle.$el.style.bottom=(i>s?s:i)/2-o/2+"px",this.$refs.triangle.$el.style.top="auto"):"right-start"==this.realPlacement?(this.$refs.triangle.$el.style.right="100%",this.$refs.triangle.$el.style.left="auto",this.$refs.triangle.$el.style.top=(i>s?s:i)/2-o/2+"px",this.$refs.triangle.$el.style.bottom="auto"):"right"==this.realPlacement?(this.$refs.triangle.$el.style.right="100%",this.$refs.triangle.$el.style.left="auto",this.$refs.triangle.$el.style.top=s/2-o/2+"px",this.$refs.triangle.$el.style.bottom="auto"):"right-end"==this.realPlacement&&(this.$refs.triangle.$el.style.right="100%",this.$refs.triangle.$el.style.left="auto",this.$refs.triangle.$el.style.bottom=(i>s?s:i)/2-o/2+"px",this.$refs.triangle.$el.style.top="auto")},getTargetEl(){return this.target&&document.body.querySelector(this.target)||document.body},getRootEl(){return this.fixed?document.body:this.root&&document.body.querySelector(this.root)||document.body}},beforeUnmount(){u.event.off(window,`resize.layer_${this.uid} click.layer_${this.uid}`)}},[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Triangle");return t.openBlock(),t.createBlock(t.Transition,{name:s.animation||"mvi-layer",onBeforeEnter:r.beforeEnter,onEnter:r.enter,onAfterEnter:r.afterEnter,onLeave:r.leave,onBeforeLeave:r.beforeLeave,onAfterLeave:r.afterLeave},{default:t.withCtx((()=>[o.firstShow?t.withDirectives((t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["mvi-layer",s.fixed?"fixed":""]),style:t.normalizeStyle(r.layerStyle)},[t.createElementVNode("div",{class:t.normalizeClass(r.wrapperCls),style:t.normalizeStyle(r.wrapperStyle)},[s.showTriangle?(t.openBlock(),t.createBlock(l,{key:0,ref:"triangle",class:"mvi-layer-triangle",placement:r.trianglePlacement,background:s.background,"border-color":s.border&&s.borderColor?s.borderColor:s.background,size:"0.14rem"},null,8,["placement","background","border-color"])):t.createCommentVNode("",!0),t.renderSlot(e.$slots,"default",{},void 0,!0)],6)],6)),[[t.vShow,o.layerShow]]):t.createCommentVNode("",!0)])),_:3},8,["name","onBeforeEnter","onEnter","onAfterEnter","onLeave","onBeforeLeave","onAfterLeave"])}],["__scopeId","data-v-68b82631"]]);Es.install=e=>{e.component(Es.name,Es)};const xs={name:"m-tooltip",data:()=>({show:!1}),props:{title:{type:String,default:""},placement:{type:String,default:"bottom"},disabled:{type:Boolean,default:!1},timeout:{type:Number,default:200},borderColor:{type:String,default:"#333"},color:{type:String,default:"#333"},textColor:{type:String,default:"#fff"},trigger:{type:String,default:"click",validator:e=>["hover","click","custom"].includes(e)},offset:{type:String,default:"0.1rem"},zIndex:{type:Number,default:20},fixed:{type:Boolean,default:!1},fixedAuto:{type:Boolean,default:!1},width:{type:String,default:null},animation:{type:String,default:null},showTriangle:{type:Boolean,default:!0},block:{type:Boolean,default:!1}},computed:{contentStyle(){let e={};return this.textColor&&(e.color=this.textColor),this.width&&(e.whiteSpace="normal"),e}},components:{Layer:Es},setup:()=>({uid:t.getCurrentInstance().uid}),methods:{hoverShowTooltip(){"hover"==this.trigger&&this.showTooltip()},hoverHideToolTip(){"hover"==this.trigger&&this.hideTooltip()},clickShowTooltip(){"click"===this.trigger&&(this.show?this.hideTooltip():this.showTooltip())},showTooltip(){this.disabled||(this.show=!0)},hideTooltip(){this.disabled||(this.show=!1)}}},Cs=["data-id"],Ss=["data-id"],Ts=["textContent"];const $s=T(xs,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Layer");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-tooltip",s.block?"block":""]),"data-id":"mvi-tooltip-"+n.uid},[t.createElementVNode("div",{onClick:i[0]||(i[0]=(...e)=>r.clickShowTooltip&&r.clickShowTooltip(...e)),onMouseenter:i[1]||(i[1]=(...e)=>r.hoverShowTooltip&&r.hoverShowTooltip(...e)),onMouseleave:i[2]||(i[2]=(...e)=>r.hoverHideToolTip&&r.hoverHideToolTip(...e)),class:"mvi-tooltip-toggle",ref:"toggle","data-id":"mvi-tooltip-target-"+n.uid},[t.renderSlot(e.$slots,"default",{},void 0,!0)],40,Ss),t.createVNode(l,{modelValue:o.show,"onUpdate:modelValue":i[3]||(i[3]=e=>o.show=e),offset:s.offset,background:s.color,border:"","border-color":s.borderColor,closable:"","show-triangle":s.showTriangle,"z-index":s.zIndex,target:`[data-id='mvi-tooltip-target-${n.uid}']`,root:`[data-id='mvi-tooltip-${n.uid}']`,placement:s.placement,fixed:s.fixed,"fixed-auto":s.fixedAuto,width:s.width,timeout:s.timeout,animation:s.animation||"mvi-tooltip",shadow:!1},{default:t.withCtx((()=>[t.createElementVNode("div",{class:"mvi-tooltip-content",ref:"content",style:t.normalizeStyle(r.contentStyle)},[e.$slots.title?t.renderSlot(e.$slots,"title",{key:0},void 0,!0):(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(s.title)},null,8,Ts))],4)])),_:3},8,["modelValue","offset","background","border-color","show-triangle","z-index","target","root","placement","fixed","fixed-auto","width","timeout","animation"])],10,Cs)}],["__scopeId","data-v-acd39211"]]);$s.install=e=>{e.component($s.name,$s)};const Is={name:"m-table",emits:["check","sort-cancel","sort-asc","sort-desc"],props:{data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},border:{type:Boolean,default:!1},columnBorder:{type:Boolean,default:!1},stripe:{type:Boolean,default:!1},height:{type:String,default:null},noDataMsg:{type:String,default:"暂无数据"},loading:{type:Boolean,default:!1},loadText:{type:String,default:"正在加载中..."},center:{type:Boolean,default:!1},cellClass:{type:Function},activeColor:{type:String,default:null}},data:()=>({columnAlignKey:0,rowData:[],columnData:[],scrollWidth:0,headerColumnRefs:[],sortBy:"",sortOrder:"",checkedRows:[],selectAll:!1}),computed:{headerColumnClass(){let e=[];return this.columnBorder&&e.push("border"),e},headerColumnStyle:()=>e=>({width:e.width||"auto"}),bodyColumnClass(){return(e,t,i,s)=>{let n=[];return this.columnBorder&&n.push("border"),i.className&&n.push(i.className),"function"==typeof this.cellClass&&n.push(this.cellClass.apply(this,[e,t,i,s])||""),n}},bodyColumnStyle(){return(e,t)=>(this.columnAlignKey,{width:this.headerColumnRefs[t]?u.element.getCssStyle(this.headerColumnRefs[t],"width"):"0px"})},sortIconStyle(){return(e,t)=>{let i={};return this.sortBy==t.prop&&this.sortOrder==e&&(i.color=this.activeColor||""),i}},dataFormat(){return(e,t)=>"function"==typeof t.format?t.format.apply(this,[e[t.prop],e,t]):e[t.prop]+""},cmpSelectable(){return(e,t,i)=>"function"!=typeof i.selectable||i.selectable.apply(this,[e,t])},tooltipTitle(){return(e,t)=>u.element.string2dom(`<div>${this.dataFormat(e,t)}</div>`).innerText}},components:{Loading:xe,Icon:$,Checkbox:pe,Tooltip:$s},watch:{data:{immediate:!0,handler:function(e){this.rowData=this.deepClone(e),this.$nextTick((()=>{this.scrollWidth=this.getScrollWidth(),this.$nextTick((()=>{this.columnAlignKey++}))}))}},columns:{immediate:!0,handler:function(e){this.columnData=this.deepClone(e).filter((e=>!e.hidden))}},height:{immediate:!0,handler:function(){this.$nextTick((()=>{this.scrollWidth=this.getScrollWidth(),this.$nextTick((()=>{this.columnAlignKey++}))}))}}},setup:()=>({uid:t.getCurrentInstance().uid}),mounted(){this.columnAlignKey++,u.event.on(window,`resize.table_${this.uid}`,(e=>{this.columnAlignKey++}))},methods:{doCheck(e,t){this.checkedRows.length==this.rowData.filter(((e,i)=>this.cmpSelectable(e,i,t))).length?this.selectAll=!0:this.selectAll=!1,this.$emit("check",this.checkedRows,e)},allSelect(e){if(this.selectAll){this.checkedRows=[];for(let t=0;t<this.rowData.length;t++)this.cmpSelectable(this.rowData[t],t,e)&&this.checkedRows.push(t)}else this.checkedRows=[];this.$emit("check",this.checkedRows)},sortAsc(e){this.sortBy==e.prop&&"asc"==this.sortOrder?(this.sortBy="",this.sortOrder="","function"==typeof e.sortMethod?e.sortMethod.apply(this,["",this.rowData,e]):(this.rowData=this.deepClone(this.data),this.$emit("sort-cancel",this.rowData))):(this.sortBy=e.prop,this.sortOrder="asc","function"==typeof e.sortMethod?e.sortMethod.apply(this,["asc",this.rowData,e]):(this.rowData=this.rowData.sort((function(t,i){return u.number.isNumber(t[e.prop])&&u.number.isNumber(i[e.prop])?t[e.prop]-i[e.prop]:t[e.prop].toString().localeCompare(i[e.prop].toString(),"zh-CN")})),this.$emit("sort-asc",this.rowData)))},sortDesc(e){this.sortBy==e.prop&&"desc"==this.sortOrder?(this.sortBy="",this.sortOrder="","function"==typeof e.sortMethod?e.sortMethod.apply(this,["",this.rowData,e]):(this.rowData=this.deepClone(this.data),this.$emit("sort-cancel",this.rowData))):(this.sortBy=e.prop,this.sortOrder="desc","function"==typeof e.sortMethod?e.sortMethod.apply(this,["desc",this.rowData,e]):(this.rowData=this.rowData.sort((function(t,i){return u.number.isNumber(t[e.prop])&&u.number.isNumber(i[e.prop])?i[e.prop]-t[e.prop]:-t[e.prop].toString().localeCompare(i[e.prop].toString(),"zh-CN")})),this.$emit("sort-desc",this.rowData)))},getScrollWidth(){return this.$refs.body.offsetWidth-this.$refs.body.clientWidth},deepClone(e){if(Array.isArray(e))return e.map((e=>this.deepClone(e)));if(u.common.isObject(e)){let t={};for(let i in e)t[i]=this.deepClone(e[i]);return t}return e}},beforeUnmount(){u.event.off(window,`resize.table_${this.uid}`)}},Bs={class:"mvi-table-header"},_s={cellpadding:"0",cellspacing:"0"},Ns={ref:"headerRow"},Ps={key:0,class:"mvi-table-sortable"},zs={key:0,class:"mvi-table-loading"},As={key:0,cellpadding:"0",cellspacing:"0"},Os=["innerHTML"],Vs={key:1,class:"mvi-table-nodata"};const Rs=T(Is,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Checkbox"),a=t.resolveComponent("Icon"),c=t.resolveComponent("Loading"),h=t.resolveComponent("Tooltip");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-table",s.border?"border":""])},[t.createElementVNode("div",Bs,[t.createElementVNode("table",_s,[t.createElementVNode("tr",Ns,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(o.columnData,((e,n)=>(t.openBlock(),t.createElementBlock("th",{ref_for:!0,ref:e=>o.headerColumnRefs[n]=e,class:t.normalizeClass(r.headerColumnClass),style:t.normalizeStyle(r.headerColumnStyle(e))},[t.createElementVNode("div",{class:t.normalizeClass(["mvi-table-column",s.center?"center":""])},["selection"==e.type?(t.openBlock(),t.createBlock(l,{key:0,modelValue:o.selectAll,"onUpdate:modelValue":i[0]||(i[0]=e=>o.selectAll=e),size:"0.24rem",onChange:t=>r.allSelect(e),color:s.activeColor},null,8,["modelValue","onChange","color"])):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.createElementVNode("span",null,t.toDisplayString(e.label),1),e.sortable?(t.openBlock(),t.createElementBlock("span",Ps,[t.createVNode(a,{type:"caret-up",class:t.normalizeClass(o.sortBy==e.prop&&"asc"==o.sortOrder?"active":""),onClick:t=>r.sortAsc(e),style:t.normalizeStyle(r.sortIconStyle("asc",e))},null,8,["class","onClick","style"]),t.createVNode(a,{type:"caret-down",class:t.normalizeClass(o.sortBy==e.prop&&"desc"==o.sortOrder?"active":""),onClick:t=>r.sortDesc(e),style:t.normalizeStyle(r.sortIconStyle("desc",e))},null,8,["class","onClick","style"])])):t.createCommentVNode("",!0)],64))],2)],6)))),256)),o.scrollWidth?(t.openBlock(),t.createElementBlock("th",{key:0,class:"placeholder",style:t.normalizeStyle({width:o.scrollWidth+"px"})},null,4)):t.createCommentVNode("",!0)],512)])]),t.createElementVNode("div",{ref:"body",class:t.normalizeClass(["mvi-table-body",s.height?"overflow":""]),style:t.normalizeStyle({maxHeight:s.height})},[s.loading?(t.openBlock(),t.createElementBlock("div",zs,[t.createVNode(c,{color:"#bbb",size:"0.3rem"}),t.createElementVNode("span",null,t.toDisplayString(s.loadText),1)])):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[o.rowData.length?(t.openBlock(),t.createElementBlock("table",As,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(o.rowData,((n,a)=>(t.openBlock(),t.createElementBlock("tr",{class:t.normalizeClass(s.stripe?"stripe":"")},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(o.columnData,((c,d)=>(t.openBlock(),t.createElementBlock("td",{class:t.normalizeClass(r.bodyColumnClass(n,a,c,d)),style:t.normalizeStyle(r.bodyColumnStyle(c,d))},[t.createVNode(h,{disabled:!c.ellipsis,block:"",title:r.tooltipTitle(n,c),trigger:"hover",placement:s.center?"bottom":"bottom-start",fixed:!!s.height},{default:t.withCtx((()=>[t.createElementVNode("div",{class:t.normalizeClass(["mvi-table-column",s.center?"center":""])},["selection"==c.type?(t.openBlock(),t.createBlock(l,{key:0,modelValue:o.checkedRows,"onUpdate:modelValue":i[1]||(i[1]=e=>o.checkedRows=e),value:a,size:"0.24rem",onChange:e=>r.doCheck(a,c),color:s.activeColor,disabled:!r.cmpSelectable(n,a,c)},null,8,["modelValue","value","onChange","color","disabled"])):(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass([c.ellipsis?"ellipsis":""])},["custom"==c.type&&e.$slots.custom?t.renderSlot(e.$slots,"custom",{key:0,row:n,rowIndex:a,column:c,columnIndex:d},void 0,!0):(t.openBlock(),t.createElementBlock("span",{key:1,innerHTML:r.dataFormat(n,c)},null,8,Os))],2))],2)])),_:2},1032,["disabled","title","placement","fixed"])],6)))),256))],2)))),256))])):(t.openBlock(),t.createElementBlock("div",Vs,t.toDisplayString(s.noDataMsg),1))],64))],6)],2)}],["__scopeId","data-v-ee8ba653"]]);Rs.install=e=>{e.component(Rs.name,Rs)};const Ds={name:"m-calendar",emits:["update:modelValue","date-click","month-click","year-click"],props:{modelValue:{type:Date,default:function(){return new Date}},view:{type:String,default:"date",validator:e=>["year","month","date"].includes(e)},monthText:{type:Array,default:function(){return["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},validator:e=>12==e.length&&e.every((e=>u.number.isNumber(e)||"string"==typeof e&&e))},weekText:{type:Array,default:function(){return["日","一","二","三","四","五","六"]},validator:e=>7==e.length&&e.every((e=>u.number.isNumber(e)||"string"==typeof e&&e))},startDate:{type:Date,default:function(){return Ee("1970-01-01").toDate()}},endDate:{type:Date,default:function(){return Ee("2099-01-01").toDate()}},nonCurrentClick:{type:Boolean,default:!1},active:{type:Boolean,default:!0},type:{type:String,default:"info",validator:e=>["info","primary","error","warn","success"].includes(e)}},computed:{years(){let e=[];const t=this.modelValue.getFullYear(),i=this.startDate.getFullYear();let s=Math.floor((t-i)/12);for(let n=i+12*s;n<i+12*s+12;n++)e.push(Ee(this.modelValue).year(n).toDate());return e},months(){let e=[];for(let t=0;t<12;t++)e.push(Ee(this.modelValue).month(t).toDate());return e},days(){let e=Ee(this.modelValue).daysInMonth(),t=[];for(let r=1;r<=e;r++)t.push({date:Ee(`${Ee(this.modelValue).format("YYYY-MM")}-${r<10?"0"+r:r}`).toDate(),nonCurrent:!1});const i=t[0].date;let s=i.getDay();for(let r=0;r<s;r++){let e=Ee(i).subtract(r+1,"day").toDate();t.unshift({date:e,nonCurrent:!0})}const n=t[t.length-1].date;let o=n.getDay();for(let r=0;r<6-o;r++){let e=Ee(n).add(r+1,"day").toDate();t.push({date:e,nonCurrent:!0})}return t},yearDisabled(){return e=>Ee(e).isBefore(Ee(this.startDate),"year")||Ee(e).isAfter(Ee(this.endDate),"year")},monthDisabled(){return e=>Ee(e).isBefore(Ee(this.startDate),"month")||Ee(e).isAfter(Ee(this.endDate),"month")},dateDisabled(){return e=>Ee(e.date).isBefore(Ee(this.startDate),"date")||Ee(e.date).isAfter(Ee(this.endDate),"date")},yearClass(){return e=>{let t=["mvi-calendar-year-item",this.type];return this.yearDisabled(e)||(this.active&&t.push("active"),Ee().isSame(Ee(e),"year")&&t.push("now"),Ee(this.modelValue).isSame(Ee(e),"year")&&t.push("current")),t}},monthClass(){return e=>{let t=["mvi-calendar-month-item",this.type];return this.monthDisabled(e)||(this.active&&t.push("active"),Ee().isSame(Ee(e),"month")&&t.push("now"),Ee(this.modelValue).isSame(Ee(e),"month")&&t.push("current")),t}},dateClass(){return e=>{let t=["mvi-calendar-date-item",this.type];return this.dateDisabled(e)||(e.nonCurrent?(t.push("none-current"),this.nonCurrentClick&&(t.push("allowed"),this.active&&t.push("active"))):(this.active&&t.push("active"),Ee().isSame(Ee(e.date),"date")&&t.push("now"),Ee(this.modelValue).isSame(Ee(e.date),"date")&&t.push("current"))),t}}},methods:{yearClick(e){this.yearDisabled(e)||(this.$emit("update:modelValue",e),this.$emit("year-click",e))},monthClick(e){this.monthDisabled(e)||(this.$emit("update:modelValue",e),this.$emit("month-click",e))},dateClick(e){this.dateDisabled(e)||e.nonCurrent&&!this.nonCurrentClick||(this.$emit("update:modelValue",e.date),this.$emit("date-click",e.date))}}},Ms={class:"mvi-calendar"},Ls={class:"mvi-calendar-years"},Hs={class:"mvi-calendar-year"},Fs=["disabled","onClick"],Ws={class:"mvi-calendar-months"},js={class:"mvi-calendar-month"},Us=["disabled","onClick"],Ys={key:2,class:"mvi-calendar-date"},qs={class:"mvi-calendar-date-header"},Xs={class:"mvi-calendar-date-header-item"},Ks={class:"mvi-calendar-date-body"},Zs={class:"mvi-calendar-date-row"},Gs={class:"mvi-calendar-date-column"},Qs=["disabled","onClick"];const Js=T(Ds,[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createElementBlock("div",Ms,["year"==s.view?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(new Array(3),((e,i)=>(t.openBlock(),t.createElementBlock("div",Ls,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.years.slice(4*i,4*i+4),(e=>(t.openBlock(),t.createElementBlock("div",Hs,[t.createElementVNode("div",{class:t.normalizeClass(r.yearClass(e)),disabled:r.yearDisabled(e)||null,onClick:t=>r.yearClick(e)},t.toDisplayString(e.getFullYear()),11,Fs)])))),256))])))),256)):"month"==s.view?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:1},t.renderList(new Array(3),((e,i)=>(t.openBlock(),t.createElementBlock("div",Ws,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.months.slice(4*i,4*i+4),(e=>(t.openBlock(),t.createElementBlock("div",js,[t.createElementVNode("div",{class:t.normalizeClass(r.monthClass(e)),disabled:r.monthDisabled(e)||null,onClick:t=>r.monthClick(e)},t.toDisplayString(s.monthText[e.getMonth()]),11,Us)])))),256))])))),256)):"date"==s.view?(t.openBlock(),t.createElementBlock("div",Ys,[t.createElementVNode("div",qs,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(s.weekText,(e=>(t.openBlock(),t.createElementBlock("div",Xs,t.toDisplayString(e),1)))),256))]),t.createElementVNode("div",Ks,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(new Array(6),((e,i)=>(t.openBlock(),t.createElementBlock("div",Zs,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.days.slice(7*i,7*i+7),((e,i)=>(t.openBlock(),t.createElementBlock("div",Gs,[t.createElementVNode("div",{class:t.normalizeClass(r.dateClass(e)),disabled:r.dateDisabled(e)||null,onClick:t=>r.dateClick(e)},t.toDisplayString(e.date.getDate()),11,Qs)])))),256))])))),256))])])):t.createCommentVNode("",!0)])}],["__scopeId","data-v-be2c7756"]]);Js.install=e=>{e.component(Js.name,Js)};const en={name:"m-color-picker",data:()=>({hsv:[0,0,0],opacity:1,updateByDrag:!1,dragging:!1,heightObj:null,dragObj:null}),emits:["update:modelValue","change"],components:{Slider:Ut},props:{modelValue:{type:String,default:"#ff0000"},showAlpha:{type:Boolean,default:!0}},computed:{panelStyle(){const e=u.color.hsv2rgb([this.hsv[0],100,100]);return{background:`rgb(${e[0]},${e[1]},${e[2]})`}},alphaTrackColor(){const e=u.color.hsv2rgb(this.hsv);return`linear-gradient(to right, transparent 0%, rgb(${e[0]}, ${e[1]}, ${e[2]}) 100%)`}},watch:{modelValue(){this.initHSV(),this.setSliderPlacement()}},created(){this.initHSV()},mounted(){this.setPanelHeight(),this.setPanelDrag(),this.setSliderPlacement()},methods:{initHSV(){if(!this.updateByDrag)if(this.modelValue&&u.common.matchingText(this.modelValue,"hex")){const e=u.color.hex2rgb(this.modelValue);this.hsv=u.color.rgb2hsv(e),this.opacity=1}else try{let e=this.modelValue.indexOf("("),t=this.modelValue.lastIndexOf(")"),i=this.modelValue.substring(e+1,t).split(",");if(i.length<3)throw new Error("Color values are not RGB (RGBA) format and hexadecimal format");const s=[Number(i[0]),Number(i[1]),Number(i[2])];this.hsv=u.color.rgb2hsv(s),this.opacity=4==i.length?Number(i[3]):1}catch(e){throw new Error("Color values are not RGB (RGBA) format and hexadecimal format")}},setPanelHeight(){this.heightObj||(this.heightObj=new b(this.$refs.panel,.7),this.heightObj.init())},setPanelDrag(){this.dragObj||(this.dragObj=new y(this.$refs.slider,{container:this.$refs.panel,mode:"on",draggableX:!0,draggableY:!0,cursor:!1,beforeDrag:()=>{this.updateByDrag=!0,this.dragging=!0},drag:()=>{const e=u.element.getElementPoint(this.$refs.slider,this.$refs.panel);this.hsv[1]=(e.left+this.$refs.slider.offsetWidth/2)/this.$refs.panel.offsetWidth*100,this.hsv[2]=100*(1-(e.top+this.$refs.slider.offsetHeight/2)/this.$refs.panel.offsetHeight),this.setValue()},dragged:()=>{this.updateByDrag=!1,this.$nextTick((()=>{setTimeout((()=>{this.dragging=!1}),10)}))}}),this.dragObj.init())},setSliderPlacement(){this.$refs.slider.style.left=this.hsv[1]/100*this.$refs.panel.offsetWidth-this.$refs.slider.offsetWidth/2+"px",this.$refs.slider.style.top=(1-this.hsv[2]/100)*this.$refs.panel.offsetHeight-this.$refs.slider.offsetHeight/2+"px"},setValue(){const e=u.color.hsv2rgb(this.hsv);if(1==this.opacity){const t=`rgb(${e[0]},${e[1]},${e[2]})`;this.$emit("update:modelValue",t),this.$emit("change",t)}else{const t=`rgba(${e[0]},${e[1]},${e[2]},${Number(this.opacity.toFixed(2))})`;this.$emit("update:modelValue",t),this.$emit("change",t)}},clickPanelSetColor(e){if(this.dragging)return;this.updateByDrag=!0,this.$refs.slider.style.left=e.offsetX-this.$refs.slider.offsetWidth/2+"px",this.$refs.slider.style.top=e.offsetY-this.$refs.slider.offsetHeight/2+"px";const t=u.element.getElementPoint(this.$refs.slider,this.$refs.panel);this.hsv[1]=(t.left+this.$refs.slider.offsetWidth/2)/this.$refs.panel.offsetWidth*100,this.hsv[2]=100*(1-(t.top+this.$refs.slider.offsetHeight/2)/this.$refs.panel.offsetHeight),this.setValue()}},beforeUnmount(){this.dragObj&&this.dragObj.destroy(),this.heightObj&&this.heightObj.destroy()}},tn=e=>(t.pushScopeId("data-v-2743107c"),e=e(),t.popScopeId(),e),sn={class:"mvi-color-picker"},nn={class:"mvi-color-picker-panel-slider",ref:"slider"},on=tn((()=>t.createElementVNode("div",{class:"mvi-color-picker-slider"},null,-1))),rn={key:0,class:"mvi-color-picker-alpha"},ln=tn((()=>t.createElementVNode("div",{class:"mvi-color-picker-slider"},null,-1)));const an=T(en,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Slider");return t.openBlock(),t.createElementBlock("div",sn,[t.createElementVNode("div",{class:"mvi-color-picker-panel",ref:"panel",style:t.normalizeStyle(r.panelStyle),onClick:i[0]||(i[0]=(...e)=>r.clickPanelSetColor&&r.clickPanelSetColor(...e))},[t.createElementVNode("div",nn,null,512)],4),t.createVNode(l,{modelValue:o.hsv[0],"onUpdate:modelValue":i[1]||(i[1]=e=>o.hsv[0]=e),min:0,max:360,"stroke-width":"0.3rem",square:"","track-color":"linear-gradient(to right, #f00 0%, #ff0 16.66%, #0f0 33.33%, #0ff 50%, #00f 66.66%, #f0f 83.33%, #f00 100%)",color:"transparent",onChange:r.setValue},{button:t.withCtx((()=>[on])),_:1},8,["modelValue","onChange"]),s.showAlpha?(t.openBlock(),t.createElementBlock("div",rn,[t.createVNode(l,{modelValue:o.opacity,"onUpdate:modelValue":i[2]||(i[2]=e=>o.opacity=e),min:0,max:1,"stroke-width":"0.3rem",square:"","track-color":r.alphaTrackColor,color:"transparent",onChange:r.setValue},{button:t.withCtx((()=>[ln])),_:1},8,["modelValue","track-color","onChange"])])):t.createCommentVNode("",!0)])}],["__scopeId","data-v-2743107c"]]);an.install=e=>{e.component(an.name,an)};const cn={name:"m-image-preview",data:()=>({firstShow:!1,enableTouch:!0,imageRefs:[]}),emits:["update:modelValue","change"],props:{modelValue:{type:Boolean,default:!1},images:{type:Array,default:function(){return[]}},descriptions:{type:Array,default:function(){return[]}},active:{type:Number,default:0},mountEl:{type:String,default:null},showPage:{type:Boolean,default:!0},zIndex:{type:Number,default:5e3},fade:{type:Boolean,default:!1},showControl:{type:Boolean,default:!1},usePadding:{type:Boolean,default:!1},errorIcon:{type:[String,Object],default:{size:"1rem",type:"image-error"}},loadIcon:{type:[String,Object],default:function(){return{size:"1rem",type:"image-alt"}}},useTools:{type:Boolean,default:!1},maxScale:{type:Number,default:3},minScale:{type:Number,default:.3}},computed:{$$el(){return this.$refs.overlay.$$el},show:{set(e){this.$emit("update:modelValue",e)},get(){return this.modelValue}}},components:{Overlay:le,Swiper:hs,SwiperSlide:ds,Icon:$,RichImage:T({name:"m-rich-image",data:()=>({isDoubleTouch:!1,touchDistance:0,scale:1,translateX:0,translateY:0,startX:0,startY:0,canMove:!1,downPoint:null,upPoint:null,isTriggerDouble:!1,timer:null,rotate:0}),props:{src:{type:String,default:""},loadIcon:{type:[String,Object],default:null},errorIcon:{type:[String,Object],default:null},maxScale:{type:Number,default:3},minScale:{type:Number,default:.3}},emits:["close-preview","disable-swiper-touch","enable-swiper-touch"],components:{Image:re},computed:{imgStyle(){return{transform:`scale(${this.scale}) translate(${this.translateX}px,${this.translateY}px) rotate(${this.rotate}deg)`}}},setup:()=>({uid:t.getCurrentInstance().uid}),mounted(){u.event.on(document.documentElement,`mousemove.richImage_${this.uid}`,this.imageMouseMove),u.event.on(document.documentElement,`mouseup.richImage_${this.uid}`,this.imageMouseUp)},methods:{leftRotate(){this.translateX=0,this.translateY=0,this.scale=1,this.rotate-=90},rightRotate(){this.translateX=0,this.translateY=0,this.scale=1,this.rotate+=90},scalePlus(){this.scale<this.maxScale&&(this.translateX=0,this.translateY=0,this.scale=u.number.add(this.scale,.1))},scaleMinus(){this.scale>this.minScale&&(this.translateX=0,this.translateY=0,this.scale=u.number.subtract(this.scale,.1))},scaleImageByWheel(e){e.cancelable&&e.preventDefault(),(e.wheelDeltaY||-e.deltaY)>0?this.scalePlus():this.scaleMinus()},scaleImageByTouch(e,t){if(0==e)this.isTriggerDouble=!1,2==t.touches.length?(this.disableSwiperTouch(),this.isDoubleTouch=!0,this.canMove=!1,this.touchDistance=this.getDistance(t.touches[0],t.touches[1])):(this.isDoubleTouch=!1,this.scale>1&&(this.disableSwiperTouch(),this.startX=t.targetTouches[0].pageX,this.startY=t.targetTouches[0].pageY,this.canMove=!0));else if(1==e)if(2==t.touches.length&&this.isDoubleTouch){t.cancelable&&t.preventDefault();let e=this.getDistance(t.touches[0],t.touches[1]);e<this.touchDistance?this.scale>this.minScale&&(this.translateX=0,this.translateY=0,this.scale=u.number.add(this.scale,u.number.divide(u.number.subtract(e,this.touchDistance),this.$el.offsetWidth))):this.scale<this.maxScale&&(this.translateX=0,this.translateY=0,this.scale=u.number.add(this.scale,u.number.divide(u.number.subtract(e,this.touchDistance),this.$el.offsetWidth))),this.touchDistance=e}else{t.cancelable&&t.preventDefault();let e=t.targetTouches[0].pageX,i=t.targetTouches[0].pageY;this.canMove&&this.imageTranslate(e,i)}else 2==e&&(this.isDoubleTouch?(this.scale<1&&this.doTransition((()=>{this.scale=1})),this.isTriggerDouble=!0,this.isDoubleTouch=!1,this.enableSwiperTouch()):this.canMove&&!this.isTriggerDouble&&this.imageTranslateEnd())},getDistance(e,t){let i=t.pageX-e.pageX,s=t.pageY-e.pageY;return Math.sqrt(i*i+s*s)},reset(){this.scale=1,this.translateX=0,this.translateY=0,this.rotate=0,this.enableSwiperTouch()},judgeClose(e,t){0==e?this.downPoint={x:t.pageX,y:t.pageY}:1==e&&(this.upPoint={x:t.pageX,y:t.pageY})},closePreview(){this.downPoint&&this.upPoint&&this.downPoint.x==this.upPoint.x&&this.downPoint.y==this.upPoint.y&&this.$emit("close-preview")},imageMouseDown(e){this.scale<=1||(this.disableSwiperTouch(),this.startX=e.pageX,this.startY=e.pageY,this.canMove=!0)},imageMouseMove(e){e.cancelable&&e.preventDefault();let t=e.pageX,i=e.pageY;this.canMove&&this.imageTranslate(t,i)},imageMouseUp(e){this.canMove&&this.imageTranslateEnd()},doTransition(e){this.$refs.img.$el.style.transition="transform 300ms",this.$refs.img.$el.style.webkitTransition="transform 300ms",this.$refs.img.$el.offsetWidth,e(),setTimeout((()=>{this.$refs.img.$el.style.transition="",this.$refs.img.$el.style.webkitTransition="",this.$refs.img.$el.offsetWidth}),300)},imageTranslate(e,t){let i=u.number.divide(e-this.startX,2),s=u.number.divide(t-this.startY,2);const n=u.element.getElementBounding(this.$refs.img.$el);i>0&&n.left>=0||i<0&&n.right>=0||s>0&&n.top>=0||s<0&&n.bottom>=0||(this.translateX=this.translateX+i,this.translateY=this.translateY+s,this.startX=e,this.startY=t)},imageTranslateEnd(){const e=u.element.getElementBounding(this.$refs.img.$el);e.left>0&&this.doTransition((()=>{this.translateX=this.translateX-e.left})),e.top>0&&this.doTransition((()=>{this.translateY=this.translateY-e.top})),e.right>0&&this.doTransition((()=>{this.translateX=this.translateX+e.right})),e.bottom>0&&this.doTransition((()=>{this.translateY=this.translateY+e.bottom})),this.canMove=!1,this.enableSwiperTouch()},disableSwiperTouch(){clearTimeout(this.timer),this.$emit("disable-swiper-touch")},enableSwiperTouch(){this.timer=setTimeout((()=>{this.$emit("enable-swiper-touch")}),100)}},beforeUnmount(){u.event.off(document.documentElement,`mousemove.richImage_${this.uid} mouseup.richImage_${this.uid}`)}},[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Image");return t.openBlock(),t.createElementBlock("div",{class:"mvi-rich-image",onMousewheel:i[0]||(i[0]=(...e)=>r.scaleImageByWheel&&r.scaleImageByWheel(...e)),onTouchstart:i[1]||(i[1]=e=>r.scaleImageByTouch(0,e)),onTouchmove:i[2]||(i[2]=e=>r.scaleImageByTouch(1,e)),onTouchend:i[3]||(i[3]=e=>r.scaleImageByTouch(2,e)),onMousedown:i[4]||(i[4]=e=>r.judgeClose(0,e)),onMouseup:i[5]||(i[5]=e=>r.judgeClose(1,e)),onClick:i[6]||(i[6]=(...e)=>r.closePreview&&r.closePreview(...e))},[t.createVNode(l,{ref:"img",fit:"response",onMousedown:r.imageMouseDown,style:t.normalizeStyle(r.imgStyle),width:"100%",height:"100%",src:s.src,"load-icon":s.loadIcon,"error-icon":s.errorIcon},null,8,["onMousedown","style","src","load-icon","error-icon"])],32)}],["__scopeId","data-v-a4afd322"]])},methods:{resetImage(e){this.imageRefs[e].reset()},plusImage(e){this.imageRefs[e].scalePlus()},minusImage(e){this.imageRefs[e].scaleMinus()},leftRotateImage(e){this.imageRefs[e].leftRotate()},rightRotateImage(e){this.imageRefs[e].rightRotate()},overlayShowing(){this.firstShow||(this.firstShow=!0)},closeOverlay(e){for(let t of this.imageRefs)t.reset();this.show=!1},swiperChange(e){for(let t of this.imageRefs)t.reset();this.$emit("change",e)}}},hn={key:0,class:"mvi-image-preview-page"},dn={key:1},mn=["textContent"],un=(e=>(t.pushScopeId("data-v-bdc0dfbe"),e=e(),t.popScopeId(),e))((()=>t.createElementVNode("span",null,"/",-1))),pn=["textContent"],fn={key:1,class:"mvi-image-preview-footer"},gn={key:0,class:"mvi-image-preview-tools"},yn=["textContent"];const bn=T(cn,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("RichImage"),a=t.resolveComponent("SwiperSlide"),c=t.resolveComponent("Icon"),h=t.resolveComponent("Swiper"),d=t.resolveComponent("Overlay");return t.openBlock(),t.createBlock(d,{ref:"overlay",modelValue:r.show,"onUpdate:modelValue":i[2]||(i[2]=e=>r.show=e),color:"#000",fade:!1,onShowing:r.overlayShowing,"z-index":s.zIndex,"use-padding":s.usePadding,mountEl:s.mountEl},{default:t.withCtx((()=>[o.firstShow?(t.openBlock(),t.createBlock(h,{key:0,class:"mvi-image-preview-swiper","initial-slide":s.active,"show-indicators":"",ref:"swiper",onChange:r.swiperChange,"show-control":s.showControl,fade:s.fade,touchable:o.enableTouch},{indicators:t.withCtx((i=>[s.showPage?(t.openBlock(),t.createElementBlock("div",hn,[e.$slots.page?t.renderSlot(e.$slots,"page",{key:0,total:i.total,current:i.active},void 0,!0):(t.openBlock(),t.createElementBlock("div",dn,[t.createElementVNode("span",{textContent:t.toDisplayString(i.active+1)},null,8,mn),un,t.createElementVNode("span",{textContent:t.toDisplayString(i.total)},null,8,pn)]))])):t.createCommentVNode("",!0),s.useTools||e.$slots.descriptions||s.descriptions.length>0?(t.openBlock(),t.createElementBlock("div",fn,[s.useTools?(t.openBlock(),t.createElementBlock("div",gn,[t.createVNode(c,{onClick:e=>r.plusImage(i.active),class:"mvi-image-preview-tools-icon",type:"search-plus-o"},null,8,["onClick"]),t.createVNode(c,{onClick:e=>r.minusImage(i.active),class:"mvi-image-preview-tools-icon",type:"search-minus-o"},null,8,["onClick"]),t.createVNode(c,{onClick:e=>r.resetImage(i.active),class:"mvi-image-preview-tools-icon",type:"double-circle"},null,8,["onClick"]),t.createVNode(c,{onClick:e=>r.leftRotateImage(i.active),class:"mvi-image-preview-tools-icon",type:"left-rotate"},null,8,["onClick"]),t.createVNode(c,{onClick:e=>r.rightRotateImage(i.active),class:"mvi-image-preview-tools-icon",type:"right-rotate"},null,8,["onClick"]),e.$slots.tools?t.renderSlot(e.$slots,"tools",{key:0},void 0,!0):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.$slots.descriptions||s.descriptions.length>0?(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(["mvi-image-preview-description",s.useTools?"mvi-image-preview-description-margin":""])},[e.$slots.descriptions?t.renderSlot(e.$slots,"descriptions",{key:0,total:i.total,current:i.active},void 0,!0):s.descriptions.length>0?(t.openBlock(),t.createElementBlock("div",{key:1,class:"mvi-image-preview-description-el",textContent:t.toDisplayString(s.descriptions[i.active])},null,8,yn)):t.createCommentVNode("",!0)],2)):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0)])),default:t.withCtx((()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(s.images,((e,n)=>(t.openBlock(),t.createBlock(a,{class:"mvi-preview-container"},{default:t.withCtx((()=>[t.createVNode(l,{ref_for:!0,ref:e=>o.imageRefs[n]=e,onClosePreview:r.closeOverlay,onDisableSwiperTouch:i[0]||(i[0]=e=>o.enableTouch=!1),onEnableSwiperTouch:i[1]||(i[1]=e=>o.enableTouch=!0),src:e,"error-icon":s.errorIcon,"load-icon":s.loadIcon,"max-scale":s.maxScale,"min-scale":s.minScale},null,8,["onClosePreview","src","error-icon","load-icon","max-scale","min-scale"])])),_:2},1024)))),256))])),_:3},8,["initial-slide","onChange","show-control","fade","touchable"])):t.createCommentVNode("",!0)])),_:3},8,["modelValue","onShowing","z-index","use-padding","mountEl"])}],["__scopeId","data-v-bdc0dfbe"]]);bn.install=e=>{e.component(bn.name,bn)};const vn={name:"m-page",data:()=>({el:null}),emits:["update:modelValue","change"],props:{modelValue:{type:Number,default:1},total:{type:Number,default:1},overNumber:{type:Number,default:3,validator:e=>e%2!=0},prevText:{type:String,default:null},nextText:{type:String,default:null},prevIcon:{type:[String,Object],default:"angle-left"},nextIcon:{type:[String,Object],default:"angle-right"},simple:{type:Boolean,default:!1},firstText:{type:String,default:null},lastText:{type:String,default:null},firstIcon:{type:[Object,String],default:"angle-double-left"},lastIcon:{type:[Object,String],default:"angle-double-right"},color:{type:String,default:null},active:{type:Boolean,default:!0}},computed:{pageStyle(){return e=>{let t={};return this.modelValue==e?(this.el&&(t.color=u.element.getCssStyle(this.el,"background-color")),t.backgroundColor=this.color||""):t.color=this.color||"",t}},arr(){let e=[];if(this.modelValue<=(this.overNumber-1)/2+1)for(let t=0;t<this.overNumber;t++)e.push(t+1);else if(this.modelValue<=this.total-(this.overNumber-1)/2){for(let t=0;t<(this.overNumber-1)/2;t++)e.push(this.modelValue-((this.overNumber-1)/2-t));e.push(this.modelValue);for(let t=0;t<(this.overNumber-1)/2;t++)e.push(this.modelValue+(t+1))}else for(let t=0;t<this.overNumber;t++)e.push(this.total-(this.overNumber-1-t));return e},parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},firstStyle(){let e={};return this.modelValue>1&&this.color&&(e.color=this.color),e},lastStyle(){let e={};return this.modelValue<this.total&&this.color&&(e.color=this.color),e}},components:{Icon:$},mounted(){this.el=this.$el},methods:{pagePrev(){if(1==this.modelValue)return;let e=this.modelValue-1;this.$emit("update:modelValue",e),this.$emit("change",e)},pageNext(){if(this.modelValue==this.total)return;let e=this.modelValue+1;this.$emit("update:modelValue",e),this.$emit("change",e)},pageFirst(){1!=this.modelValue&&(this.$emit("update:modelValue",1),this.$emit("change",1))},pageLast(){this.modelValue!=this.total&&(this.$emit("update:modelValue",this.total),this.$emit("change",this.total))},toPage(e){this.modelValue!=e&&(e>=this.total&&(e=this.total),e<=1&&(e=1),this.$emit("update:modelValue",e),this.$emit("change",e))}}},wn={class:"mvi-page"},kn=["disabled"],En=["textContent"],xn=["disabled"],Cn=["textContent"],Sn={class:"mvi-page-numbers"},Tn={key:0,class:"mvi-page-numbers-simple"},$n={key:1,class:"mvi-page-numbers-items"},In=["textContent","onClick"],Bn=["textContent","onClick"],_n=["disabled"],Nn=["textContent"],Pn=["disabled"],zn=["textContent"];const An=T(vn,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",wn,[s.firstText||r.parseIcon(s.firstIcon).type||r.parseIcon(s.firstIcon).url?(t.openBlock(),t.createElementBlock("div",{key:0,disabled:1==s.modelValue||null,onClick:i[0]||(i[0]=(...e)=>r.pageFirst&&r.pageFirst(...e)),class:t.normalizeClass(["mvi-page-first",s.active&&1!=s.modelValue?"active":""]),style:t.normalizeStyle(r.firstStyle)},[r.parseIcon(s.firstIcon).type||r.parseIcon(s.firstIcon).url?(t.openBlock(),t.createBlock(l,{key:0,class:t.normalizeClass(s.firstText?"margin-right":""),type:r.parseIcon(s.firstIcon).type,url:r.parseIcon(s.firstIcon).url,spin:r.parseIcon(s.firstIcon).spin,size:r.parseIcon(s.firstIcon).size,color:r.parseIcon(s.firstIcon).color},null,8,["class","type","url","spin","size","color"])):t.createCommentVNode("",!0),s.firstText?(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(s.firstText)},null,8,En)):t.createCommentVNode("",!0)],14,kn)):t.createCommentVNode("",!0),s.prevText||r.parseIcon(s.prevIcon).type||r.parseIcon(s.prevIcon).url?(t.openBlock(),t.createElementBlock("div",{key:1,disabled:1==s.modelValue||null,onClick:i[1]||(i[1]=(...e)=>r.pagePrev&&r.pagePrev(...e)),class:t.normalizeClass(["mvi-page-prev",s.active&&1!=s.modelValue?"active":""]),style:t.normalizeStyle(r.firstStyle)},[r.parseIcon(s.prevIcon).type||r.parseIcon(s.prevIcon).url?(t.openBlock(),t.createBlock(l,{key:0,class:t.normalizeClass(s.prevText?"margin-right":""),type:r.parseIcon(s.prevIcon).type,url:r.parseIcon(s.prevIcon).url,size:r.parseIcon(s.prevIcon).size,spin:r.parseIcon(s.prevIcon).spin,color:r.parseIcon(s.prevIcon).color},null,8,["class","type","url","size","spin","color"])):t.createCommentVNode("",!0),s.prevText?(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(s.prevText)},null,8,Cn)):t.createCommentVNode("",!0)],14,xn)):t.createCommentVNode("",!0),t.createElementVNode("div",Sn,[s.simple?(t.openBlock(),t.createElementBlock("div",Tn,t.toDisplayString(s.modelValue)+" / "+t.toDisplayString(s.total),1)):(t.openBlock(),t.createElementBlock("div",$n,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(s.total,(e=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[s.total<=s.overNumber?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["mvi-page-numbers-item",s.modelValue==e?"number-active":"",s.active&&s.modelValue!=e?"active":""]),textContent:t.toDisplayString(e),onClick:t=>r.toPage(e),style:t.normalizeStyle(r.pageStyle(e))},null,14,In)):t.createCommentVNode("",!0)],64)))),256)),s.total>s.overNumber&&s.modelValue>(s.overNumber-1)/2+1?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["mvi-page-numbers-item",s.active?"active":""]),onClick:i[2]||(i[2]=e=>r.toPage(s.modelValue-(s.overNumber-1))),style:t.normalizeStyle({color:s.color||""})},"...",6)):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.arr,(e=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[s.total>s.overNumber?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["mvi-page-numbers-item",s.modelValue==e?"number-active":"",s.active&&s.modelValue!=e?"active":""]),textContent:t.toDisplayString(e),onClick:t=>r.toPage(e),style:t.normalizeStyle(r.pageStyle(e))},null,14,Bn)):t.createCommentVNode("",!0)],64)))),256)),s.total>s.overNumber&&s.modelValue<s.total-(s.overNumber-1)/2?(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(["mvi-page-numbers-item",s.active?"active":""]),onClick:i[3]||(i[3]=e=>r.toPage(s.modelValue+(s.overNumber-1))),style:t.normalizeStyle({color:s.color||""})},"...",6)):t.createCommentVNode("",!0)]))]),s.nextText||r.parseIcon(s.nextIcon).type||r.parseIcon(s.nextIcon).url?(t.openBlock(),t.createElementBlock("div",{key:2,disabled:s.modelValue==s.total||null,onClick:i[4]||(i[4]=(...e)=>r.pageNext&&r.pageNext(...e)),class:t.normalizeClass(["mvi-page-next",s.active&&s.modelValue!=s.total?"active":""]),style:t.normalizeStyle(r.lastStyle)},[s.nextText?(t.openBlock(),t.createElementBlock("span",{key:0,textContent:t.toDisplayString(s.nextText)},null,8,Nn)):t.createCommentVNode("",!0),r.parseIcon(s.nextIcon).type||r.parseIcon(s.nextIcon).url?(t.openBlock(),t.createBlock(l,{key:1,class:t.normalizeClass(s.nextText?"margin-left":""),type:r.parseIcon(s.nextIcon).type,url:r.parseIcon(s.nextIcon).url,size:r.parseIcon(s.nextIcon).size,spin:r.parseIcon(s.nextIcon).spin,color:r.parseIcon(s.nextIcon).color},null,8,["class","type","url","size","spin","color"])):t.createCommentVNode("",!0)],14,_n)):t.createCommentVNode("",!0),s.lastText||r.parseIcon(s.lastIcon).type||r.parseIcon(s.lastIcon).url?(t.openBlock(),t.createElementBlock("div",{key:3,disabled:s.modelValue==s.total||null,onClick:i[5]||(i[5]=(...e)=>r.pageLast&&r.pageLast(...e)),class:t.normalizeClass(["mvi-page-last",s.active&&s.modelValue!=s.total?"active":""]),style:t.normalizeStyle(r.lastStyle)},[s.lastText?(t.openBlock(),t.createElementBlock("span",{key:0,textContent:t.toDisplayString(s.lastText)},null,8,zn)):t.createCommentVNode("",!0),r.parseIcon(s.lastIcon).type||r.parseIcon(s.lastIcon).url?(t.openBlock(),t.createBlock(l,{key:1,class:t.normalizeClass(s.lastText?"margin-left":""),type:r.parseIcon(s.lastIcon).type,url:r.parseIcon(s.lastIcon).url,size:r.parseIcon(s.lastIcon).size,spin:r.parseIcon(s.lastIcon).spin,color:r.parseIcon(s.lastIcon).color},null,8,["class","type","url","size","spin","color"])):t.createCommentVNode("",!0)],14,Pn)):t.createCommentVNode("",!0)])}],["__scopeId","data-v-f303e966"]]);An.install=e=>{e.component(An.name,An)};const On=T({name:"m-loading-bar",data:()=>({opacityTime:300,widthEnterTime:4e3,widthLeaveTime:2e3,timer:null,hasTriggerLeave:!1}),props:{color:{type:String,default:null},zIndex:{type:Number,default:null},__remove:{type:Function,default:function(){return function(){}}},__init:{type:Function,default:function(){return function(){}}}},computed:{cmpColor(){return"string"==typeof this.color&&this.color?this.color:null},cmpZIndex(){return u.number.isNumber(this.zIndex)?this.zIndex:null},barStyle(){let e={};return this.cmpColor&&(e.background=this.cmpColor),this.cmpZIndex&&(e.zIndex=this.cmpZIndex),e}},mounted(){this.__init(this),this.enter()},methods:{enter(){this.removeTransition(),this.$refs.bar.style.width=0,this.addTransition("enter"),this.$refs.bar.style.width=.9*window.innerWidth+"px",this.$refs.bar.style.opacity=1},leave(){this.hasTriggerLeave||(this.hasTriggerLeave=!0,this.addTransition("leave"),this.$refs.bar.style.width=window.innerWidth+"px",this.$refs.bar.style.opacity=0,this.timer=setTimeout((()=>{this.__remove()}),this.widthLeaveTime+this.opacityTime))},addTransition(e){"enter"==e?(this.$refs.bar.style.transition=`opacity ${this.opacityTime}ms linear, width ${this.widthEnterTime}ms ease-out`,this.$refs.bar.style.webkitTransition=`opacity ${this.opacityTime}ms linear, width ${this.widthEnterTime}ms ease-out`):"leave"==e&&(this.$refs.bar.style.transition=`opacity ${this.opacityTime}ms ${this.widthLeaveTime}ms linear, width ${this.widthLeaveTime}ms ease`,this.$refs.bar.style.webkitTransition=`opacity ${this.opacityTime}ms ${this.widthLeaveTime}ms linear, width ${this.widthLeaveTime}ms ease`),this.$refs.bar.offsetWidth},removeTransition(){this.$refs.bar.style.transition="",this.$refs.bar.style.webkitTransition="",this.$refs.bar.offsetWidth}},beforeUnmount(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[t.createElementVNode("div",{class:"mvi-loading-bar",ref:"bar",style:t.normalizeStyle(r.barStyle)},null,4)])}],["__scopeId","data-v-efd41e28"]]),Vn={initParams:e=>{let t={};return u.common.isObject(e)?(t.color=e.color,t.zIndex=e.zIndex):"string"==typeof e&&(t.color=e),t},showLoadingBar:e=>new Promise(((i,s)=>{Vn.$el&&Vn.$instance&&(Vn.$instance.unmount(),Vn.$el.remove());let n=Vn.initParams(e),o=u.element.string2dom("<div></div>");document.body.appendChild(o);const r=t.createApp(On,{...n,__init:e=>{Vn.$vm=e},__remove:()=>{r.unmount(),o.remove(),i()}});r.mount(o),Vn.$el=o,Vn.$instance=r})),hideLoadingBar:()=>{Vn.$vm&&Vn.$vm.leave()},install:e=>{e.config.globalProperties.$showLoadingBar=Vn.showLoadingBar,e.provide("$showLoadingBar",Vn.showLoadingBar),e.config.globalProperties.$hideLoadingBar=Vn.hideLoadingBar,e.provide("$hideLoadingBar",Vn.hideLoadingBar)}},Rn={name:"m-list",emits:["load","update:loading","update:error"],data:()=>({scrollObj:null}),props:{loading:{type:Boolean,default:!1},error:{type:Boolean,default:!1},finished:{type:Boolean,default:!1},loadingText:{type:String,default:"正在加载"},errorText:{type:String,default:"数据加载失败"},finishedText:{type:String,default:"没有更多了"},immediateLoad:{type:Boolean,default:!1},content:{type:String,default:"点我加载更多"},scrollEl:{type:String,default:null}},mounted(){this.initScroll(),this.immediateLoad&&this.doLoad()},methods:{initScroll(){const e=document.body.querySelector(this.scrollEl);e&&(this.scrollObj||(this.scrollObj=new v(e,{bottom:()=>{this.finished||this.loading||this.error||this.doLoad()}}),this.scrollObj.init()))},doLoad(){this.finished||(this.$emit("update:loading",!0),this.$emit("update:error",!1),this.$emit("load"))}}},Dn={class:"mvi-list"},Mn={key:0,class:"mvi-list-finished"},Ln={key:1},Hn={key:1,class:"mvi-list-loading"},Fn={key:1},Wn={key:1},jn={key:1};const Un=T(Rn,[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createElementBlock("div",Dn,[t.renderSlot(e.$slots,"default",{},void 0,!0),s.finished?(t.openBlock(),t.createElementBlock("div",Mn,[e.$slots.finished?t.renderSlot(e.$slots,"finished",{key:0},void 0,!0):(t.openBlock(),t.createElementBlock("span",Ln,t.toDisplayString(s.finishedText),1))])):s.loading?(t.openBlock(),t.createElementBlock("div",Hn,[e.$slots.loading?t.renderSlot(e.$slots,"loading",{key:0},void 0,!0):(t.openBlock(),t.createElementBlock("span",Fn,t.toDisplayString(s.loadingText),1))])):s.error?(t.openBlock(),t.createElementBlock("div",{key:2,onClick:i[0]||(i[0]=(...e)=>r.doLoad&&r.doLoad(...e)),class:"mvi-list-error"},[e.$slots.error?t.renderSlot(e.$slots,"error",{key:0},void 0,!0):(t.openBlock(),t.createElementBlock("span",Wn,t.toDisplayString(s.errorText),1))])):s.content||e.$slots.content?(t.openBlock(),t.createElementBlock("div",{key:3,onClick:i[1]||(i[1]=(...e)=>r.doLoad&&r.doLoad(...e)),class:"mvi-list-content"},[e.$slots.content?t.renderSlot(e.$slots,"content",{key:0},void 0,!0):(t.openBlock(),t.createElementBlock("span",jn,t.toDisplayString(s.content),1))])):t.createCommentVNode("",!0)])}],["__scopeId","data-v-72b97f74"]]);Un.install=e=>{e.component(Un.name,Un)};const Yn={name:"m-skeleton",props:{loading:{type:Boolean,default:!0},rows:{type:Number,default:1,validator:e=>e>0},rowWidth:{type:[String,Array],default:null},avatar:{type:Boolean,default:!1},title:{type:Boolean,default:!1},titleWidth:{type:String,default:null},animation:{type:Boolean,default:!1},round:{type:Boolean,default:!1},avatarSize:{type:String,default:null},avatarRound:{type:Boolean,default:!1}},computed:{avatarStyle(){let e={};return this.avatarSize&&(e.width=this.avatarSize,e.height=this.avatarSize),e},rowStyle(){return e=>{let t={};return this.rowWidth&&"string"==typeof this.rowWidth?t.width=this.rowWidth:Array.isArray(this.rowWidth)&&(t.width=this.rowWidth[e]||""),t}},titleStyle(){let e={};return this.titleWidth&&(e.width=this.titleWidth),e},rowsArray(){let e=[];for(let t=0;t<this.rows;t++)e.push(t);return e}}},qn={class:"mvi-skeleton-container"},Xn={key:0,class:"mvi-skeleton-avatar"},Kn={class:"mvi-skeleton-rows"};const Zn=T(Yn,[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createElementBlock("div",qn,[s.loading?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["mvi-skeleton",s.animation?"animation":""])},[s.avatar?(t.openBlock(),t.createElementBlock("div",Xn,[t.createElementVNode("div",{class:t.normalizeClass(["mvi-skeleton-avatar-el",s.avatarRound?"round":""]),style:t.normalizeStyle(r.avatarStyle)},null,6)])):t.createCommentVNode("",!0),t.createElementVNode("div",Kn,[s.title?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["mvi-skeleton-title",s.round?"round":""]),style:t.normalizeStyle(r.titleStyle)},null,6)):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.rowsArray,(e=>(t.openBlock(),t.createElementBlock("div",{style:t.normalizeStyle(r.rowStyle(e)),class:t.normalizeClass(["mvi-skeleton-row",s.round?"round":""])},null,6)))),256))])],2)):t.renderSlot(e.$slots,"default",{key:1},void 0,!0)])}],["__scopeId","data-v-3e02f14d"]]);Zn.install=e=>{e.component(Zn.name,Zn)};const Gn=T({name:"m-sign",props:{color:{type:String,default:"#505050"},background:{type:String,default:"#fff"},width:{type:Number,default:.05}},data:()=>({drawing:!1,inCanvas:!1}),setup:()=>({uid:t.getCurrentInstance().uid}),mounted(){this.init()},watch:{background(){this.clear()}},methods:{init(){this.$el.setAttribute("width",u.element.getCssStyle(this.$el,"width")),this.$el.setAttribute("height",u.element.getCssStyle(this.$el,"height")),this.clear(),u.event.on(document.documentElement,`mousemove.sign_${this.uid}`,this.canvasMouseMove),u.event.on(document.documentElement,`mouseup.sign_${this.uid}`,this.canvasMouseUp)},canvasMouseDown(e){this.drawing=!0,this.inCanvas=!0;const t=this.$el.getContext("2d"),i=u.element.getElementBounding(this.$el);t.beginPath(),t.moveTo(e.pageX-i.left,e.pageY-i.top)},canvasMouseMove(e){if(this.drawing&&this.inCanvas){const t=this.$el.getContext("2d"),i=u.element.getElementBounding(this.$el);t.lineTo(e.pageX-i.left,e.pageY-i.top),t.strokeStyle=this.color,t.lineWidth=u.element.rem2px(this.width),t.stroke()}},canvasMouseUp(e){this.drawing=!1;this.$el.getContext("2d").closePath()},canvasMouseEnter(e){if(this.drawing){this.inCanvas=!0;const t=this.$el.getContext("2d"),i=u.element.getElementBounding(this.$el);t.beginPath(),t.moveTo(e.pageX-i.left,e.pageY-i.top)}},canvasMouseLeave(e){if(this.drawing){this.$el.getContext("2d").closePath(),this.inCanvas=!1}},canvasTouchStart(e){const t=this.$el.getContext("2d"),i=u.element.getElementBounding(this.$el);t.beginPath(),t.moveTo(e.targetTouches[0].pageX-i.left,e.targetTouches[0].pageY-i.top)},canvasTouchMove(e){e.cancelable&&e.preventDefault();const t=this.$el.getContext("2d"),i=u.element.getElementBounding(this.$el);t.lineTo(e.targetTouches[0].pageX-i.left,e.targetTouches[0].pageY-i.top),t.strokeStyle=this.color,t.lineWidth=u.element.rem2px(this.width),t.stroke()},canvasTouchEnd(e){this.$el.getContext("2d").closePath()},clear(){const e=this.$el.getContext("2d");e.beginPath(),e.clearRect(0,0,this.$el.width,this.$el.height),e.rect(0,0,this.$el.width,this.$el.height),e.fillStyle=this.background,e.fill(),e.closePath()},getImage(){return this.$el.toDataURL("image/png")}},beforeUnmount(){u.event.off(document.documentElement,`mousemove.sign_${this.uid} mouseup.sign_${this.uid}`)}},[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createElementBlock("canvas",{class:"mvi-sign",onMousedown:i[0]||(i[0]=(...e)=>r.canvasMouseDown&&r.canvasMouseDown(...e)),onTouchstart:i[1]||(i[1]=(...e)=>r.canvasTouchStart&&r.canvasTouchStart(...e)),onTouchmove:i[2]||(i[2]=(...e)=>r.canvasTouchMove&&r.canvasTouchMove(...e)),onTouchend:i[3]||(i[3]=(...e)=>r.canvasTouchEnd&&r.canvasTouchEnd(...e)),onMouseleave:i[4]||(i[4]=(...e)=>r.canvasMouseLeave&&r.canvasMouseLeave(...e)),onMouseenter:i[5]||(i[5]=(...e)=>r.canvasMouseEnter&&r.canvasMouseEnter(...e))},null,32)}],["__scopeId","data-v-e343f79d"]]);Gn.install=e=>{e.component(Gn.name,Gn)};const Qn={name:"m-select",emits:["update:modelValue","change","clear"],data:()=>({hover:!1,focus:!1,target:null}),props:{modelValue:{type:[Object,Number,String,Array],default:null},options:{type:Array,default:[]},placeholder:{type:String,default:""},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},layerProps:{type:Object,default:function(){return{}}},height:{type:String,default:null},activeType:{type:String,default:"info",validator:e=>["info","success","warn","primary","error"].includes(e)},activeColor:{type:String,default:null,validator:e=>u.common.matchingText(e,"hex")},disabled:{type:Boolean,default:!1},icon:{type:String,default:"caret-down"},name:{type:String,default:null},round:{type:Boolean,default:!1},square:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},filterMethod:{type:Function,default:null},showSelected:{type:Boolean,default:!0},selectedIcon:{type:[String,Object],default:"success"},clearable:{type:Boolean,default:!1},props:{type:Object,default:function(){return{label:"label",value:"value"}}}},setup:()=>({uid:t.getCurrentInstance().uid}),computed:{formData(){return this.multiple&&Array.isArray(this.modelValue)?this.modelValue.join(","):this.modelValue},menuStyle(){let e={};return this.height&&(e.maxHeight=this.height),e},selectClass(){let e=["mvi-select",this.size];return this.round?e.push("round"):this.square&&e.push("square"),e},targetClass(){let e=["mvi-select-target"];return this.activeType&&!this.activeColor&&this.focus&&e.push(this.activeType),e},targetStyle(){let e={};if(this.activeColor&&this.focus){e.borderColor=this.activeColor;const t=u.color.hex2rgb(this.activeColor);e.boxShadow=`0 0 0.16rem rgba(${t[0]},${t[1]},${t[2]},0.5)`}return e},iconClass(){let e=["mvi-select-icon"];return this.focus&&e.push("active"),e},selectLabel(){if(this.multiple){let e=[];return this.cmpOptions.forEach((t=>{if(Array.isArray(this.modelValue)){this.modelValue.some((e=>u.common.equal(e,t.value)))&&e.push(t.label)}})),"function"==typeof this.filterMethod?this.filterMethod(e):e.join(" ")}{let e="";return this.cmpOptions.forEach((t=>{u.common.equal(this.modelValue,t.value)&&(e=t.label)})),"function"==typeof this.filterMethod?this.filterMethod(e):e}},isSelect(){return e=>{if(this.multiple){let t=this.modelValue.some((t=>u.common.equal(t,e.value)));return this.showSelected&&t}return!1}},parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},showClearIcon(){return this.multiple?!(0==this.modelValue.length||!this.hover):!(""===this.modelValue||null===this.modelValue||void 0===this.modelValue||!this.hover)},layerRealProps(){return{placement:this.layerProps.placement?this.layerProps.placement:"bottom-start",fixed:"boolean"==typeof this.layerProps.fixed&&this.layerProps.fixed,fixedAuto:"boolean"==typeof this.layerProps.fixedAuto&&this.layerProps.fixedAuto,width:this.layerProps.width,zIndex:u.number.isNumber(this.layerProps.zIndex)?this.layerProps.zIndex:400,offset:this.layerProps.offset?this.layerProps.offset:"0.1rem",animation:this.layerProps.animation,timeout:u.number.isNumber(this.layerProps.timeout)?this.layerProps.timeout:200,showTriangle:"boolean"==typeof this.layerProps.showTriangle&&this.layerProps.showTriangle,shadow:"boolean"!=typeof this.layerProps.shadow||this.layerProps.shadow,border:"boolean"==typeof this.layerProps.border&&this.layerProps.border,borderColor:this.layerProps.borderColor}},cmpOptions(){let e=[];return this.options.forEach((t=>{let i={};u.common.isObject(t)?(i.label=t[this.props.label],i.value=t[this.props.value],i.disabled=!!t.disabled):(i.label=t,i.value=t,i.disabled=!1),e.push(i)})),e}},components:{Layer:Es,Icon:$},methods:{doClear(e){e.stopPropagation(),this.disabled||this.clearable&&(this.focus&&(this.focus=!1),this.multiple?(this.$emit("update:modelValue",[]),this.$emit("clear",[])):(this.$emit("update:modelValue",null),this.$emit("clear",null)))},layerShow(){this.layerRealProps.width||(this.$refs.menu.style.width=this.$refs.target.offsetWidth+"px")},optionClick(e){if(!this.disabled&&!e.disabled){if(this.multiple){let t=this.modelValue;if(!Array.isArray(t))throw new TypeError("modelValue should be an array");t.some((t=>u.common.equal(t,e.value)))?t=t.filter((t=>!u.common.equal(t,e.value))):t.push(e.value),this.$emit("update:modelValue",t),this.$emit("change",this.cmpOptions.filter((e=>t.some((t=>u.common.equal(e.value,t))))))}else this.$emit("update:modelValue",e.value),this.$emit("change",e);this.trigger()}},trigger(){this.disabled||(this.focus=!this.focus)}}},Jn=["data-id","disabled"],eo=["data-id"],to=["data-placeholder","innerHTML"],io=["onClick","disabled"],so=["innerHTML"],no=["value","name"];const oo=T(Qn,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon"),a=t.resolveComponent("Layer");return t.openBlock(),t.createElementBlock("div",{"data-id":"mvi-select-"+n.uid,class:t.normalizeClass(r.selectClass),disabled:s.disabled||null},[t.createElementVNode("div",{onMouseenter:i[0]||(i[0]=e=>o.hover=!0),onMouseleave:i[1]||(i[1]=e=>o.hover=!1),"data-id":"mvi-select-target-"+n.uid,class:t.normalizeClass(r.targetClass),style:t.normalizeStyle(r.targetStyle),ref:"target",onClick:i[2]||(i[2]=(...e)=>r.trigger&&r.trigger(...e))},[t.createElementVNode("span",{class:t.normalizeClass(["mvi-select-label",r.selectLabel?"":"placeholder"]),"data-placeholder":s.placeholder,innerHTML:r.selectLabel},null,10,to),s.clearable?t.withDirectives((t.openBlock(),t.createBlock(l,{key:0,onClick:r.doClear,class:"mvi-clear-icon",type:"times-o"},null,8,["onClick"])),[[t.vShow,r.showClearIcon]]):t.createCommentVNode("",!0),t.withDirectives(t.createVNode(l,{class:t.normalizeClass(r.iconClass),type:s.icon},null,8,["class","type"]),[[t.vShow,!s.clearable||!r.showClearIcon]])],46,eo),t.createVNode(a,{modelValue:o.focus,"onUpdate:modelValue":i[3]||(i[3]=e=>o.focus=e),target:`[data-id='mvi-select-target-${n.uid}']`,root:`[data-id='mvi-select-${n.uid}']`,placement:r.layerRealProps.placement,offset:r.layerRealProps.offset,fixed:r.layerRealProps.fixed,"fixed-auto":r.layerRealProps.fixedAuto,"z-index":r.layerRealProps.zIndex,closable:"","show-triangle":r.layerRealProps.showTriangle,animation:r.layerRealProps.animation,timeout:r.layerRealProps.timeout,shadow:r.layerRealProps.shadow,border:r.layerRealProps.border,"border-color":r.layerRealProps.borderColor,width:r.layerRealProps.width,onShowing:r.layerShow,ref:"layer"},{default:t.withCtx((()=>[t.createElementVNode("div",{class:"mvi-select-menu",ref:"menu",style:t.normalizeStyle(r.menuStyle)},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.cmpOptions,(e=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-option",s.size]),onClick:t=>r.optionClick(e),disabled:e.disabled||null},[t.createElementVNode("div",{class:"mvi-option-value",innerHTML:e.label},null,8,so),r.isSelect(e)?(t.openBlock(),t.createBlock(l,{key:0,type:r.parseIcon(s.selectedIcon).type,spin:r.parseIcon(s.selectedIcon).spin,size:r.parseIcon(s.selectedIcon).size,url:r.parseIcon(s.selectedIcon).url,color:r.parseIcon(s.selectedIcon).color},null,8,["type","spin","size","url","color"])):t.createCommentVNode("",!0)],10,io)))),256))],4)])),_:1},8,["modelValue","target","root","placement","offset","fixed","fixed-auto","z-index","show-triangle","animation","timeout","shadow","border","border-color","width","onShowing"]),t.createElementVNode("input",{type:"hidden",value:r.formData,name:s.name},null,8,no)],10,Jn)}],["__scopeId","data-v-bca887f2"]]);oo.install=e=>{e.component(oo.name,oo)};const ro={name:"m-autocomplete",data:()=>({focus:!1}),emits:["update:modelValue","focus","blur","input","left-click","right-click","select","clear"],props:{modelValue:{type:String,default:""},placeholder:{type:String,default:""},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},list:{type:Array,default:function(){return[]}},activeType:{type:String,default:"info",validator:e=>["info","success","warn","error","primary"].includes(e)},activeColor:{type:String,default:null,validator:e=>u.common.matchingText(e,"hex")},filterMethod:{type:[Function,Boolean],default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},layerProps:{type:Object,default:function(){return{}}},height:{type:String,default:null},name:{type:String,default:null},leftIcon:{type:[String,Object],default:null},rightIcon:{type:[String,Object],default:null},round:{type:Boolean,default:!1},square:{type:Boolean,default:!1},align:{type:String,default:"left",validator:e=>["left","right","center"].includes(e)}},components:{Icon:$,Layer:Es},setup:()=>({uid:t.getCurrentInstance().uid}),computed:{show(){return this.focus&&0!=this.cmpFilter.length},parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},showClearIcon(){return!this.disabled&&!(!this.realValue||!this.focus)},clearStyle(){let e={};return(this.parseIcon(this.rightIcon).type||this.parseIcon(this.rightIcon).url)&&(e.borderRadius=0),e},menuStyle(){let e={};return this.height&&(e.maxHeight=this.height),e},cmpFilter(){return"function"==typeof this.filterMethod?this.filterMethod(this.realValue,this.list):this.filterMethod?this.defaultFilter():this.list},inputStyle(){let e={};return(this.parseIcon(this.leftIcon).type||this.parseIcon(this.leftIcon).url)&&(e.paddingLeft=0),(this.showClearIcon&&this.clearable||this.parseIcon(this.rightIcon).type||this.parseIcon(this.rightIcon).url)&&(e.paddingRight=0),this.align&&(e.textAlign=this.align),e},autocompleteClass(){let e=["mvi-autocomplete",this.size];return this.round?e.push("round"):this.square&&e.push("square"),e},targetStyle(){let e={};if(this.activeColor&&this.focus){e.borderColor=this.activeColor;const t=u.color.hex2rgb(this.activeColor);e.boxShadow=`0 0 0.16rem rgba(${t[0]},${t[1]},${t[2]},0.5)`}return e},targetClass(){let e=["mvi-autocomplete-target"];return this.activeType&&!this.activeColor&&this.focus&&e.push(this.activeType),e},realValue:{set(e){this.modelValue!==e&&this.$emit("update:modelValue",e)},get(){return this.modelValue}},layerRealProps(){return{placement:this.layerProps.placement?this.layerProps.placement:"bottom-start",fixed:"boolean"==typeof this.layerProps.fixed&&this.layerProps.fixed,fixedAuto:"boolean"==typeof this.layerProps.fixedAuto&&this.layerProps.fixedAuto,width:this.layerProps.width,zIndex:u.number.isNumber(this.layerProps.zIndex)?this.layerProps.zIndex:400,offset:this.layerProps.offset?this.layerProps.offset:"0.1rem",animation:this.layerProps.animation,timeout:u.number.isNumber(this.layerProps.timeout)?this.layerProps.timeout:200,showTriangle:"boolean"==typeof this.layerProps.showTriangle&&this.layerProps.showTriangle,shadow:"boolean"!=typeof this.layerProps.shadow||this.layerProps.shadow,border:"boolean"==typeof this.layerProps.border&&this.layerProps.border,borderColor:this.layerProps.borderColor}}},methods:{layerShow(){this.layerRealProps.width||(this.$refs.menu.style.width=this.$refs.target.offsetWidth+"px")},rightClick(e){this.disabled||this.$emit("right-click",this.realValue)},leftClick(e){this.disabled||this.$emit("left-click",this.realValue)},input(){this.disabled||(this.focus=!0,this.$refs.layer.reset(),this.$emit("input",this.realValue))},inputBlur(){this.disabled||setTimeout((()=>{this.focus=!1,this.$emit("blur",this.realValue)}),100)},inputFocus(){this.disabled||(this.focus=!0,this.$emit("focus",this.realValue))},doClear(){this.disabled||this.clearable&&setTimeout((()=>{this.realValue="",this.$emit("clear",""),this.$refs.input.focus()}),110)},doSelect(e){this.disabled||(this.realValue=e,this.$emit("select",e),this.focus=!1)},defaultFilter(){return this.list.filter((e=>String(e).toLocaleLowerCase().includes(this.realValue.toLocaleLowerCase())))}}},lo=["data-id","disabled"],ao=["data-id"],co=["placeholder","name","disabled"],ho=["textContent","onClick"];const mo=T(ro,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon"),a=t.resolveComponent("Layer");return t.openBlock(),t.createElementBlock("div",{"data-id":"mvi-autocomplete-"+n.uid,class:t.normalizeClass(r.autocompleteClass),disabled:s.disabled||null},[t.createElementVNode("div",{class:t.normalizeClass(r.targetClass),style:t.normalizeStyle(r.targetStyle),"data-id":"mvi-autocomplete-target-"+n.uid,ref:"target"},[r.parseIcon(s.leftIcon).type||r.parseIcon(s.leftIcon).url?(t.openBlock(),t.createElementBlock("div",{key:0,onClick:i[0]||(i[0]=(...e)=>r.leftClick&&r.leftClick(...e)),class:"mvi-autocomplete-left-icon"},[t.createVNode(l,{type:r.parseIcon(s.leftIcon).type,url:r.parseIcon(s.leftIcon).url,spin:r.parseIcon(s.leftIcon).spin,size:r.parseIcon(s.leftIcon).size,color:r.parseIcon(s.leftIcon).color},null,8,["type","url","spin","size","color"])])):t.createCommentVNode("",!0),t.withDirectives(t.createElementVNode("input",{ref:"input",onInput:i[1]||(i[1]=(...e)=>r.input&&r.input(...e)),"onUpdate:modelValue":i[2]||(i[2]=e=>r.realValue=e),type:"text",placeholder:s.placeholder,style:t.normalizeStyle(r.inputStyle),name:s.name,onFocus:i[3]||(i[3]=(...e)=>r.inputFocus&&r.inputFocus(...e)),onBlur:i[4]||(i[4]=(...e)=>r.inputBlur&&r.inputBlur(...e)),disabled:s.disabled||null,autocomplete:"off"},null,44,co),[[t.vModelText,r.realValue]]),s.clearable?t.withDirectives((t.openBlock(),t.createElementBlock("div",{key:1,onClick:i[5]||(i[5]=(...e)=>r.doClear&&r.doClear(...e)),class:"mvi-autocomplete-clear",style:t.normalizeStyle(r.clearStyle)},[t.createVNode(l,{type:"times-o"})],4)),[[t.vShow,r.showClearIcon]]):t.createCommentVNode("",!0),r.parseIcon(s.rightIcon).type||r.parseIcon(s.rightIcon).url?(t.openBlock(),t.createElementBlock("div",{key:2,class:"mvi-autocomplete-right-icon",onClick:i[6]||(i[6]=(...e)=>r.rightClick&&r.rightClick(...e))},[t.createVNode(l,{type:r.parseIcon(s.rightIcon).type,url:r.parseIcon(s.rightIcon).url,spin:r.parseIcon(s.rightIcon).spin,size:r.parseIcon(s.rightIcon).size,color:r.parseIcon(s.rightIcon).color},null,8,["type","url","spin","size","color"])])):t.createCommentVNode("",!0)],14,ao),t.createVNode(a,{"model-value":r.show,target:`[data-id='mvi-autocomplete-target-${n.uid}']`,root:`[data-id='mvi-autocomplete-${n.uid}']`,placement:r.layerRealProps.placement,offset:r.layerRealProps.offset,fixed:r.layerRealProps.fixed,"z-index":r.layerRealProps.zIndex,"fixed-auto":r.layerRealProps.fixedAuto,ref:"layer",animation:r.layerRealProps.animation,shadow:r.layerRealProps.shadow,border:r.layerRealProps.border,timeout:r.layerRealProps.timeout,closable:!1,"show-triangle":r.layerRealProps.showTriangle,"border-color":r.layerRealProps.borderColor,width:r.layerRealProps.width,onShowing:r.layerShow},{default:t.withCtx((()=>[t.createElementVNode("div",{class:"mvi-autocomplete-menu",style:t.normalizeStyle(r.menuStyle),ref:"menu"},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.cmpFilter,(e=>(t.openBlock(),t.createElementBlock("div",{class:"mvi-autocomplete-list",textContent:t.toDisplayString(e),onClick:t=>r.doSelect(e)},null,8,ho)))),256))],4)])),_:1},8,["model-value","target","root","placement","offset","fixed","z-index","fixed-auto","animation","shadow","border","timeout","show-triangle","border-color","width","onShowing"])],10,lo)}],["__scopeId","data-v-2944b7f3"]]);mo.install=e=>{e.component(mo.name,mo)};const uo={name:"m-date-chooser",data:()=>({show:!1,view:"date",selectedDate:new Date}),emits:["update:modelValue","change"],props:{modelValue:{type:Date,default:function(){return new Date}},disabled:{type:Boolean,default:!1},layerProps:{type:Object,default:function(){return{}}},closable:{type:Boolean,default:!0},trigger:{type:String,default:"click",validator:e=>["hover","click","custom"].includes(e)},mode:{type:String,default:"date",validator:e=>["year","month","date"].includes(e)},monthText:{type:Array,default:function(){return["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]}},weekText:{type:Array,default:function(){return["日","一","二","三","四","五","六"]}},startDate:{type:Date,default:function(){return Ee("1970-01-01").toDate()}},endDate:{type:Date,default:function(){return Ee("2099-01-01").toDate()}},active:{type:Boolean,default:!0},type:{type:String,default:"info",validator:e=>["info","primary","error","warn","success"].includes(e)},block:{type:Boolean,default:!1},headerFormatter:{type:Function}},setup:()=>({uid:t.getCurrentInstance().uid}),computed:{layerRealProps(){return{placement:this.layerProps.placement?this.layerProps.placement:"bottom-start",fixed:"boolean"==typeof this.layerProps.fixed&&this.layerProps.fixed,fixedAuto:"boolean"==typeof this.layerProps.fixedAuto&&this.layerProps.fixedAuto,width:this.layerProps.width,zIndex:u.number.isNumber(this.layerProps.zIndex)?this.layerProps.zIndex:400,offset:this.layerProps.offset?this.layerProps.offset:"0.2rem",animation:this.layerProps.animation,timeout:u.number.isNumber(this.layerProps.timeout)?this.layerProps.timeout:200,showTriangle:"boolean"==typeof this.layerProps.showTriangle&&this.layerProps.showTriangle,shadow:"boolean"!=typeof this.layerProps.shadow||this.layerProps.shadow,border:"boolean"==typeof this.layerProps.border&&this.layerProps.border,borderColor:this.layerProps.borderColor}},years(){let e=[];const t=this.selectedDate.getFullYear(),i=this.startDate.getFullYear();let s=Math.floor((t-i)/12);for(let n=i+12*s;n<i+12*s+12;n++)e.push(Ee(this.modelValue).year(n).toDate());return e},formatShow(){return(e,t)=>{if("function"==typeof this.headerFormatter){if("year"==e)return this.headerFormatter.apply(this,[e,t.getFullYear()]);if("month"==e)return this.headerFormatter.apply(this,[e,t.getMonth()+1])}return"year"==e?Ee(t).format("YYYY")+"年":"month"==e?Ee(t).format("MM")+"月":void 0}}},components:{Layer:Es,Icon:$,Calendar:Js},created(){this.view=this.mode,this.selectedDate=this.modelValue},mounted(){"hover"==this.trigger&&(u.event.on(this.$el,"mouseenter.dateChooser",this.openCalendar),u.event.on(this.$el,"mouseleave.dateChooser",this.closeCalendar))},methods:{layerShow(){this.layerRealProps.width||(this.$refs.panel.style.width=this.$refs.target.offsetWidth+"px")},clickCalendar(){this.disabled||"click"==this.trigger&&(this.show?this.closeCalendar():this.openCalendar())},dateClick(e){this.$emit("update:modelValue",e),this.$emit("change",e),this.show=!1},yearClick(e){if("year"==this.mode)return this.$emit("update:modelValue",e),this.$emit("change",e),void(this.show=!1);setTimeout((()=>{this.view="month"}),0)},monthClick(e){if("month"==this.mode)return this.$emit("update:modelValue",e),this.$emit("change",e),void(this.show=!1);setTimeout((()=>{this.view="date"}),0)},updateYear(e){this.selectedDate=Ee(this.selectedDate).add(e,"year").toDate(),this.$emit("update:modelValue",this.selectedDate),this.$emit("change",this.selectedDate)},updateMonth(e){this.selectedDate=Ee(this.selectedDate).add(e,"month").toDate(),this.$emit("update:modelValue",this.selectedDate),this.$emit("change",this.selectedDate)},goYear(){setTimeout((()=>{this.view="year"}),0)},goMonth(){setTimeout((()=>{this.view="month"}),0)},openCalendar(){this.disabled||(this.show=!0)},closeCalendar(){this.disabled||(this.show=!1)}},beforeUnmount(){"hover"==this.trigger&&u.event.off(this.$el,"mouseenter.dateChooser mouseleave.dateChooser")}},po=["data-id"],fo=["data-id"],go={class:"mvi-date-chooser-layer",ref:"panel"},yo={key:0,class:"mvi-date-chooser-year-header"},bo={class:"mvi-date-chooser-year-center"},vo=(e=>(t.pushScopeId("data-v-56d5162c"),e=e(),t.popScopeId(),e))((()=>t.createElementVNode("span",null,"-",-1))),wo={key:1,class:"mvi-date-chooser-month-header"},ko={key:2,class:"mvi-date-chooser-date-header"},Eo={class:"mvi-date-chooser-date-left"},xo={class:"mvi-date-chooser-date-center"},Co={class:"mvi-date-chooser-date-right"};const So=T(uo,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon"),a=t.resolveComponent("Calendar"),c=t.resolveComponent("Layer");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-date-chooser",s.block?"block":""]),"data-id":`mvi-date-chooser-${n.uid}`},[t.createElementVNode("div",{class:"mvi-date-chooser-target","data-id":`mvi-date-chooser-target-${n.uid}`,ref:"target",onClick:i[0]||(i[0]=(...e)=>r.clickCalendar&&r.clickCalendar(...e))},[t.renderSlot(e.$slots,"default",{},void 0,!0)],8,fo),t.createVNode(c,{target:`[data-id='mvi-date-chooser-target-${n.uid}']`,root:`[data-id='mvi-date-chooser-${n.uid}']`,modelValue:o.show,"onUpdate:modelValue":i[13]||(i[13]=e=>o.show=e),placement:r.layerRealProps.placement,fixed:r.layerRealProps.fixed,"fixed-auto":r.layerRealProps.fixedAuto,offset:r.layerRealProps.offset,"z-index":r.layerRealProps.zIndex,shadow:r.layerRealProps.shadow,border:r.layerRealProps.border,animation:r.layerRealProps.animation,"border-color":r.layerRealProps.borderColor,timeout:r.layerRealProps.timeout,closable:s.closable,"show-triangle":r.layerRealProps.showTriangle,width:r.layerRealProps.width,onShowing:r.layerShow},{default:t.withCtx((()=>[t.createElementVNode("div",go,["year"==o.view?(t.openBlock(),t.createElementBlock("div",yo,[t.createElementVNode("div",{class:t.normalizeClass(["mvi-date-chooser-year-left",s.type]),onClick:i[1]||(i[1]=e=>r.updateYear(-1))},[t.createVNode(l,{type:"angle-double-left"})],2),t.createElementVNode("div",bo,[t.createElementVNode("span",null,t.toDisplayString(r.formatShow("year",r.years[0])),1),vo,t.createElementVNode("span",null,t.toDisplayString(r.formatShow("year",r.years[r.years.length-1])),1)]),t.createElementVNode("div",{class:t.normalizeClass(["mvi-date-chooser-year-right",s.type]),onClick:i[2]||(i[2]=e=>r.updateYear(1))},[t.createVNode(l,{type:"angle-double-right"})],2)])):"month"==o.view?(t.openBlock(),t.createElementBlock("div",wo,[t.createElementVNode("div",{class:t.normalizeClass(["mvi-date-chooser-month-left",s.type]),onClick:i[3]||(i[3]=e=>r.updateYear(-1))},[t.createVNode(l,{type:"angle-double-left"})],2),t.createElementVNode("div",{class:t.normalizeClass(["mvi-date-chooser-month-center",s.type]),onClick:i[4]||(i[4]=(...e)=>r.goYear&&r.goYear(...e))},t.toDisplayString(r.formatShow("year",o.selectedDate)),3),t.createElementVNode("div",{class:t.normalizeClass(["mvi-date-chooser-month-right",s.type]),onClick:i[5]||(i[5]=e=>r.updateYear(1))},[t.createVNode(l,{type:"angle-double-right"})],2)])):"date"==o.view?(t.openBlock(),t.createElementBlock("div",ko,[t.createElementVNode("div",Eo,[t.createElementVNode("div",{class:t.normalizeClass(s.type),onClick:i[6]||(i[6]=e=>r.updateYear(-1))},[t.createVNode(l,{type:"angle-double-left"})],2),t.createElementVNode("div",{class:t.normalizeClass(s.type),onClick:i[7]||(i[7]=e=>r.updateMonth(-1))},[t.createVNode(l,{type:"angle-left"})],2)]),t.createElementVNode("div",xo,[t.createElementVNode("div",{class:t.normalizeClass(s.type),onClick:i[8]||(i[8]=(...e)=>r.goYear&&r.goYear(...e))},t.toDisplayString(r.formatShow("year",o.selectedDate)),3),t.createElementVNode("div",{class:t.normalizeClass(s.type),onClick:i[9]||(i[9]=(...e)=>r.goMonth&&r.goMonth(...e))},t.toDisplayString(r.formatShow("month",o.selectedDate)),3)]),t.createElementVNode("div",Co,[t.createElementVNode("div",{class:t.normalizeClass(s.type),onClick:i[10]||(i[10]=e=>r.updateMonth(1))},[t.createVNode(l,{type:"angle-right"})],2),t.createElementVNode("div",{class:t.normalizeClass(s.type),onClick:i[11]||(i[11]=e=>r.updateYear(1))},[t.createVNode(l,{type:"angle-double-right"})],2)])])):t.createCommentVNode("",!0),t.createVNode(a,{view:o.view,modelValue:o.selectedDate,"onUpdate:modelValue":i[12]||(i[12]=e=>o.selectedDate=e),"month-text":s.monthText,"week-text":s.weekText,"start-date":s.startDate,"end-date":s.endDate,"non-current-click":!1,active:s.active,type:s.type,onDateClick:r.dateClick,onMonthClick:r.monthClick,onYearClick:r.yearClick,ref:"calendar"},null,8,["view","modelValue","month-text","week-text","start-date","end-date","active","type","onDateClick","onMonthClick","onYearClick"])],512)])),_:1},8,["target","root","modelValue","placement","fixed","fixed-auto","offset","z-index","shadow","border","animation","border-color","timeout","closable","show-triangle","width","onShowing"])],10,po)}],["__scopeId","data-v-56d5162c"]]);So.install=e=>{e.component(So.name,So)};const To={name:"m-field",emits:["update:modelValue","prepend-click","prefix-click","append-click","suffix-click","focus","blur","input","clear"],data:()=>({focus:!1}),props:{modelValue:{type:[String,Number],default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},placeholder:{type:String,default:""},type:{type:String,default:"text",validator:e=>["text","password","number","tel","textarea"].includes(e)},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},maxlength:{type:Number,default:-1},round:{type:Boolean,default:!1},square:{type:Boolean,default:!1},prefix:{type:[String,Object],default:null},suffix:{type:[String,Object],default:null},prepend:{type:[String,Object],default:null},append:{type:[String,Object],default:null},activeType:{type:String,default:"info",validator:e=>["info","success","warn","primary","error"].includes(e)},activeColor:{type:String,default:null,validator:e=>u.common.matchingText(e,"hex")},clearable:{type:Boolean,default:!1},align:{type:String,default:"left",validator:e=>["left","center","right"].includes(e)},name:{type:String,default:null},autofocus:{type:Boolean,default:!1},inputMode:{type:[String,Boolean],default:!1,validator:e=>[!1,"none","text","decimal","numeric","tel","search","email","url"].includes(e)},rows:{type:Number,default:1},autosize:{type:[Boolean,Object],default:!1}},computed:{parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},showClear(){return!this.disabled&&!this.readonly&&!(!this.realValue||!this.focus)},clearStyle(){return{borderRadius:this.showSuffix?0:"",paddingRight:this.showSuffix?0:""}},inputStyle(){return{paddingLeft:this.showPrefix?0:"",paddingRight:this.showSuffix?0:"",textAlign:this.align?this.align:""}},fieldBodyStyle(){let e={};if(this.focus&&this.activeColor){e.borderColor=this.activeColor;const t=u.color.hex2rgb(this.activeColor);e.boxShadow=`0 0 0.16rem rgba(${t[0]},${t[1]},${t[2]},0.5)`}return e},fieldBodyClass(){let e=["mvi-field-body"];return this.showPrepend&&e.push("left-none-radius"),this.showAppend&&e.push("right-none-radius"),!this.activeColor&&this.activeType&&this.focus&&e.push(this.activeType),e},fieldClass(){let e=["mvi-field",this.size];return"textarea"==this.type||(this.round?e.push("round"):this.square&&e.push("square")),e},cmpType(){return"number"==this.type?"text":this.type},rowsFilter(){let e=this.rows;return u.common.isObject(this.autosize)&&(u.number.isNumber(this.autosize.minRows)&&this.rows<this.autosize.minRows&&(e=this.autosize.minRows),u.number.isNumber(this.autosize.maxRows)&&this.rows>this.autosize.maxRows&&(e=this.autosize.maxRows)),e},realValue:{set(e){this.modelValue!==e&&this.$emit("update:modelValue",e)},get(){let e=null===this.modelValue?"":this.modelValue.toString();return"number"==this.type&&(e=e.replace(/\D/g,"")),this.maxlength>0&&e.length>this.maxlength&&(e=e.substr(0,this.maxlength)),this.modelValue!==e&&this.$emit("update:modelValue",e),e}},showPrepend(){return"textarea"!=this.type&&(this.parseIcon(this.prepend).type||this.parseIcon(this.prepend).url||this.$slots.prepend)},showPrefix(){return"textarea"!=this.type&&(this.parseIcon(this.prefix).type||this.parseIcon(this.prefix).url||this.$slots.prefix)},showSuffix(){return"textarea"!=this.type&&(this.parseIcon(this.suffix).type||this.parseIcon(this.suffix).url||this.$slots.suffix)},showPrepend(){return"textarea"!=this.type&&(this.parseIcon(this.prepend).type||this.parseIcon(this.prepend).url||this.$slots.prepend)},showAppend(){return"textarea"!=this.type&&(this.parseIcon(this.append).type||this.parseIcon(this.append).url||this.$slots.append)}},components:{Icon:$},watch:{realValue(){this.$nextTick((()=>{this.$refs.textarea&&(1==this.autosize||u.common.isObject(this.autosize))&&this.autosizeSet()}))},rows(){this.$nextTick((()=>{this.$refs.textarea&&this.setMaxMinHeight()}))},autosize(){this.$nextTick((()=>{this.$refs.textarea&&this.setMaxMinHeight()}))}},mounted(){this.$refs.textarea&&(this.setMaxMinHeight(),(1==this.autosize||u.common.isObject(this.autosize))&&this.autosizeSet())},methods:{autosizeSet(){this.$refs.textarea.style.overflow="hidden",this.$refs.textarea.style.height="auto",this.$refs.textarea.scrollTop=0,this.$refs.textarea.style.height=u.element.getScrollHeight(this.$refs.textarea)+"px"},rows2Height(e){return e*Math.floor(parseFloat(u.element.getCssStyle(this.$refs.textarea,"line-height")))},setMaxMinHeight(){if(u.common.isObject(this.autosize)){if(u.number.isNumber(this.autosize.maxRows)){let e=this.rows2Height(this.autosize.maxRows)+parseFloat(u.element.getCssStyle(this.$refs.textarea,"padding-top"))+parseFloat(u.element.getCssStyle(this.$refs.textarea,"padding-bottom"));this.$refs.textarea.style.maxHeight=e+"px"}if(u.number.isNumber(this.autosize.minRows)){let e=this.rows2Height(this.autosize.minRows)+parseFloat(u.element.getCssStyle(this.$refs.textarea,"padding-top"))+parseFloat(u.element.getCssStyle(this.$refs.textarea,"padding-bottom"));this.$refs.textarea.style.minHeight=e+"px"}}else this.$refs.textarea.style.maxHeight="",this.$refs.textarea.style.minHeight=""},inputFocus(){this.disabled||(this.focus=!0,this.$emit("focus",this.realValue))},inputBlur(){this.disabled||setTimeout((()=>{this.focus=!1,this.$emit("blur",this.realValue)}),100)},input(){this.disabled||this.$emit("input",this.realValue)},prependClick(){this.disabled||this.$emit("prepend-click",this.realValue)},prefixClick(){this.disabled||this.$emit("prefix-click",this.realValue)},appendClick(){this.disabled||this.$emit("append-click",this.realValue)},suffixClick(){this.disabled||this.$emit("suffix-click",this.realValue)},doClear(){this.disabled||this.clearable&&setTimeout((()=>{this.realValue="",(this.$refs.input||this.$refs.textarea).focus(),this.$emit("clear",this.realValue)}),110)}}},$o=["disabled","data-type"],Io=["disabled","readonly","placeholder","maxlength","name","autofocus","rows"],Bo=["disabled","readonly","type","placeholder","inputmode","maxlength","name","autofocus"];const _o=T(To,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(r.fieldClass),disabled:s.disabled||null,"data-type":s.type},[r.showPrepend?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-field-prepend",onClick:i[0]||(i[0]=(...e)=>r.prependClick&&r.prependClick(...e))},[e.$slots.prepend?t.renderSlot(e.$slots,"prepend",{key:0},void 0,!0):(t.openBlock(),t.createBlock(l,{key:1,type:r.parseIcon(this.prepend).type,url:r.parseIcon(this.prepend).url,spin:r.parseIcon(this.prepend).spin,size:r.parseIcon(this.prepend).size,color:r.parseIcon(this.prepend).color},null,8,["type","url","spin","size","color"]))])):t.createCommentVNode("",!0),t.createElementVNode("div",{class:t.normalizeClass(r.fieldBodyClass),style:t.normalizeStyle(r.fieldBodyStyle)},[r.showPrefix?(t.openBlock(),t.createElementBlock("div",{key:0,class:"mvi-field-prefix",onClick:i[1]||(i[1]=(...e)=>r.prefixClick&&r.prefixClick(...e))},[e.$slots.prefix?t.renderSlot(e.$slots,"prefix",{key:0},void 0,!0):(t.openBlock(),t.createBlock(l,{key:1,type:r.parseIcon(this.prefix).type,url:r.parseIcon(this.prefix).url,spin:r.parseIcon(this.prefix).spin,size:r.parseIcon(this.prefix).size,color:r.parseIcon(this.prefix).color},null,8,["type","url","spin","size","color"]))])):t.createCommentVNode("",!0),"textarea"==s.type?t.withDirectives((t.openBlock(),t.createElementBlock("textarea",{key:1,ref:"textarea",disabled:s.disabled||null,readonly:s.readonly||null,class:"mvi-field-input",style:t.normalizeStyle(r.inputStyle),placeholder:s.placeholder,"onUpdate:modelValue":i[2]||(i[2]=e=>r.realValue=e),autocomplete:"off",onFocus:i[3]||(i[3]=(...e)=>r.inputFocus&&r.inputFocus(...e)),onBlur:i[4]||(i[4]=(...e)=>r.inputBlur&&r.inputBlur(...e)),maxlength:s.maxlength,name:s.name,autofocus:s.autofocus,rows:r.rowsFilter,onInput:i[5]||(i[5]=(...e)=>r.input&&r.input(...e))},null,44,Io)),[[t.vModelText,r.realValue]]):t.withDirectives((t.openBlock(),t.createElementBlock("input",{key:2,ref:"input",disabled:s.disabled||null,readonly:s.readonly||null,class:"mvi-field-input",style:t.normalizeStyle(r.inputStyle),type:r.cmpType,placeholder:s.placeholder,"onUpdate:modelValue":i[6]||(i[6]=e=>r.realValue=e),autocomplete:"off",inputmode:s.inputMode,onFocus:i[7]||(i[7]=(...e)=>r.inputFocus&&r.inputFocus(...e)),onBlur:i[8]||(i[8]=(...e)=>r.inputBlur&&r.inputBlur(...e)),maxlength:s.maxlength,name:s.name,autofocus:s.autofocus,onInput:i[9]||(i[9]=(...e)=>r.input&&r.input(...e))},null,44,Bo)),[[t.vModelDynamic,r.realValue]]),s.clearable&&"textarea"!=s.type?t.withDirectives((t.openBlock(),t.createElementBlock("div",{key:3,class:"mvi-field-clear",style:t.normalizeStyle(r.clearStyle),onClick:i[10]||(i[10]=(...e)=>r.doClear&&r.doClear(...e))},[t.createVNode(l,{type:"times-o"})],4)),[[t.vShow,r.showClear]]):t.createCommentVNode("",!0),r.showSuffix?(t.openBlock(),t.createElementBlock("div",{key:4,class:"mvi-field-suffix",onClick:i[11]||(i[11]=(...e)=>r.suffixClick&&r.suffixClick(...e))},[e.$slots.suffix?t.renderSlot(e.$slots,"suffix",{key:0},void 0,!0):(t.openBlock(),t.createBlock(l,{key:1,type:r.parseIcon(this.suffix).type,url:r.parseIcon(this.suffix).url,spin:r.parseIcon(this.suffix).spin,size:r.parseIcon(this.suffix).size,color:r.parseIcon(this.suffix).color},null,8,["type","url","spin","size","color"]))])):t.createCommentVNode("",!0)],6),r.showAppend?(t.openBlock(),t.createElementBlock("div",{key:1,class:"mvi-field-append",onClick:i[12]||(i[12]=(...e)=>r.appendClick&&r.appendClick(...e))},[e.$slots.append?t.renderSlot(e.$slots,"append",{key:0},void 0,!0):(t.openBlock(),t.createBlock(l,{key:1,type:r.parseIcon(this.append).type,url:r.parseIcon(this.append).url,spin:r.parseIcon(this.append).spin,size:r.parseIcon(this.append).size,color:r.parseIcon(this.append).color},null,8,["type","url","spin","size","color"]))])):t.createCommentVNode("",!0)],10,$o)}],["__scopeId","data-v-d3cbe34d"]]);_o.install=e=>{e.component(_o.name,_o)};var No=Object.defineProperty,Po=(e,t,i)=>(((e,t,i)=>{t in e?No(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(e,"symbol"!=typeof t?t+"":t,i),i);const zo={formatNumber(e){return this.isNumber(e)?e.toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,"):e},isNumber:e=>"number"==typeof e&&!isNaN(e),add:(...e)=>e.reduce(((e,t)=>{let i=0,s=0,n=0;try{i=e.toString().split(".")[1].length}catch(o){}try{s=t.toString().split(".")[1].length}catch(o){}return n=Math.pow(10,Math.max(i,s)),(e*n+t*n)/n})),subtract:(...e)=>e.reduce(((e,t)=>{let i=0,s=0,n=0;try{i=e.toString().split(".")[1].length}catch(o){}try{s=t.toString().split(".")[1].length}catch(o){}return n=Math.pow(10,Math.max(i,s)),(e*n-t*n)/n})),mutiply:(...e)=>e.reduce(((e,t)=>{let i=0,s=e.toString(),n=t.toString();try{i+=s.split(".")[1].length}catch(o){}try{i+=n.split(".")[1].length}catch(o){}return Number(s.replace(".",""))*Number(n.replace(".",""))/Math.pow(10,i)})),divide:(...e)=>e.reduce(((e,t)=>{let i=0,s=0,n=e.toString(),o=t.toString();try{i=n.split(".")[1].length}catch(r){}try{s=o.split(".")[1].length}catch(r){}return n=Number(n.replace(".","")),o=Number(o.replace(".","")),n/o*Math.pow(10,s-i)}))},Ao={insert(e,t,i){if(!e||"string"!=typeof e)throw new TypeError("The first argument must be a string");if("string"!=typeof t)throw new TypeError("The second argument must be a string");if(!zo.isNumber(i))throw new TypeError("The third argument must be a number");if(i<0)throw new Error("The third argument cannot be less than 0");return e.substring(0,i)+t+e.substring(i,e.length)},delete(e,t,i){if(!e||"string"!=typeof e)throw new TypeError("The first argument must be a string");if(!zo.isNumber(t))throw new TypeError("The second argument must be a number");if(t<0)throw new Error("The second argument cannot be less than 0");if(!zo.isNumber(i))throw new TypeError("The third argument must be a number");if(i<0)throw new Error("The third argument cannot be less than 0");return e.substring(0,t)+e.substring(t+i,e.length)},replace(e,t,i,s){if(!e||"string"!=typeof e)throw new TypeError("The first argument must be a string");if(!zo.isNumber(t))throw new TypeError("The second argument must be a number");if(t<0)throw new Error("The second argument cannot be less than 0");if(!zo.isNumber(i))throw new TypeError("The third argument must be a number");if(i<0)throw new Error("The third argument cannot be less than 0");if("string"!=typeof s)throw new TypeError("The fourth argument must be a string");return e.substring(0,t)+s+e.substring(i,e.length)},trim(e,t){if("string"!=typeof e)throw new TypeError("The first argument must be a string");let i=e.replace(/(^\s+)|(\s+$)/g,"");return t&&(i=i.replace(/\s/g,"")),i}},Oo={isWindow:e=>e&&e instanceof Window,getElementPoint(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(this.isElement(t)||(t=document.body),!this.isContains(t,e))throw new Error("The second argument and the first argument have no hierarchical relationship");let i=e,s=0,n=0;for(;this.isElement(e)&&this.isContains(t,e)&&t!==e;)s+=e.offsetTop,n+=e.offsetLeft,e=e.offsetParent;return{top:s,left:n,right:t.offsetWidth-n-i.offsetWidth,bottom:t.offsetHeight-s-i.offsetHeight}},isContains(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(!this.isElement(t,!0))throw new TypeError("The second argument must be an element");return e===t||(e.contains?e.contains(t):e.compareDocumentPosition?!!(16&e.compareDocumentPosition(t)):void 0)},isParentNode(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(!this.isElement(t,!0))throw new TypeError("The second argument must be an element");return e!==t&&t.parentNode===e},children(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(t&&"string"!=typeof t)throw new TypeError("The second argument must be a string");return[...e.querySelectorAll(t||"*")].filter((t=>t.parentNode===e))},siblings(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(t&&"string"!=typeof t)throw new TypeError("The second argument must be a string");if(!e.parentNode)return[];return[...e.parentNode.querySelectorAll(t||"*")].filter((t=>t.parentNode===e.parentNode&&t!=e))},rem2px(e){if(!zo.isNumber(e))throw new TypeError("The argument must be a number");let t=this.getCssStyle(document.documentElement,"font-size");return zo.mutiply(e,parseFloat(t))},px2rem(e){if(!zo.isNumber(e))throw new TypeError("The argument must be a number");let t=this.getCssStyle(document.documentElement,"font-size");return zo.divide(e,parseFloat(t))},width(e){"string"==typeof e&&e&&(e=document.body.querySelector(e)),this.isElement(e)||(e=document.body);let t=e.clientWidth,i=parseFloat(this.getCssStyle(e,"padding-left")),s=parseFloat(this.getCssStyle(e,"padding-right"));return zo.subtract(t,i,s)},height(e){"string"==typeof e&&e&&(e=document.body.querySelector(e)),this.isElement(e)||(e=document.body);let t=e.clientHeight,i=parseFloat(this.getCssStyle(e,"padding-top")),s=parseFloat(this.getCssStyle(e,"padding-bottom"));return zo.subtract(t,i,s)},removeClass(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(!t||"string"!=typeof t)throw new TypeError("The second argument must be a string");let i=e.classList;Ao.trim(t).split(/\s+/).forEach(((e,t)=>{i.remove(e)}))},addClass(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(!t||"string"!=typeof t)throw new TypeError("The second argument must be a string");let i=e.classList;Ao.trim(t).split(/\s+/).forEach(((e,t)=>{i.add(e)}))},hasClass(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(!t||"string"!=typeof t)throw new TypeError("The second argument must be a string");let i=e.classList;return Ao.trim(t).split(/\s+/).every(((e,t)=>i.contains(e)))},scrollTopBottomTrigger(e,t){"string"==typeof e&&e&&(e=document.body.querySelector(e));let i=window;this.isElement(e)&&e!=document.body&&e!=document.documentElement&&(i=e),"function"==typeof e&&(t=e);let s=!0;i.addEventListener("scroll",(e=>{if(this.getScrollTop(i)<=0){if(!s)return;"function"==typeof t&&(s=!1,t({state:"top",target:i}))}else{let e={state:"bottom",target:i},n=0;if(n=i==window?window.innerHeight:i.clientHeight,zo.add(this.getScrollTop(i),n)+1>=this.getScrollHeight(i)&&n!=this.getScrollHeight(i)){if(!s)return;"function"==typeof t&&(s=!1,t(e))}else s=!0}}))},getScrollWidth(e){"string"==typeof e&&e&&(e=document.body.querySelector(e));let t=0;return t=this.isElement(e)&&e!=document.documentElement&&e!=document.body?e.scrollWidth:0==document.documentElement.scrollWidth||0==document.body.scrollWidth?document.documentElement.scrollWidth||document.body.scrollWidth:document.documentElement.scrollWidth>document.body.scrollWidth?document.documentElement.scrollWidth:document.body.scrollWidth,t},getScrollHeight(e){"string"==typeof e&&e&&(e=document.body.querySelector(e));let t=0;return t=this.isElement(e)&&e!=document.documentElement&&e!=document.body?e.scrollHeight:0==document.documentElement.scrollHeight||0==document.body.scrollHeight?document.documentElement.scrollHeight||document.body.scrollHeight:document.documentElement.scrollHeight>document.body.scrollHeight?document.documentElement.scrollHeight:document.body.scrollHeight,t},setScrollTop(e){let t=!1,i=e.el;"string"==typeof i&&i&&(i=document.body.querySelector(i));let s=e.number||0,n=e.time||0;return this.isElement(i)&&i!=document.body&&i!=document.documentElement&&i!=window||(t=!0),new Promise(((e,o)=>{if(n<=0)t?document.documentElement.scrollTop=document.body.scrollTop=s:i.scrollTop=s,e();else{let o=10,r=zo.divide(n,o),l=this.getScrollTop(i),a=zo.divide(zo.subtract(s,l),r),c=setInterval((()=>{r>0?(r--,t?document.documentElement.scrollTop=document.body.scrollTop=l=zo.add(l,a):i.scrollTop=l=zo.add(l,a)):(clearInterval(c),e())}),o)}}))},getScrollTop(e){"string"==typeof e&&e&&(e=document.body.querySelector(e));let t=0;return t=this.isElement(e)&&e!=document.body&&e!=document.documentElement&&e!=window?e.scrollTop:0==document.documentElement.scrollTop||0==document.body.scrollTop?document.documentElement.scrollTop||document.body.scrollTop:document.documentElement.scrollTop>document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,t},getScrollLeft(e){"string"==typeof e&&e&&(e=document.body.querySelector(e));let t=0;return t=this.isElement(e)&&e!=document.body&&e!=document.documentElement&&e!=window?e.scrollLeft:0==document.documentElement.scrollLeft||0==document.body.scrollLeft?document.documentElement.scrollLeft||document.body.scrollLeft:document.documentElement.scrollLeft>document.body.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,t},setScrollLeft(e){let t=!1,i=e.el;"string"==typeof i&&i&&(i=document.body.querySelector(i));let s=e.number||0,n=e.time||0;return this.isElement(i)&&i!=document.body&&i!=document.documentElement&&i!=window||(t=!0),new Promise(((e,o)=>{if(n<=0)t?document.documentElement.scrollLeft=document.body.scrollLeft=s:i.scrollLeft=s,e();else{let o=10,r=zo.divide(n,o),l=this.getScrollLeft(i),a=zo.divide(zo.subtract(s,l),r),c=setInterval((()=>{r>0?(r--,t?document.documentElement.scrollLeft=document.body.scrollLeft=l=zo.add(l,a):i.scrollLeft=l=zo.add(l,a)):(clearInterval(c),e())}),o)}}))},getCssStyle(e,t){if(!this.isElement(e))throw new TypeError("The first argument must be an element");if(!t||"string"!=typeof t)throw new TypeError("The second argument must be a string");let i="";return i=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e)[t]:e.currentStyle[t],i},getCssSelector(e){if(!e||"string"!=typeof e)throw new TypeError("The argument must be a selector string");if(/^#{1}/.test(e))return{type:"id",value:e.substr(1)};if(/^\./.test(e))return{type:"class",value:e.substr(1)};if(/^\[(.+)\]$/.test(e)){let t="attribute",i="",s=Ao.trim(e,!0).substring(1,Ao.trim(e,!0).length-1).split("=");return 1==s.length&&(i=s[0]),2==s.length&&(i={attributeName:s[0],attributeValue:s[1].replace(/\'/g,"").replace(/\"/g,"")}),{type:t,value:i}}return{type:"tag",value:e}},getElementBounding(e){"string"==typeof e&&e&&(e=document.body.querySelector(e)),this.isElement(e)||(e=document.body);let t=e.getBoundingClientRect();return{top:t.top,bottom:zo.subtract(document.documentElement.clientHeight||window.innerHeight,t.bottom),left:t.left,right:zo.subtract(document.documentElement.clientWidth||window.innerWidth,t.right)}},isElement:e=>e&&e instanceof Node&&1===e.nodeType,string2dom(e,t="div"){if(!e||"string"!=typeof e)throw new TypeError("The argument must be an HTML string");let i=document.createElement(t);return i.innerHTML=e,1==i.children.length?i.children[0]:i.children}},Vo="_dap-datas",Ro={remove(e,t){if(!(e instanceof Document||Oo.isElement(e)||Oo.isWindow(e)))throw new TypeError("The first argument must be an element node or window or document");let i=e[Vo]||{};null==t||""===t?e[Vo]={}:(delete i[t],e[Vo]=i)},has(e,t){if(!(e instanceof Document||Oo.isElement(e)||Oo.isWindow(e)))throw new TypeError("The first argument must be an element node or window or document");if(null==t||""===t)throw new TypeError("The second parameter must be a unique key");return(e[Vo]||{}).hasOwnProperty(t)},get(e,t){if(!(e instanceof Document||Oo.isElement(e)||Oo.isWindow(e)))throw new TypeError("The first argument must be an element node or window or document");let i=e[Vo]||{};return null==t||""===t?i:i[t]},set(e,t,i){if(!(e instanceof Document||Oo.isElement(e)||Oo.isWindow(e)))throw new TypeError("The first argument must be an element node or window or document");if(null==t||""===t)throw new TypeError("The second parameter must be a unique key");let s=e[Vo]||{};s[t]=i,e[Vo]=s}},Do={matchingText(e,t){if(!e||"string"!=typeof e)throw new TypeError("The first argument must be a string");if(!t||"string"!=typeof t)throw new TypeError("The second argument must be a string");let i=null;if("Chinese"==t&&(i=/^[\u4e00-\u9fa5]+$/),"chinese"==t&&(i=/[\u4e00-\u9fa5]/),"email"==t&&(i=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/),"userName"==t&&(i=/^[a-zA-Z0-9_]{4,16}$/),"int+"==t&&(i=/^\d+$/),"int-"==t&&(i=/^-\d+$/),"int"==t&&(i=/^-?\d+$/),"pos"==t&&(i=/^\d*\.?\d+$/),"neg"==t&&(i=/^-\d*\.?\d+$/),"number"==t&&(i=/^-?\d*\.?\d+$/),"phone"==t&&(i=/^1[0-9]\d{9}$/),"idCard"==t&&(i=/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/),"url"==t&&(i=/^((https?|ftp|file):\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/),"IPv4"==t&&(i=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/),"hex"==t&&(i=/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/),"date"==t){let t=/^(\d{4})(\/)(\d{2})(\/)(\d{2})$/,i=/^(\d{4})(\.)(\d{2})(\.)(\d{2})$/,s=/^(\d{4})(年)(\d{2})(月)(\d{2})(日)$/;return/^((\d{4})(-)(\d{2})(-)(\d{2}))$/.test(e)||t.test(e)||i.test(e)||s.test(e)}if("time"==t&&(i=/^(20|21|22|23|[0-1]\d):[0-5]\d:[0-5]\d$/),"QQ"==t&&(i=/^[1-9][0-9]{4,10}$/),"weixin"==t&&(i=/^[a-zA-Z]([-_a-zA-Z0-9]{5,19})+$/),"plate"==t&&(i=/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/),!i)throw new Error("The second parameter is out of scope");return i.test(e)},getUrlParams(e){if(!e||"string"!=typeof e)throw new TypeError("The argument must be a string");let t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=window.location.search.substr(1);if(!i){let e=window.location.hash.split("?");2==e.length&&(i=e[1])}let s=i.match(t);return s?decodeURIComponent(s[2]):null},isEmptyObject(e){return!!this.isObject(e)&&0==Object.keys(e).length},equal(e,t){if(typeof e!=typeof t)return!1;if(this.isObject(e)&&this.isObject(t)){e=Object.assign({},e),t=Object.assign({},t);let i=Object.getOwnPropertyNames(e),s=Object.getOwnPropertyNames(t);if(i.length!=s.length)return!1;let n=i.length;for(let o=0;o<n;o++){let s=i[o],n=e[s],r=t[s];if(this.isObject(n))return!!this.equal(n,r);if(n!==r)return!1}return!0}return e===t},isObject:e=>!("object"!=typeof e||!e),copyText(e){if(!e||"string"!=typeof e)throw new TypeError("No text to copy is defined");let t=Oo.string2dom('<input type="text" />');document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t)}},Mo=e=>{let t=e.split(/[\s]+/g),i=[];return t.forEach((e=>{let t=e.split("."),s={eventName:t[0]};t.length>1&&(s.guid=t[1]),i.push(s)})),i},Lo=(e,t,i)=>{let s=Ro.get(e,"dap-defined-events")||{},n=Object.keys(s),o=n.length;for(let r=0;r<o;r++){let o=n[r];s[o].type==t&&(i?o==t+"."+i&&(e.removeEventListener(s[o].type,s[o].fn,s[o].options),s[o]=void 0):(e.removeEventListener(s[o].type,s[o].fn,s[o].options),s[o]=void 0))}s=(e=>{let t={};return Object.keys(e).forEach((i=>{e[i]&&(t[i]=e[i])})),t})(s),Ro.set(e,"dap-defined-events",s)},Ho={on(e,t,i,s){if(!(e instanceof Document||Oo.isElement(e)||Oo.isWindow(e)))throw new TypeError("The first argument must be an element node or window or document");if(!t||"string"!=typeof t)throw new TypeError("The second argument must be a string");if(!i||"function"!=typeof i)throw new TypeError("The third argument must be a function");Do.isObject(s)||(s={});Mo(t).forEach((t=>{((e,t,i,s,n)=>{let o=Ro.get(e,"dap-defined-events")||{};i||(i=Ro.get(e,"dap-event-guid")||0,Ro.set(e,"dap-event-guid",i+1)),o[i=t+"."+i]&&o[i].type==t&&e.removeEventListener(t,o[i].fn,o[i].options),e.addEventListener(t,s,n),o[i]={type:t,fn:s,options:n},Ro.set(e,"dap-defined-events",o)})(e,t.eventName,t.guid,i.bind(e),s)}))},off(e,t){if(!(e instanceof Document||Oo.isElement(e)||Oo.isWindow(e)))throw new TypeError("The first argument must be an element node or window or document");let i=Ro.get(e,"dap-defined-events");if(!i)return;if(!t){let t=Object.keys(i),s=t.length;for(let n=0;n<s;n++){let s=t[n];e.removeEventListener(i[s].type,i[s].fn,i[s].options)}return Ro.remove(e,"dap-defined-events"),void Ro.remove(e,"dap-event-guid")}Mo(t).forEach((t=>{Lo(e,t.eventName,t.guid)}))},get(e){if(!(e instanceof Document||Oo.isElement(e)||Oo.isWindow(e)))throw new TypeError("The first argument must be an element node or window or document");let t=Ro.get(e,"dap-defined-events");if(t)return t}},Fo={getPrevMonths(e,t){e&&e instanceof Date||(e=new Date),zo.isNumber(t)||(t=1);let i=[e];for(let s=0;s<t-1;s++){let t=e.getFullYear(),s=e.getMonth();0==s&&(s=12,t--);let n=new Date;n.setMonth(s-1),n.setFullYear(t),i.push(n),e=n}return i},getNextMonths(e,t){e&&e instanceof Date||(e=new Date),zo.isNumber(t)||(t=1);let i=[e];for(let s=0;s<t-1;s++){let t=e.getFullYear(),s=e.getMonth();11==s&&(s=-1,t++);let n=new Date;n.setMonth(s+1),n.setFullYear(t),i.push(n),e=n}return i},getDateAfter:(e,t)=>(e&&e instanceof Date||(e=new Date),zo.isNumber(t)||(t=1),new Date(e.getTime()+24*t*60*60*1e3)),getDateBefore:(e,t)=>(e&&e instanceof Date||(e=new Date),zo.isNumber(t)||(t=1),new Date(e.getTime()-24*t*60*60*1e3)),getDays(e,t){if(!zo.isNumber(e))throw new TypeError("The first parameter must be a number representing the year");if(!zo.isNumber(t))throw new TypeError("The second argument must be a number representing the month");return e=parseInt(e),t=parseInt(t),new Date(e,t,0).getDate()}},Wo={rgb2hsv(e){if(!Array.isArray(e)||3!=e.length)throw new TypeError("Invalid argument");let t=0,i=0,s=0,n=e[0]>=255?255:e[0],o=e[1]>=255?255:e[1],r=e[2]>=255?255:e[2];n=n<=0?0:n,o=o<=0?0:o,r=r<=0?0:r;let l=Math.max(n,o,r),a=Math.min(n,o,r);return s=l/255,i=0===l?0:1-a/l,l===a?t=0:l===n&&o>=r?t=(o-r)/(l-a)*60+0:l===n&&o<r?t=(o-r)/(l-a)*60+360:l===o?t=(r-n)/(l-a)*60+120:l===r&&(t=(n-o)/(l-a)*60+240),t=parseInt(t),i=parseInt(100*i),s=parseInt(100*s),[t,i,s]},hsv2rgb(e){if(!Array.isArray(e)||3!=e.length)throw new TypeError("Invalid argument");let t=e[0]>=360||e[0]<=0?0:e[0],i=e[1]>=100?100:e[1];i=i<=0?0:i;let s=e[2]>=100?100:e[2];s=s<=0?0:s,i/=100,s/=100;let n=0,o=0,r=0,l=parseInt(t/60%6),a=t/60-l,c=s*(1-i),h=s*(1-a*i),d=s*(1-(1-a)*i);switch(l){case 0:n=s,o=d,r=c;break;case 1:n=h,o=s,r=c;break;case 2:n=c,o=s,r=d;break;case 3:n=c,o=h,r=s;break;case 4:n=d,o=c,r=s;break;case 5:n=s,o=c,r=h}return n=parseInt(255*n),o=parseInt(255*o),r=parseInt(255*r),[n,o,r]},rgb2hex(e){if(!Array.isArray(e)||3!=e.length)throw new TypeError("Invalid argument");return"#"+((1<<24)+(e[0]<<16)+(e[1]<<8)+e[2]).toString(16).slice(1)},hex2rgb(e){if(!e||"string"!=typeof e)throw new TypeError("The argument must be a string");let t=e.toLowerCase();if(!Do.matchingText(t,"hex"))throw new TypeError("The argument must be a hexadecimal color value");if(4===t.length){let e="#";for(let i=1;i<4;i+=1)e+=t.slice(i,i+1).concat(t.slice(i,i+1));t=e}let i=[];for(let s=1;s<7;s+=2)i.push(parseInt("0x"+t.slice(s,s+2)));return i}},jo={start(e,t){if(!window.SpeechSynthesisUtterance||!window.speechSynthesis)throw new Error("The current browser does not support this syntax");let i={pitch:.8,rate:1,volume:1,start:function(){},end:function(){},pause:function(){},resume:function(){},error:function(){}};Do.isObject(t)||(t={}),zo.isNumber(t.pitch)&&(i.pitch=t.pitch),zo.isNumber(t.rate)&&(i.rate=t.rate),zo.isNumber(t.volume)&&(i.volume=t.volume),"function"==typeof t.start&&(i.start=t.start),"function"==typeof t.end&&(i.end=t.end),"function"==typeof t.pause&&(i.pause=t.pause),"function"==typeof t.resume&&(i.resume=t.resume),"function"==typeof t.error&&(i.error=t.error);const s=new SpeechSynthesisUtterance;s.text=e,s.pitch=i.pitch,s.rate=i.rate,s.volume=i.volume,s.lang="zh-CN",s.onstart=t=>{i.start.apply(s,[t,{text:e,pitch:i.pitch,rate:i.rate,volume:i.volume}])},s.onend=t=>{i.end.apply(s,[t,{text:e,pitch:i.pitch,rate:i.rate,volume:i.volume}])},s.onpause=t=>{i.pause.apply(s,[t,{text:e,pitch:i.pitch,rate:i.rate,volume:i.volume}])},s.onresume=t=>{i.resume.apply(s,[t,{text:e,pitch:i.pitch,rate:i.rate,volume:i.volume}])},s.onerror=t=>{i.error.apply(s,[t,{text:e,pitch:i.pitch,rate:i.rate,volume:i.volume}])},window.speechSynthesis.speak(s)},stop(){if(!window.SpeechSynthesisUtterance||!window.speechSynthesis)throw new Error("The current browser does not support this syntax");window.speechSynthesis.cancel()},pause(){if(!window.SpeechSynthesisUtterance||!window.speechSynthesis)throw new Error("The current browser does not support this syntax");window.speechSynthesis.pause()},resume(){if(!window.SpeechSynthesisUtterance||!window.speechSynthesis)throw new Error("The current browser does not support this syntax");window.speechSynthesis.resume()}},Uo={number:zo,data:Ro,element:Oo,event:Ho,common:Do,date:Fo,color:Wo,file:{getImageUrl(e){if(!(e&&e instanceof File))throw new TypeError("The argument must be a File object");return window.URL.createObjectURL(e)},dataFileToBase64:e=>new Promise(((t,i)=>{e&&e instanceof File||i(new TypeError("The argument must be a File object"));let s=new FileReader;s.readAsDataURL(e),s.onloadend=()=>{let e=s.result;t(e)}})),dataBase64toFile(e,t){if(!e||"string"!=typeof e)throw new TypeError("The first argument must be a string");if(!t||"string"!=typeof t)throw new TypeError("The second argument must be a string");let i=e.split(","),s=i[0].match(/:(.*?);/)[1],n=atob(i[1]),o=n.length,r=new Uint8Array(o);for(;o--;)r[o]=n.charCodeAt(o);return new File([r],t,{type:s})}},string:Ao,platform:{language:()=>window.navigator.browserLanguage||window.navigator.language,device(){const e=window.navigator.userAgent;return{PC:!e.match(/AppleWebKit.*Mobile.*/),Mobile:!!e.match(/AppleWebKit.*Mobile.*/),iPhone:e.includes("iPhone"),Phone:e.includes("Android")&&/(?:Mobile)/.test(e)||e.includes("iPhone")||/(?:Windows Phone)/.test(e),iPad:e.includes("iPad"),Tablet:e.includes("iPad")||e.includes("Android")&&!/(?:Mobile)/.test(e)||e.includes("Firefox")&&/(?:Tablet)/.test(e),WindowsPhone:/(?:Windows Phone)/.test(e)}},browser(){const e=window.navigator.userAgent;return{Edge:!!e.match(/Edg\/([\d.]+)/),weixin:e.includes("MicroMessenger"),QQ:e.includes("QQ"),QQBrowser:e.includes("MQQBrowser"),UC:e.includes("UCBrowser"),Chrome:e.includes("Chrome"),Firefox:e.includes("Firefox"),sougou:e.toLocaleLowerCase().includes("se 2.x")||e.toLocaleLowerCase().includes("metasr")||e.toLocaleLowerCase().includes("sogou"),Safari:e.includes("Safari")&&!e.includes("Chrome")}},browserKernel(){const e=window.navigator.userAgent;return e.includes("Presto")?"opera":e.includes("AppleWebKit")?"webkit":e.includes("Gecko")&&!e.includes("KHTML")?"gecko":""},os(){const e=window.navigator.userAgent;return{Windows:e.includes("Windows"),Windows_CPU:e.toLocaleLowerCase().includes("win64")||e.toLocaleLowerCase().includes("wow64")?"x64":e.toLocaleLowerCase().includes("win32")||e.toLocaleLowerCase().includes("wow32")?"x32":"",Windows_Version:e.includes("Windows NT 6.1")||e.includes("Windows 7")?"Win7":e.includes("Windows NT 6.3")||e.includes("Windows NT 6.2")||e.includes("Windows NT 8")?"Win8":e.includes("Windows NT 10")||e.includes("Windows NT 6.4")?"Win10":"",Mac:e.includes("Macintosh"),Mac_Version:function(){if(e.includes("Macintosh")){const t=e.match(/Mac OS X ([^\s]+)\)/);if(t&&t[1])return t[1].split(/_|\./).join(".")}return""}(),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),ios_Version:function(){if(e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)){const t=e.match(/CPU.+OS ([^\s]+) like Mac OS X/);if(t&&t[1])return t[1].split(/_|\./).join(".")}return""}(),Android:e.includes("Android"),Android_Version:function(){const t=e.match(/Android ([^\s]+);/);return t&&t[1]?t[1].split(/_|\./).join("."):""}(),Linux:e.includes("Linux"),HarmonyOS:e.includes("HarmonyOS"),Ubuntu:e.includes("Ubuntu")}}},speech:jo},Yo={getAttributes(e){let t={};const i=e.attributes.length;for(let s=0;s<i;s++){const i=e.attributes[s];/(^on)|(^style$)|(^contenteditable$)/g.test(i.nodeName)||(t[i.nodeName]=i.nodeValue)}return t},getStyles(e){let t={};if(e.getAttribute("style")){const i=e.getAttribute("style");let s=0,n=0,o=[];for(;s<i.length;)";"==i[s]&&"base64,"!=i.substring(s+1,s+8)&&(o.push(i.substring(n,s)),n=s+1),s==i.length-1&&n<s&&o.push(i.substring(n,s)),s++;o.forEach((e=>{const i=e.indexOf(":"),s=e.substring(0,i).trim(),n=e.substring(i+1).trim();t[s]=n}))}return t},createUniqueKey(){let e=Uo.data.get(window,"data-alex-editor-key")||0;return e++,Uo.data.set(window,"data-alex-editor-key",e),e},isSpaceText:e=>/^[\uFEFF]+$/g.test(e),clone:e=>Uo.common.isObject(e)||Array.isArray(e)?JSON.parse(JSON.stringify(e)):e,isContains:(e,t)=>3==t.nodeType?Uo.element.isContains(e,t.parentNode):Uo.element.isContains(e,t),blobToBase64:e=>new Promise((t=>{const i=new FileReader;i.onload=e=>{t(e.target.result)},i.readAsDataURL(e)})),createGuid(){let e=Uo.data.get(window,"data-alex-editor-guid")||0;return e++,Uo.data.set(window,"data-alex-editor-guid",e),e}},qo=class{constructor(e,t,i,s,n){this.key=Yo.createUniqueKey(),this.type=e,this.parsedom=t,this.marks=i,this.styles=s,this.textContent=n,this.children=null,this.parent=null,this.behavior="default",this._elm=null}isBlock(){return"block"==this.type}isInblock(){return"inblock"==this.type}isInline(){return"inline"==this.type}isClosed(){return"closed"==this.type}isText(){return"text"==this.type}isBreak(){return this.isClosed()&&"br"==this.parsedom}isEmpty(){if(this.isText())return!this.textContent;if(this.isBlock()||this.isInblock()||this.isInline()){if(!this.hasChildren())return!0;return this.children.every((e=>!e||e.isEmpty()))}return!1}isSpaceText(){return this.isText()&&!this.isEmpty()&&Yo.isSpaceText(this.textContent)}isEqual(e){return!!qo.isElement(e)&&this.key==e.key}isContains(e){return!!this.isEqual(e)||!e.isBlock()&&this.isContains(e.parent)}isOnlyHasBreak(){return!!this.hasChildren()&&this.children.every((e=>e.isBreak()||e.isEmpty()))}isPreStyle(){const e=this.getBlock(),t=this.getInblock();return t?"pre"==t.parsedom||(!(!t.hasStyles()||"pre"!=t.styles["white-space"]&&"pre-wrap"!=t.styles["white-space"])||t.parent.isPreStyle()):"pre"==e.parsedom||!(!e.hasStyles()||"pre"!=e.styles["white-space"]&&"pre-wrap"!=e.styles["white-space"])}hasMarks(){return!!this.marks&&(!!Uo.common.isObject&&!Uo.common.isEmptyObject(this.marks))}hasStyles(){return!!this.styles&&(!!Uo.common.isObject(this.styles)&&!Uo.common.isEmptyObject(this.styles))}hasChildren(){return!this.isClosed()&&!this.isText()&&(!!Array.isArray(this.children)&&!!this.children.length)}hasContains(e){return this.isContains(e)||e.isContains(this)}clone(e=!0){if("boolean"!=typeof e)throw new Error("The parameter must be a Boolean");let t=new qo(this.type,this.parsedom,Yo.clone(this.marks),Yo.clone(this.styles),this.textContent);return t.behavior=this.behavior,e&&this.hasChildren()&&this.children.forEach((i=>{let s=i.clone(e);t.hasChildren()?t.children.push(s):t.children=[s],s.parent=t})),t}convertToBlock(){if(this.isBlock())throw new Error('This element is already of type "block"');let e=this.clone();this.type="block",this.parsedom=qo.BLOCK_NODE,this.marks=null,this.styles=null,this.textContent=null,this.children=[e],e.parent=this}toEmpty(){this.isEmpty()||(this.isText()?(this.marks=null,this.styles=null,this.textContent=null,this._elm=null):this.isClosed()?(this.type="text",this.parsedom=null,this.marks=null,this.styles=null,this.textContent=null,this._elm=null):this.hasChildren()&&this.children.forEach((e=>{e.toEmpty()})))}getBlock(){return this.isBlock()?this:this.parent.getBlock()}getInblock(){return this.isInblock()?this:this.isBlock()?null:this.parent.getInblock()}getInline(){return this.isInline()?this:this.isBlock()?null:this.parent.getInline()}isEqualStyles(e){return!this.hasStyles()&&!e.hasStyles()||!!(this.hasStyles()&&e.hasStyles()&&Uo.common.equal(this.styles,e.styles))}isEqualMarks(e){return!this.hasMarks()&&!e.hasMarks()||!!(this.hasMarks()&&e.hasMarks()&&Uo.common.equal(this.marks,e.marks))}__getDiffMarks(e){if(this.hasMarks()){if(e.hasMarks()){const t=Object.keys(this.marks),i=Object.keys(e.marks);return{more:t.filter((t=>!(i.includes(t)&&e.marks[t]==this.marks[t]||/(^on)|(^style$)|(^contenteditable$)/g.test(t)))),less:i.filter((i=>!(t.includes(i)&&e.marks[i]==this.marks[i]||/(^on)|(^style$)|(^contenteditable$)/g.test(i))))}}return{more:Object.keys(this.marks).filter((e=>!/(^on)|(^style$)|(^contenteditable$)/g.test(e))),less:[]}}return e.hasMarks()?{more:[],less:Object.keys(e.marks).filter((e=>!/(^on)|(^style$)|(^contenteditable$)/g.test(e)))}:{more:[],less:[]}}__getDiffStyles(e){if(this.hasStyles()){if(e.hasStyles()){const t=Object.keys(this.styles),i=Object.keys(e.styles);return{more:t.filter((t=>!i.includes(t)||e.styles[t]!=this.styles[t])),less:i.filter((i=>!t.includes(i)||e.styles[i]!=this.styles[i]))}}return{more:Object.keys(this.styles),less:[]}}return e.hasStyles()?{more:[],less:Object.keys(e.styles)}:{more:[],less:[]}}__renderElement(){let e=null;if(this.isText()){e=document.createElement(qo.TEXT_NODE);const t=document.createTextNode(this.textContent);e.appendChild(t)}else e=document.createElement(this.parsedom),this.hasChildren()&&this.children.forEach((t=>{t.__renderElement(),e.appendChild(t._elm)}));this.hasMarks()&&Object.keys(this.marks).forEach((t=>{/(^on)|(^style$)|(^contenteditable$)/g.test(t)||e.setAttribute(t,this.marks[t])})),this.hasStyles()&&Object.keys(this.styles).forEach((t=>{e.style.setProperty(t,this.styles[t])})),Uo.data.set(e,"data-alex-editor-key",this.key),this._elm=e}__fullClone(){let e=new qo(this.type,this.parsedom,Yo.clone(this.marks),Yo.clone(this.styles),this.textContent);return e.behavior=this.behavior,e.key=this.key,e._elm=this._elm,this.hasChildren()&&this.children.forEach((t=>{let i=t.__fullClone();e.hasChildren()?e.children.push(i):e.children=[i],i.parent=e})),e}__getLink(){return"a"==this.parsedom?this:this.isBlock()?null:this.parent.__getLink()}static isElement(e){return e instanceof qo}static flatElements(e){const t=e=>{let i=[],s=0;const n=e.length;for(;s<n;)i.push(e[s]),e[s].hasChildren()&&i.push(...t(e[s].children)),s++;return i};return t(e)}static getSpaceElement(){return new qo("text",null,null,null,"\ufeff")}};let Xo=qo;Po(Xo,"BLOCK_NODE","p"),Po(Xo,"TEXT_NODE","span"),Po(Xo,"VOID_NODES",["colgroup","col"]);class Ko{constructor(e,t){this.element=e,this.offset=t,this.__init()}__init(){if(this.element.isText()||this.element.isClosed()){if(Xo.VOID_NODES.includes(this.element.parsedom))throw new Error("Invisible element cannot be set as focal point")}else 0==this.offset?this.moveToStart(this.element):this.moveToEnd(this.element)}static isPoint(e){return e instanceof Ko}isEqual(e){return!!Ko.isPoint(e)&&(this.element.isEqual(e.element)&&this.offset==e.offset)}moveToEnd(e){if(!Xo.isElement(e))throw new Error("The argument must be an AlexElement instance");if(e.isEmpty())throw new Error("The argument cannot be an empty element");if(e.isText())this.element=e,this.offset=e.textContent.length;else if(e.isClosed()){if(Xo.VOID_NODES.includes(e.parsedom))throw new Error("Invisible element cannot be set as focal point");this.element=e,this.offset=1}else if(e.hasChildren()){const t=Xo.flatElements(e.children).filter((e=>!e.isEmpty()&&!Xo.VOID_NODES.includes(e.parsedom))),i=t.length;this.moveToEnd(t[i-1])}}moveToStart(e){if(!Xo.isElement(e))throw new Error("The argument must be an AlexElement instance");if(e.isEmpty())throw new Error("The argument cannot be an empty element");if(e.isText())this.element=e,this.offset=0;else if(e.isClosed()){if(Xo.VOID_NODES.includes(e.parsedom))throw new Error("Invisible element cannot be set as focal point");this.element=e,this.offset=0}else if(e.hasChildren()){const t=Xo.flatElements(e.children).filter((e=>!e.isEmpty()&&!Xo.VOID_NODES.includes(e.parsedom)));this.moveToStart(t[0])}}}class Zo{constructor(e,t){this.anchor=e,this.focus=t}}class Go{constructor(){this.records=[],this.current=-1}push(e,t){this.current<this.records.length-1&&(this.records.length=this.current+1);const i=e.map((e=>e.__fullClone())),s=Xo.flatElements(i).find((e=>e.key==t.anchor.element.key)),n=Xo.flatElements(i).find((e=>e.key==t.focus.element.key)),o=new Ko(s,t.anchor.offset),r=new Ko(n,t.focus.offset),l=new Zo(o,r);this.records.push({stack:i,range:l}),this.current+=1}get(e){if(-1==e){if(this.current<=0)return null;this.current-=1}else if(1==e){if(this.current>=this.records.length-1)return null;this.current+=1}const{stack:t,range:i}=this.records[this.current],s=t.map((e=>e.__fullClone())),n=Xo.flatElements(s).find((e=>e.key==i.anchor.element.key)),o=Xo.flatElements(s).find((e=>e.key==i.focus.element.key)),r=new Ko(n,i.anchor.offset),l=new Ko(o,i.focus.offset);return{stack:s,range:new Zo(r,l)}}}const{Mac:Qo}=Uo.platform.os(),Jo={Undo:e=>Qo?90==e.keyCode&&e.metaKey&&!e.ctrlKey&&!e.shiftKey&&!e.altKey:90==e.keyCode&&e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey,Redo:e=>Qo?90==e.keyCode&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey:89==e.keyCode&&e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey},er={block:[{parsedom:"p"},{parsedom:"div"},{parsedom:"table"},{parsedom:"ul"},{parsedom:"ol"},{parsedom:"h1"},{parsedom:"h2"},{parsedom:"h3"},{parsedom:"h4"},{parsedom:"h5"},{parsedom:"h6"},{parsedom:"blockquote"},{parsedom:"pre"},{parsedom:"address",parse:!0},{parsedom:"article",parse:!0},{parsedom:"aside",parse:!0},{parsedom:"nav",parse:!0},{parsedom:"section",parse:!0}],inblock:[{parsedom:"li",block:!0},{parsedom:"tfoot"},{parsedom:"tbody"},{parsedom:"thead"},{parsedom:"tr"},{parsedom:"th"},{parsedom:"td"},{parsedom:"colgroup"}],inline:[{parsedom:"span"},{parsedom:"a"},{parsedom:"label"},{parsedom:"code"},{parsedom:"b",parse:{"font-weight":"bold"}},{parsedom:"strong",parse:{"font-weight":"bold"}},{parsedom:"sup",parse:{"vertical-align":"super"}},{parsedom:"sub",parse:{"vertical-align":"sub"}},{parsedom:"i",parse:{"font-style":"italic"}},{parsedom:"u",parse:{"text-decoration-line":"underline"}},{parsedom:"del",parse:{"text-decoration-line":"line-through"}},{parsedom:"abbr",parse:!0},{parsedom:"acronym",parse:!0},{parsedom:"bdo",parse:!0}],closed:[{parsedom:"br"},{parsedom:"col"},{parsedom:"img"},{parsedom:"hr"},{parsedom:"video"},{parsedom:"audio"}]};class tr{constructor(e,t){if(Po(this,"__formatUnchangeableRules",[e=>{e.parent||e.isBlock()||e.isEmpty()||e.convertToBlock()},e=>{if(e.hasChildren()){e.children.some((e=>!e.isEmpty()&&e.isBlock()))&&e.children.forEach((t=>{!t.isEmpty()&&t.isBlock()&&(t.type="inline"==e.type?"inline":"inblock")}))}},e=>{if(e.hasChildren()){let t=e.children.some((e=>!e.isEmpty()&&e.isInblock())),i=e.children.some((e=>!e.isEmpty()&&!e.isInblock()));t&&i&&e.children.forEach((e=>{!e.isEmpty()&&e.isInblock()&&(e.type="inline")}))}},e=>{if(e.isInline()&&e.hasChildren()){e.children.some((e=>!e.isEmpty()&&e.isInblock()))&&e.children.forEach((e=>{!e.isEmpty()&&e.isInblock()&&(e.type="inline")}))}},e=>{if(e.hasChildren())if(e.isBlock()||e.isInblock()){let t=e.children.some((e=>e.isBreak())),i=e.children.some((e=>!e.isEmpty()&&!e.isBreak()));t&&i?e.children.forEach((e=>{e.isBreak()&&e.toEmpty()})):t&&e.children.length>1&&e.children.forEach(((e,t)=>{e.isBreak()&&t>0&&e.toEmpty()}))}else e.isInline()&&e.children.forEach((e=>{e.isBreak()&&e.toEmpty()}))},e=>{const t=e=>{const i=(e,i)=>{if(e.isEmpty()||i.isEmpty()){if(i.isEmpty()){this.range&&i.isContains(this.range.anchor.element)&&(e.isEmpty()?(this.range.anchor.element=e,this.range.anchor.offset=0):this.range.anchor.moveToEnd(e)),this.range&&i.isContains(this.range.focus.element)&&(e.isEmpty()?(this.range.focus.element=e,this.range.focus.offset=0):this.range.focus.moveToEnd(e));const t=i.parent.children.findIndex((e=>i.isEqual(e)));i.parent.children.splice(t,1)}else if(e.isEmpty()){this.range&&e.isContains(this.range.anchor.element)&&(i.isEmpty()?(this.range.anchor.element=i,this.range.anchor.offset=0):this.range.anchor.moveToStart(i)),this.range&&e.isContains(this.range.focus.element)&&(i.isEmpty()?(this.range.focus.element=i,this.range.focus.offset=0):this.range.focus.moveToStart(i));const t=e.parent.children.findIndex((t=>e.isEqual(t)));e.parent.children.splice(t,1)}}else if(e.isText()){this.range&&i.isEqual(this.range.anchor.element)&&(this.range.anchor.element=e,this.range.anchor.offset=e.textContent.length+this.range.anchor.offset),this.range&&i.isEqual(this.range.focus.element)&&(this.range.focus.element=e,this.range.focus.offset=e.textContent.length+this.range.focus.offset),e.textContent||(e.textContent=""),i.textContent||(i.textContent=""),e.textContent+=i.textContent;const t=i.parent.children.findIndex((e=>i.isEqual(e)));i.parent.children.splice(t,1)}else if(e.isInline()){e.hasChildren()||(e.children=[]),i.hasChildren()||(i.children=[]),e.children.push(...i.children),e.children.forEach((t=>{t.parent=e})),t(e);const s=i.parent.children.findIndex((e=>i.isEqual(e)));i.parent.children.splice(s,1)}};if(e.hasChildren()&&e.children.length>1){let t=0;for(;t<=e.children.length-2;)s=e.children[t],n=e.children[t+1],s.isEmpty()||n.isEmpty()||(s.isText()&&n.isText()?s.isEqualStyles(n)&&s.isEqualMarks(n):s.isInline()&&n.isInline()&&s.parsedom==n.parsedom&&s.isEqualMarks(n)&&s.isEqualStyles(n))?i(e.children[t],e.children[t+1]):t++}var s,n};t(e)},e=>{const t=(e,t)=>{t.isText()?(e.type="text",e.parsedom=null,t.hasMarks()&&(e.hasMarks()?Object.assign(e.marks,Yo.clone(t.marks)):e.marks=Yo.clone(t.marks)),t.hasStyles()&&(e.hasStyles()?Object.assign(e.styles,Yo.clone(t.styles)):e.styles=Yo.clone(t.styles)),e.textContent=t.textContent,e.children=null,this.range&&t.isEqual(this.range.anchor.element)&&(this.range.anchor.element=e),this.range&&t.isEqual(this.range.focus.element)&&(this.range.focus.element=e)):(t.hasMarks()&&(e.hasMarks()?Object.assign(e.marks,Yo.clone(t.marks)):e.marks=Yo.clone(t.marks)),t.hasStyles()&&(e.hasStyles()?Object.assign(e.styles,Yo.clone(t.styles)):e.styles=Yo.clone(t.styles)),t.hasChildren()&&(e.children=[...t.children],e.children.forEach((t=>{t.parent=e}))))};var i,s;e.hasChildren()&&1==e.children.length&&(i=e,(s=e.children[0]).isText()&&i.isInline()?i.parsedom==Xo.TEXT_NODE:(i.isInline()&&s.isInline()||i.isInblock()&&s.isInblock())&&i.parsedom==s.parsedom)&&t(e,e.children[0])},e=>{e.isEmpty()&&(this.range&&e.isContains(this.range.anchor.element)&&this.__setRecentlyPoint(this.range.anchor),this.range&&e.isContains(this.range.focus.element)&&this.__setRecentlyPoint(this.range.focus))}]),"string"==typeof e&&e&&(e=document.body.querySelector(e)),!Uo.element.isElement(e))throw new Error("You must specify a dom container to initialize the editor");if(Uo.data.get(e,"data-alex-editor-init"))throw new Error("The element node has been initialized to the editor");Uo.data.set(e,"data-alex-editor-init",!0),t=this.__formatOptions(t),this.$el=e,this.disabled=t.disabled,this.value=t.value,this.renderRules=t.renderRules,this.htmlPaste=t.htmlPaste,this.range=null,this.useClipboard=!0,this.history=new Go,this.stack=this.parseHtml(this.value),this.__guid=Yo.createGuid(),this.__events={},this.__oldValue=null,this.__isInputChinese=!1,this.__innerSelectionChange=!1,this.__oldStack=null,this.__initRange(),this.disabled?this.setDisabled():this.setEnabled(),this.__judgeUseClipboard(),Uo.event.on(document,`selectionchange.alex_editor_${this.__guid}`,this.__handleSelectionChange.bind(this)),Uo.event.on(this.$el,"beforeinput.alex_editor",this.__handleBeforeInput.bind(this)),Uo.event.on(this.$el,"compositionstart.alex_editor compositionupdate.alex_editor compositionend.alex_editor",this.__handleChineseInput.bind(this)),Uo.event.on(this.$el,"keydown.alex_editor",this.__handleKeydown.bind(this)),Uo.event.on(this.$el,"cut.alex_editor",this.__handleCut.bind(this)),Uo.event.on(this.$el,"paste.alex_editor",this.__handlePaste.bind(this)),Uo.event.on(this.$el,"copy.alex_editor",this.__handleCopy.bind(this)),Uo.event.on(this.$el,"dragstart.alex_editor drop.alex_editor ",this.__handleDragDrop.bind(this)),Uo.event.on(this.$el,"focus.alex_editor",this.__handleFocus.bind(this)),Uo.event.on(this.$el,"blur.alex_editor",this.__handleBlur.bind(this))}__formatOptions(e){let t={disabled:!1,renderRules:[],htmlPaste:!1,value:""};return Uo.common.isObject(e)&&("boolean"==typeof e.disabled&&(t.disabled=e.disabled),Array.isArray(e.renderRules)&&(t.renderRules=e.renderRules),"string"==typeof e.value&&e.value&&(t.value=e.value),"boolean"==typeof e.htmlPaste&&(t.htmlPaste=e.htmlPaste)),t}__initRange(){const e=this.stack[0],t=new Ko(e,0),i=new Ko(e,0);this.range=new Zo(t,i)}__setRecentlyPoint(e){const t=this.getPreviousElementOfPoint(e),i=this.getNextElementOfPoint(e),s=e.element.getBlock(),n=e.element.getInblock();t&&n&&n.isContains(t)?e.moveToEnd(t):i&&n&&n.isContains(i)?e.moveToStart(i):t&&s.isContains(t)?e.moveToEnd(t):i&&s.isContains(i)?e.moveToStart(i):t?e.moveToEnd(t):e.moveToStart(i)}__judgeUseClipboard(){window.ClipboardItem||(this.useClipboard=!1),navigator.clipboard||(this.useClipboard=!1)}__emptyDefaultBehaviorInblock(e){e.isInblock()&&"default"==e.behavior&&e.hasChildren()&&e.children.forEach((e=>{if(e.isInblock())this.__emptyDefaultBehaviorInblock(e);else if(e.toEmpty(),e.parent.isEmpty()){const t=new Xo("closed","br",null,null,null);this.addElementTo(t,e.parent)}}))}__safariLinkHandle(){const{Safari:e}=Uo.platform.browser(),t=this.range.anchor.element.__getLink();if(e&&t){if(t.hasChildren()){const e=Xo.flatElements(t.children);for(let t=e.length-1;t>=0;t--)e[t]._elm.remove()}t._elm.remove(),this.__insertNewDom(t)}}__setRangeInVisible(){const e=async e=>{const t=Uo.element.getScrollHeight(e);if(e.clientHeight<t){const t=window.getSelection();if(0==t.rangeCount)return;const i=t.getRangeAt(0),s=i.getClientRects();let n=i;0==s.length&&(n=this.range.focus.element._elm);const o=n.getBoundingClientRect(),r=e.getBoundingClientRect();if(o.top<r.top){await Uo.element.setScrollTop({el:e,number:0});const t=n.getBoundingClientRect(),i=e.getBoundingClientRect();Uo.element.setScrollTop({el:e,number:t.top-i.top-2*t.height})}else if(o.bottom>r.bottom){await Uo.element.setScrollTop({el:e,number:0});const t=n.getBoundingClientRect(),i=e.getBoundingClientRect();Uo.element.setScrollTop({el:e,number:t.bottom-i.bottom+2*t.height})}}};let t=this.$el;for(;Uo.element.isElement(t)&&t!=document.documentElement;)e(t),t=t.parentNode}__insertNewDom(e,t=!0){t&&e.__renderElement();const i=this.getPreviousElement(e);if(i)i._elm.parentNode.insertBefore(e._elm,i._elm.nextSibling);else if(e.isBlock())this.$el.firstElementChild?this.$el.insertBefore(e._elm,this.$el.firstElementChild):this.$el.appendChild(e._elm);else{const t=e.parent._elm;t.firstElementChild?t.insertBefore(e._elm,t.firstElementChild):t.appendChild(e._elm)}}__updateDoms(e,t){const i=e.length,s=t.length,n=s>i?s:i;for(let o=0;o<n;o++){const i=t[o],s=e[o];if(!s){this.__insertNewDom(i);continue}if(!i){s._elm.remove();continue}if(i.key!=s.key||i.parsedom!=s.parsedom||i.type!=s.type){i.__renderElement(),s._elm.parentNode.replaceChild(i._elm,s._elm);continue}i._elm=s._elm;const n=i.__getDiffMarks(s);if(n.less.length){const e=n.less.length;for(let t=0;t<e;t++)i._elm.removeAttribute(n.less[t])}if(n.more.length){const e=n.more.length;for(let t=0;t<e;t++)i._elm.setAttribute(n.more[t],i.marks[n.more[t]])}const r=i.__getDiffStyles(s);if(r.less.length){const e=r.less.length;for(let t=0;t<e;t++)i._elm.style.setProperty(r.less[t],"")}if(r.more.length){const e=r.more.length;for(let t=0;t<e;t++)i._elm.style.setProperty(r.more[t],i.styles[r.more[t]])}if(i.isText()&&i.textContent!=s.textContent){i._elm.innerHTML="";const e=document.createTextNode(i.textContent);i._elm.appendChild(e)}else this.__updateDoms(s.children||[],i.children||[])}}__handleSelectionChange(){if(this.disabled)return;if(this.__isInputChinese)return;if(this.__innerSelectionChange)return;const e=window.getSelection();if(e.rangeCount){const t=e.getRangeAt(0);if(Yo.isContains(this.$el,t.startContainer)&&Yo.isContains(this.$el,t.endContainer)){let e=null,i=null,s=null,n=null;if(3==t.startContainer.nodeType)e=t.startContainer.parentNode,s=t.startOffset;else if(1==t.startContainer.nodeType){const i=Array.from(t.startContainer.childNodes);i.length?(e=i[t.startOffset]?i[t.startOffset]:i[t.startOffset-1],s=i[t.startOffset]?0:1,3==e.nodeType&&(s=0==s?0:e.textContent.length,e=e.parentNode)):(e=t.startContainer,s=0)}if(3==t.endContainer.nodeType)i=t.endContainer.parentNode,n=t.endOffset;else if(1==t.endContainer.nodeType){const e=Array.from(t.endContainer.childNodes);e.length?(i=e[t.endOffset]?e[t.endOffset]:e[t.endOffset-1],n=e[t.endOffset]?0:1,3==i.nodeType&&(n=0==n?0:i.textContent.length,i=i.parentNode)):(i=t.endContainer,n=1)}const o=Uo.data.get(e,"data-alex-editor-key"),r=Uo.data.get(i,"data-alex-editor-key"),l=this.getElementByKey(o),a=this.getElementByKey(r),c=new Ko(l,s),h=new Ko(a,n);this.range=new Zo(c,h),this.emit("rangeUpdate",this.range)}}}__handleBeforeInput(e){this.disabled||"deleteByCut"!=e.inputType&&"insertFromPaste"!=e.inputType&&"deleteByDrag"!=e.inputType&&"insertFromDrop"!=e.inputType&&"insertCompositionText"!=e.inputType&&(e.preventDefault(),"insertText"==e.inputType&&e.data?(this.insertText(e.data),this.formatElementStack(),this.domRender(),this.rangeRender()):"insertParagraph"==e.inputType||"insertLineBreak"==e.inputType?(this.insertParagraph(),this.formatElementStack(),this.domRender(),this.rangeRender()):"deleteContentBackward"==e.inputType&&(this.delete(),this.formatElementStack(),this.domRender(),this.rangeRender()))}__handleChineseInput(e){this.disabled||(e.preventDefault(),"compositionstart"==e.type?this.__isInputChinese=!0:"compositionend"==e.type&&(e.data&&(this.insertText(e.data),this.formatElementStack(),this.__safariLinkHandle(),this.domRender(),this.rangeRender()),setTimeout((()=>{this.__isInputChinese=!1}),0)))}__handleKeydown(e){if(!this.disabled)if(Jo.Undo(e)){e.preventDefault();const t=this.history.get(-1);t&&(this.stack=t.stack,this.range=t.range,this.formatElementStack(),this.domRender(!0),this.rangeRender())}else if(Jo.Redo(e)){e.preventDefault();const t=this.history.get(1);t&&(this.stack=t.stack,this.range=t.range,this.formatElementStack(),this.domRender(!0),this.rangeRender())}}async __handleCut(e){e.preventDefault();await this.cut()&&(this.formatElementStack(),this.domRender(),this.rangeRender())}async __handlePaste(e){e.preventDefault(),await this.paste(),this.formatElementStack(),this.domRender(),this.rangeRender()}async __handleCopy(e){e.preventDefault(),await this.copy()}__handleDragDrop(e){e.preventDefault()}__handleFocus(e){this.emit("focus",this.value)}__handleBlur(e){this.emit("blur",this.value)}async paste(){if(!this.useClipboard)return!1;const e=(await navigator.clipboard.read())[0],t=[];e.types.forEach((i=>{t.push(e.getType(i))}));const i=await Promise.all(t),s=i.length;if(i.some((e=>"text/html"==e.type)))for(let n=0;n<s;n++){const e=i[n];if("text/plain"!=e.type||this.htmlPaste){if("text/html"==e.type&&this.htmlPaste){const t=await e.text();if(t){const e=this.parseHtml(t).filter((e=>!e.isEmpty()));for(let t=0;t<e.length;t++)this.insertElement(e[t],!1);this.emit("pasteHtml",t,e)}}}else{const t=await e.text();t&&(this.insertText(t),this.emit("pasteText",t))}}else for(let n=0;n<s;n++){const e=i[n];if(e.type.startsWith("image/")){const t=await Yo.blobToBase64(e);if(!this.emit("pasteImage",t)){const e=new Xo("closed","img",{src:t},null,null);this.insertElement(e)}}else if(e.type.startsWith("video/")){const t=await Yo.blobToBase64(e);if(!this.emit("pasteVideo",t)){const e=new Xo("closed","video",{src:t},null,null);this.insertElement(e)}}else if("text/plain"==e.type){const t=await e.text();t&&(this.insertText(t),this.emit("pasteText",t))}}}async cut(){if(!this.useClipboard)return!1;const e=await this.copy(!0);return e&&(this.delete(),this.emit("cut")),e}async copy(e=!1){if(!this.useClipboard)return!1;let t=this.getElementsByRange(!0,!1);if(0==t.length)return!1;let i="",s="";t.forEach((e=>{const t=e.element.clone();e.offset&&(t.textContent=t.textContent.substring(e.offset[0],e.offset[1])),t.__renderElement(),i+=t._elm.outerHTML,s+=t._elm.innerText}));const n=new window.ClipboardItem({"text/html":new Blob([i],{type:"text/html"}),"text/plain":new Blob([s],{type:"text/plain"})});return await navigator.clipboard.write([n]),e||this.emit("copy"),!0}delete(){if(this.range.anchor.isEqual(this.range.focus)){const e=this.getPreviousElementOfPoint(this.range.anchor),t=this.range.anchor.element.getBlock(),i=this.range.anchor.element.getInblock();if(i)if(0==this.range.anchor.offset)if(e){if(i.isContains(e))return this.range.anchor.moveToEnd(e),this.range.focus.moveToEnd(e),void this.delete();if("block"==i.behavior){const t=e.getBlock(),s=e.getInblock();s?"block"==s.behavior&&this.mergeBlockElement(i,s):this.mergeBlockElement(i,t)}}else this.emit("deleteInStart",i);else if(this.range.anchor.element.isSpaceText()){if(this.range.anchor.element.toEmpty(),!i.isEmpty())return this.range.anchor.offset=0,this.range.focus.offset=0,void this.delete();{const e=new Xo("closed","br",null,null,null);this.addElementTo(e,i),this.range.anchor.moveToStart(e),this.range.focus.moveToStart(e)}}else if(this.range.anchor.element.isText()){const e=this.range.anchor.element.textContent;this.range.anchor.offset-=1;const t=Yo.isSpaceText(e[this.range.anchor.offset]);if(this.range.anchor.element.textContent=e.substring(0,this.range.anchor.offset)+e.substring(this.range.focus.offset),this.range.focus.offset=this.range.anchor.offset,t)return void this.delete();if(i.isEmpty()){const e=new Xo("closed","br",null,null,null);this.addElementTo(e,i),this.range.anchor.moveToStart(e),this.range.focus.moveToStart(e)}}else{const t=this.range.anchor.element.isBreak();if(this.range.anchor.element.toEmpty(),i.isEmpty())if(t&&"default"!=i.behavior){if(!e){const e=new Xo("closed","br",null,null,null);this.addElementTo(e,i),this.range.anchor.moveToStart(e),this.range.focus.moveToStart(e)}}else{const e=new Xo("closed","br",null,null,null);this.addElementTo(e,i),this.range.anchor.moveToStart(e),this.range.focus.moveToStart(e)}}else if(0==this.range.anchor.offset)if(e){if(t.isContains(e))return this.range.anchor.moveToEnd(e),this.range.focus.moveToEnd(e),void this.delete();{const i=e.getInblock(),s=e.getBlock();i?"block"==i.behavior&&this.mergeBlockElement(t,i):this.mergeBlockElement(t,s)}}else this.emit("deleteInStart",t);else if(this.range.anchor.element.isSpaceText()){if(this.range.anchor.element.toEmpty(),!t.isEmpty())return this.range.anchor.offset=0,this.range.focus.offset=0,void this.delete();{const e=new Xo("closed","br",null,null,null);this.addElementTo(e,t),this.range.anchor.moveToStart(e),this.range.focus.moveToStart(e)}}else if(this.range.anchor.element.isText()){const e=this.range.anchor.element.textContent;this.range.anchor.offset-=1;const i=Yo.isSpaceText(e[this.range.anchor.offset]);if(this.range.anchor.element.textContent=e.substring(0,this.range.anchor.offset)+e.substring(this.range.focus.offset),this.range.focus.offset=this.range.anchor.offset,i)return void this.delete();if(t.isEmpty()){const e=new Xo("closed","br",null,null,null);this.addElementTo(e,t),this.range.anchor.moveToStart(e),this.range.focus.moveToStart(e)}}else{const i=this.range.anchor.element.isBreak();if(this.range.anchor.element.toEmpty(),t.isEmpty())if(i){if(!e){const e=new Xo("closed","br",null,null,null);this.addElementTo(e,t),this.range.anchor.moveToStart(e),this.range.focus.moveToStart(e)}}else{const e=new Xo("closed","br",null,null,null);this.addElementTo(e,t),this.range.anchor.moveToStart(e),this.range.focus.moveToStart(e)}}}else{const e=this.getElementsByRange(!0,!1).filter((e=>!Xo.VOID_NODES.includes(e.element.parsedom))),t=this.range.anchor.element.getInblock(),i=this.range.focus.element.getInblock(),s=this.range.anchor.element.getBlock(),n=this.range.focus.element.getBlock();t&&i&&t.isEqual(i)?e.forEach((e=>{if(e.offset?e.element.textContent=e.element.textContent.substring(0,e.offset[0])+e.element.textContent.substring(e.offset[1]):e.element.toEmpty(),t.isEmpty()){const e=new Xo("closed","br",null,null,null);this.addElementTo(e,t)}})):t&&i?(e.forEach((e=>{if(e.offset)e.element.textContent=e.element.textContent.substring(0,e.offset[0])+e.element.textContent.substring(e.offset[1]);else if(e.element.isInblock()&&"default"==e.element.behavior)this.__emptyDefaultBehaviorInblock(e.element);else if(e.element.toEmpty(),e.element.parent&&(e.element.parent.isInblock()||e.element.parent.isBlock())&&e.element.parent.isEmpty()){const t=new Xo("closed","br",null,null,null);this.addElementTo(t,e.element.parent)}})),"block"==t.behavior&&"block"==i.behavior&&this.mergeBlockElement(i,t)):t?(e.forEach((e=>{if(e.offset)e.element.textContent=e.element.textContent.substring(0,e.offset[0])+e.element.textContent.substring(e.offset[1]);else if(e.element.isInblock()&&"default"==e.element.behavior)this.__emptyDefaultBehaviorInblock(e.element);else if(e.element.toEmpty(),e.element.parent&&(e.element.parent.isInblock()||e.element.parent.isBlock())&&e.element.parent.isEmpty()){const t=new Xo("closed","br",null,null,null);this.addElementTo(t,e.element.parent)}})),"block"==t.behavior&&this.mergeBlockElement(n,t)):i?(e.forEach((e=>{if(e.offset)e.element.textContent=e.element.textContent.substring(0,e.offset[0])+e.element.textContent.substring(e.offset[1]);else if(e.element.isInblock()&&"default"==e.element.behavior)this.__emptyDefaultBehaviorInblock(e.element);else if(e.element.toEmpty(),e.element.parent&&(e.element.parent.isInblock()||e.element.parent.isBlock())&&e.element.parent.isEmpty()){const t=new Xo("closed","br",null,null,null);this.addElementTo(t,e.element.parent)}})),"block"==i.behavior&&this.mergeBlockElement(i,s)):s.isEqual(n)?e.forEach((e=>{if(e.offset?e.element.textContent=e.element.textContent.substring(0,e.offset[0])+e.element.textContent.substring(e.offset[1]):e.element.toEmpty(),s.isEmpty()){const e=new Xo("closed","br",null,null,null);this.addElementTo(e,s)}})):(e.forEach((e=>{if(e.offset)e.element.textContent=e.element.textContent.substring(0,e.offset[0])+e.element.textContent.substring(e.offset[1]);else if(e.element.isInblock()&&"default"==e.element.behavior)this.__emptyDefaultBehaviorInblock(e.element);else if(e.element.toEmpty(),e.element.parent&&(e.element.parent.isInblock()||e.element.parent.isBlock())&&e.element.parent.isEmpty()){const t=new Xo("closed","br",null,null,null);this.addElementTo(t,e.element.parent)}})),this.mergeBlockElement(n,s))}this.range.anchor.element.isEmpty()&&this.__setRecentlyPoint(this.range.anchor),this.range.focus.element=this.range.anchor.element,this.range.focus.offset=this.range.anchor.offset}insertText(e){if(!e||"string"!=typeof e)throw new Error("The argument must be a string");if(this.range.anchor.isEqual(this.range.focus))if(this.range.anchor.element.isPreStyle()||(e=e.replace(/\s/g,(()=>{const e=document.createElement("span");return e.innerHTML="&nbsp;",e.innerText}))),this.range.anchor.element.isText()){let t=this.range.anchor.element.textContent;this.range.anchor.element.textContent=t.substring(0,this.range.anchor.offset)+e+t.substring(this.range.anchor.offset),this.range.anchor.offset=this.range.anchor.offset+e.length,this.range.focus.offset=this.range.anchor.offset}else{const t=new Xo("text",null,null,null,e);0==this.range.anchor.offset?this.addElementBefore(t,this.range.anchor.element):this.addElementAfter(t,this.range.anchor.element),this.range.anchor.moveToEnd(t),this.range.focus.moveToEnd(t)}else this.delete(),this.insertText(e)}insertParagraph(){if(this.range.anchor.isEqual(this.range.focus)){const e=this.getPreviousElementOfPoint(this.range.anchor),t=this.getNextElementOfPoint(this.range.anchor),i=this.range.anchor.element.getBlock(),s=this.range.anchor.element.getInblock(),n=this.range.anchor.element.isText()?this.range.anchor.element.textContent.length:1;if(s){if(this.range.anchor.element.isPreStyle()){this.insertText("\n");const e=Xo.getSpaceElement();this.insertElement(e),this.range.anchor.moveToEnd(e),this.range.focus.moveToEnd(e),this.emit("insertParagraph",null,s)}else if("block"==s.behavior)if(0!=this.range.anchor.offset||e&&s.isContains(e))if(this.range.anchor.offset!=n||t&&s.isContains(t)){const e=s.clone();this.addElementAfter(e,s);const t=Xo.flatElements(s.children).findIndex((e=>this.range.anchor.element.isEqual(e)));this.range.focus.moveToEnd(s),this.delete();const i=Xo.flatElements(e.children);this.range.focus.element=i[t],this.range.focus.offset=this.range.anchor.offset,this.range.anchor.moveToStart(e),this.delete(),this.emit("insertParagraph",e,s)}else{const e=s.clone(!1),t=new Xo("closed","br",null,null,null);this.addElementTo(t,e),this.addElementAfter(e,s),this.range.anchor.moveToStart(t),this.range.focus.moveToStart(t),this.emit("insertParagraph",e,s)}else{const e=s.clone(!1),t=new Xo("closed","br",null,null,null);this.addElementTo(t,e),this.addElementBefore(e,s),this.emit("insertParagraph",s,e)}}else if(this.range.anchor.element.isPreStyle()){this.insertText("\n");const e=Xo.getSpaceElement();this.insertElement(e),this.range.anchor.moveToEnd(e),this.range.focus.moveToEnd(e),this.emit("insertParagraph",null,i)}else if(0!=this.range.anchor.offset||e&&i.isContains(e))if(this.range.anchor.offset!=n||t&&i.isContains(t)){const e=i.clone();this.addElementAfter(e,i);const t=Xo.flatElements(i.children).findIndex((e=>this.range.anchor.element.isEqual(e)));this.range.focus.moveToEnd(i),this.delete();const s=Xo.flatElements(e.children);this.range.focus.element=s[t],this.range.focus.offset=this.range.anchor.offset,this.range.anchor.moveToStart(e),this.delete(),this.emit("insertParagraph",e,i)}else{const e=i.clone(!1),t=new Xo("closed","br",null,null,null);this.addElementTo(t,e),this.addElementAfter(e,i),this.range.anchor.moveToStart(t),this.range.focus.moveToStart(t),this.emit("insertParagraph",e,i)}else{const e=i.clone(!1),t=new Xo("closed","br",null,null,null);this.addElementTo(t,e),this.addElementBefore(e,i),this.emit("insertParagraph",i,e)}}else this.delete(),this.insertParagraph()}insertElement(e,t=!0){if(!Xo.isElement(e))throw new Error("The argument must be an AlexElement instance");if(!e.isEmpty())if(this.range.anchor.isEqual(this.range.focus)){const i=this.getPreviousElementOfPoint(this.range.anchor),s=this.getNextElementOfPoint(this.range.anchor),n=this.range.anchor.element.getBlock(),o=this.range.anchor.element.getInblock(),r=this.range.anchor.element.isText()?this.range.anchor.element.textContent.length:1;if(e.isInblock()&&"block"==e.behavior&&o&&"block"==o.behavior)if(o.isOnlyHasBreak()&&t)this.addElementBefore(e,o),o.toEmpty();else if(0!=this.range.anchor.offset||i&&o.isContains(i))if(this.range.anchor.offset!=r||s&&o.isContains(s)){const t=o.clone();this.addElementAfter(t,o),this.range.focus.moveToEnd(o),this.delete();const i=Xo.flatElements(o.children).findIndex((e=>this.range.anchor.element.isEqual(e))),s=Xo.flatElements(t.children);this.range.focus.element=s[i],this.range.focus.offset=this.range.anchor.offset,this.range.anchor.moveToStart(t),this.delete(),this.addElementBefore(e,t)}else this.addElementAfter(e,o);else this.addElementBefore(e,o);else if(e.isInblock()&&o)if(o.isOnlyHasBreak())this.addElementTo(e,o,0);else if(0!=this.range.anchor.offset||i&&o.isContains(i))if(this.range.anchor.offset!=r||s&&o.isContains(s)){const t=o.clone();this.addElementAfter(t,o),this.range.focus.moveToEnd(o),this.delete();const i=Xo.flatElements(o.children).findIndex((e=>this.range.anchor.element.isEqual(e))),s=Xo.flatElements(t.children);this.range.focus.element=s[i],this.range.focus.offset=this.range.anchor.offset,this.range.anchor.moveToStart(t),this.delete(),this.addElementTo(e,t),this.mergeBlockElement(t,o)}else this.addElementTo(e,o,o.children.length);else this.addElementTo(e,o,0);else if(e.isInblock())if(n.isOnlyHasBreak())this.addElementTo(e,n,0);else if(0!=this.range.anchor.offset||i&&n.isContains(i))if(this.range.anchor.offset!=r||s&&n.isContains(s)){const t=n.clone();this.addElementAfter(t,n),this.range.focus.moveToEnd(n),this.delete();const i=Xo.flatElements(n.children).findIndex((e=>this.range.anchor.element.isEqual(e))),s=Xo.flatElements(t.children);this.range.focus.element=s[i],this.range.focus.offset=this.range.anchor.offset,this.range.anchor.moveToStart(t),this.delete(),this.addElementTo(e,t),this.mergeBlockElement(t,n)}else this.addElementTo(e,n,n.children.length);else this.addElementTo(e,n,0);else if(e.isBlock())if(n.isOnlyHasBreak()&&t)this.addElementBefore(e,n),n.toEmpty();else if(0!=this.range.anchor.offset||i&&n.isContains(i))if(this.range.anchor.offset!=r||s&&n.isContains(s)){const t=n.clone();this.addElementAfter(t,n),this.range.focus.moveToEnd(n),this.delete();const i=Xo.flatElements(n.children).findIndex((e=>this.range.anchor.element.isEqual(e))),s=Xo.flatElements(t.children);this.range.focus.element=s[i],this.range.focus.offset=this.range.anchor.offset,this.range.anchor.moveToStart(t),this.delete(),this.addElementBefore(e,t)}else this.addElementAfter(e,n);else this.addElementBefore(e,n);else if(this.range.anchor.element.isText()){let t=this.range.anchor.element.textContent,i=this.range.anchor.element.clone();this.range.anchor.element.textContent=t.substring(0,this.range.anchor.offset),i.textContent=t.substring(this.range.anchor.offset),this.addElementAfter(i,this.range.anchor.element),this.addElementBefore(e,i)}else 0==this.range.anchor.offset?this.addElementBefore(e,this.range.anchor.element):this.addElementAfter(e,this.range.anchor.element);this.range.anchor.moveToEnd(e),this.range.focus.moveToEnd(e)}else this.delete(),this.insertElement(e,t)}formatElementStack(){const e=(t,i)=>{if(t.hasChildren()){let s=0;for(;s<t.children.length;){let n=t.children[s];e(n,i);s=t.children.findIndex((e=>n.isEqual(e)))+1}}i.apply(this,[t])},t=e=>{e.isEmpty()||e.hasChildren()&&(e.children.forEach((e=>{e.isEmpty()||t(e)})),e.children=e.children.filter((e=>!e.isEmpty())))};let i=this.renderRules.filter((e=>"function"==typeof e));if(i=[...i,...this.__formatUnchangeableRules],i.forEach((t=>{let i=0;for(;i<this.stack.length;){const s=this.stack[i];e(s,t);i=this.stack.findIndex((e=>s.isEqual(e)))+1}})),this.stack.forEach((e=>{t(e)})),this.stack=this.stack.filter((e=>!e.isEmpty())),0==this.stack.length){const e=new Xo("block",Xo.BLOCK_NODE,null,null,null),t=new Xo("closed","br",null,null,null);this.addElementTo(t,e),this.stack=[e]}}domRender(e=!1){this.emit("beforeRender");const t=!this.__oldStack;t?(this.$el.innerHTML="",this.stack.forEach((e=>{e.__renderElement(),this.$el.appendChild(e._elm)}))):this.__updateDoms(this.__oldStack,this.stack),this.__oldValue=this.value,this.__oldStack=this.stack.map((e=>e.__fullClone())),this.value=this.$el.innerHTML,t?e||this.history.push(this.stack,this.range):this.__oldValue!=this.value&&(this.emit("change",this.value,this.__oldValue),e||this.history.push(this.stack,this.range)),this.emit("afterRender")}rangeRender(){if(this.disabled)return;const e=e=>{let t=null,i=null;if(e.element.isText())t=e.element._elm.childNodes[0],i=e.offset;else{t=e.element.parent._elm;const s=e.element.parent.children.findIndex((t=>e.element.isEqual(t)));i=e.offset+s}return{node:t,offset:i}};this.__innerSelectionChange=!0;const t=e(this.range.anchor),i=e(this.range.focus),s=window.getSelection();s.removeAllRanges();const n=document.createRange();n.setStart(t.node,t.offset),n.setEnd(i.node,i.offset),s.addRange(n),setTimeout((()=>{this.__setRangeInVisible(),this.__innerSelectionChange=!1,this.emit("rangeUpdate",this.range)}),0)}parseHtml(e){if(!e)throw new Error("You need to give an html content to convert");const t=document.createElement("div");t.innerHTML=e;let i=[];return Array.from(t.childNodes).forEach((e=>{if(1==e.nodeType||3==e.nodeType){const t=this.parseNode(e);i.push(t)}})),i}parseNode(e){if(!(e instanceof Node))throw new Error("The argument must be an node");if(1!=e.nodeType&&3!=e.nodeType)throw new Error("The argument must be an element node or text node");if(3==e.nodeType)return new Xo("text",null,null,null,e.textContent);const t=Yo.getAttributes(e),i=Yo.getStyles(e),s=e.nodeName.toLocaleLowerCase(),n=er.block.find((e=>e.parsedom==s)),o=er.inblock.find((e=>e.parsedom==s)),r=er.inline.find((e=>e.parsedom==s)),l=er.closed.find((e=>e.parsedom==s));let a=null,c={type:"inblock",parsedom:s,marks:t,styles:i,behavior:"default"};return n?(c.type="block",n.parse&&(c.parsedom=Xo.BLOCK_NODE)):o?(c.type="inblock",o.block&&(c.behavior="block")):r?(c.type="inline",r.parse&&(c.parsedom=Xo.TEXT_NODE,Uo.common.isObject(r.parse)&&Object.assign(c.styles,Yo.clone(r.parse)))):l?c.type="closed":(c.type="inline",c.parsedom="span"),a=new Xo(c.type,c.parsedom,c.marks,c.styles,null),a.behavior=c.behavior,(n||o||r)&&Array.from(e.childNodes).forEach((e=>{if(1==e.nodeType||3==e.nodeType){const t=this.parseNode(e);t.parent=a,a.hasChildren()?a.children.push(t):a.children=[t]}})),a}mergeBlockElement(e,t){if(!Xo.isElement(e))throw new Error("The first argument must be an AlexElement instance");if(!Xo.isElement(t))throw new Error("The second argument must be an AlexElement instance");if(!e.isBlock()&&!e.isInblock()||!t.isBlock()&&!t.isInblock())throw new Error('Elements that are not "block" or "inblock" cannot be merged');t.children.push(...e.children),t.children.forEach((e=>{e.parent=t})),e.children=null}getElementByKey(e){if(!e)throw new Error("You need to specify a key to do the query");const t=i=>{let s=null,n=0,o=i.length;for(;n<o;){if(i[n].key==e){s=i[n];break}if(i[n].hasChildren()){const e=t(i[n].children);if(e){s=e;break}}n++}return s};return t(this.stack)}getPreviousElement(e){if(!Xo.isElement(e))throw new Error("The argument must be an AlexElement instance");if(e.isBlock()){const t=this.stack.findIndex((t=>e.isEqual(t)));return t<=0?null:this.stack[t-1].isEmpty()?this.getPreviousElement(this.stack[t-1]):this.stack[t-1]}{const t=e.parent.children.findIndex((t=>e.isEqual(t)));return t<=0?null:e.parent.children[t-1].isEmpty()?this.getPreviousElement(e.parent.children[t-1]):e.parent.children[t-1]}}getNextElement(e){if(!Xo.isElement(e))throw new Error("The argument must be an AlexElement instance");if(e.isBlock()){const t=this.stack.findIndex((t=>e.isEqual(t)));return t>=this.stack.length-1?null:this.stack[t+1].isEmpty()?this.getNextElement(this.stack[t+1]):this.stack[t+1]}{const t=e.parent.children.findIndex((t=>e.isEqual(t)));return t>=e.parent.children.length-1?null:e.parent.children[t+1].isEmpty()?this.getNextElement(e.parent.children[t+1]):e.parent.children[t+1]}}getPreviousElementOfPoint(e){if(!Ko.isPoint(e))throw new Error("The argument must be an AlexPoint instance");const t=Xo.flatElements(this.stack),i=e=>{const s=t.findIndex((t=>e.isEqual(t)));if(s<=0)return null;let n=t[s-1];return!n.isText()&&!n.isClosed()||n.isEmpty()?i(n):n};return i(e.element)}getNextElementOfPoint(e){if(!Ko.isPoint(e))throw new Error("The argument must be an AlexPoint instance");const t=Xo.flatElements(this.stack),i=e=>{const s=t.findIndex((t=>e.isEqual(t)));if(s==t.length-1)return null;let n=t[s+1];return!n.isText()&&!n.isClosed()||n.isEmpty()?i(n):n};return i(e.element)}getElementsByRange(e=!1,t=!1){if(this.range.anchor.isEqual(this.range.focus))return[];if(this.range.anchor.element.isEqual(this.range.focus.element)){if(e){const e=0==this.range.anchor.offset&&this.range.focus.offset==(this.range.anchor.element.isText()?this.range.anchor.element.textContent.length:1);return[{element:this.range.anchor.element,offset:!e&&[this.range.anchor.offset,this.range.focus.offset]}]}return[]}let i=[];e&&(0==this.range.anchor.offset?i.push({element:this.range.anchor.element,offset:!1}):this.range.anchor.offset<(this.range.anchor.element.isText()?this.range.anchor.element.textContent.length:1)&&i.push({element:this.range.anchor.element,offset:[this.range.anchor.offset,this.range.anchor.element.isText()?this.range.anchor.element.textContent.length:1]}));const s=Xo.flatElements(this.stack),n=s.findIndex((e=>e.isEqual(this.range.anchor.element))),o=s.findIndex((e=>e.isEqual(this.range.focus.element)));for(let h=n+1;h<o;h++)i.push({element:s[h],offset:!1});e&&(this.range.focus.offset==(this.range.focus.element.isText()?this.range.focus.element.textContent.length:1)?i.push({element:this.range.focus.element,offset:!1}):this.range.focus.offset>0&&i.push({element:this.range.focus.element,offset:[0,this.range.focus.offset]}));const r=i.length;let l=[];for(let h=0;h<r;h++)if(i[h].element.hasChildren()){i[h].element.children.every((e=>i.some((t=>t.element.isEqual(e)&&!t.offset))))&&l.push(i[h])}else l.push(i[h]);if(t)return l;let a=[];const c=l.length;for(let h=0;h<c;h++)if(l[h].element.isBlock())a.push(l[h]);else{l.some((e=>e.element.isEqual(l[h].element.parent)))||a.push(l[h])}return a}splitElementsByRange(e=!1,t=!1){const i=this.getElementsByRange(e,t);let s=[];return i.forEach(((e,t)=>{if(e.offset){let n=null;if(0==e.offset[0]){const t=e.element.clone();e.element.textContent=e.element.textContent.substring(0,e.offset[1]),t.textContent=t.textContent.substring(e.offset[1]),this.addElementAfter(t,e.element),n=e.element}else if(e.offset[1]==e.element.textContent.length){const t=e.element.clone();e.element.textContent=e.element.textContent.substring(0,e.offset[0]),t.textContent=t.textContent.substring(e.offset[0]),this.addElementAfter(t,e.element),n=t}else{const t=e.element.clone(),i=e.element.clone();e.element.textContent=e.element.textContent.substring(0,e.offset[0]),t.textContent=t.textContent.substring(e.offset[0],e.offset[1]),i.textContent=i.textContent.substring(e.offset[1]),this.addElementAfter(t,e.element),this.addElementAfter(i,t),n=t}0==t&&this.range.anchor.moveToStart(n),t==i.length-1&&this.range.focus.moveToEnd(n),s.push(n)}else s.push(e.element)})),s}addElementTo(e,t,i=0){if(!Xo.isElement(e))throw new Error("The first argument must be an AlexElement instance");if(!Xo.isElement(t))throw new Error("The second argument must be an AlexElement instance");if("number"!=typeof i||isNaN(i)||i<0)throw new Error("The third argument must be an integer not less than 0");t.hasChildren()?i>=t.children.length?t.children.push(e):t.children.splice(i,0,e):t.children=[e],e.parent=t}addElementBefore(e,t){if(!Xo.isElement(e))throw new Error("The first argument must be an AlexElement instance");if(!Xo.isElement(t))throw new Error("The second argument must be an AlexElement instance");if(t.isBlock()){const i=this.stack.findIndex((e=>t.isEqual(e)));this.stack.splice(i,0,e),e.parent=null}else{const i=t.parent.children.findIndex((e=>t.isEqual(e)));this.addElementTo(e,t.parent,i)}}addElementAfter(e,t){if(!Xo.isElement(e))throw new Error("The first argument must be an AlexElement instance");if(!Xo.isElement(t))throw new Error("The second argument must be an AlexElement instance");if(t.isBlock()){const i=this.stack.findIndex((e=>t.isEqual(e)));i>=this.stack.length-1?this.stack.push(e):this.stack.splice(i+1,0,e),e.parent=null}else{const i=t.parent.children.findIndex((e=>t.isEqual(e)));this.addElementTo(e,t.parent,i+1)}}collapseToStart(e){if(!this.disabled)if(Xo.isElement(e))this.range.anchor.moveToStart(e),this.range.focus.moveToStart(e);else{const e=Xo.flatElements(this.stack);this.range.anchor.moveToStart(e[0]),this.range.focus.moveToStart(e[0])}}collapseToEnd(e){if(!this.disabled)if(Xo.isElement(e))this.range.anchor.moveToEnd(e),this.range.focus.moveToEnd(e);else{const e=Xo.flatElements(this.stack),t=e.length;this.range.anchor.moveToEnd(e[t-1]),this.range.focus.moveToEnd(e[t-1])}}setDisabled(){this.disabled=!0,this.$el.removeAttribute("contenteditable")}setEnabled(){this.disabled=!1,this.$el.setAttribute("contenteditable",!0)}setTextStyle(e){if(!Uo.common.isObject(e))throw new Error("The argument must be an object");if(this.range.anchor.isEqual(this.range.focus))if(this.range.anchor.element.isSpaceText())this.range.anchor.element.hasStyles()?Object.assign(this.range.anchor.element.styles,Yo.clone(e)):this.range.anchor.element.styles=Yo.clone(e);else if(this.range.anchor.element.isText()){const t=Xo.getSpaceElement();t.styles=Yo.clone(this.range.anchor.element.styles),t.marks=Yo.clone(this.range.anchor.element.marks),t.hasStyles()?Object.assign(t.styles,Yo.clone(e)):t.styles=Yo.clone(e),this.insertElement(t)}else{const t=Xo.getSpaceElement();t.styles=Yo.clone(e),this.insertElement(t)}else{this.splitElementsByRange(!0,!0).forEach((t=>{t.isText()&&(t.hasStyles()?Object.assign(t.styles,Yo.clone(e)):t.styles=Yo.clone(e))}))}}removeTextStyle(e){const t=t=>{if(Array.isArray(e)){if(t.hasStyles()){let i={};Object.keys(t.styles).forEach((s=>{e.includes(s)||(i[s]=t.styles[s])})),t.styles=i}}else t.styles=null};if(this.range.anchor.isEqual(this.range.focus)){if(this.range.anchor.element.isSpaceText())t(this.range.anchor.element);else if(this.range.anchor.element.isText()){const e=Xo.getSpaceElement();e.styles=Yo.clone(this.range.anchor.element.styles),e.marks=Yo.clone(this.range.anchor.element.marks),t(e),this.insertElement(e)}}else{this.splitElementsByRange(!0,!0).forEach((e=>{e.isText()&&t(e)}))}}queryTextStyle(e,t){if(!e)throw new Error("The first argument cannot be null");if(this.range.anchor.isEqual(this.range.focus))return!(!this.range.anchor.element.isText()||!this.range.anchor.element.hasStyles())&&(null==t||null==t?this.range.anchor.element.styles.hasOwnProperty(e):this.range.anchor.element.styles[e]==t);const i=this.getElementsByRange(!0,!0).filter((e=>e.element.isText()));if(0==i.length)return!1;return i.every((i=>!!i.element.hasStyles()&&(null==t||null==t?i.element.styles.hasOwnProperty(e):i.element.styles[e]==t)))}setTextMark(e){if(!Uo.common.isObject(e))throw new Error("The argument must be an object");if(this.range.anchor.isEqual(this.range.focus))if(this.range.anchor.element.isSpaceText())this.range.anchor.element.hasMarks()?Object.assign(this.range.anchor.element.marks,Yo.clone(e)):this.range.anchor.element.marks=Yo.clone(e);else if(this.range.anchor.element.isText()){const t=Xo.getSpaceElement();t.styles=Yo.clone(this.range.anchor.element.styles),t.marks=Yo.clone(this.range.anchor.element.marks),t.hasMarks()?Object.assign(t.marks,Yo.clone(e)):t.marks=Yo.clone(e),this.insertElement(t)}else{const t=Xo.getSpaceElement();t.marks=Yo.clone(e),this.insertElement(t)}else{this.splitElementsByRange(!0,!0).forEach((t=>{t.isText()&&(t.hasMarks()?Object.assign(t.marks,Yo.clone(e)):t.marks=Yo.clone(e))}))}}removeTextMark(e){const t=t=>{if(Array.isArray(e)){if(t.hasMarks()){let i={};Object.keys(t.marks).forEach((s=>{e.includes(s)||(i[s]=t.marks[s])})),t.marks=i}}else t.marks=null};if(this.range.anchor.isEqual(this.range.focus)){if(this.range.anchor.element.isSpaceText())t(this.range.anchor.element);else if(this.range.anchor.element.isText()){const e=Xo.getSpaceElement();e.styles=Yo.clone(this.range.anchor.element.styles),e.marks=Yo.clone(this.range.anchor.element.marks),t(e),this.insertElement(e)}}else{this.splitElementsByRange(!0,!0).forEach((e=>{e.isText()&&t(e)}))}}queryTextMark(e,t){if(!e)throw new Error("The first argument cannot be null");if(this.range.anchor.isEqual(this.range.focus))return!(!this.range.anchor.element.isText()||!this.range.anchor.element.hasMarks())&&(null==t||null==t?this.range.anchor.element.marks.hasOwnProperty(e):this.range.anchor.element.marks[e]==t);const i=this.getElementsByRange(!0,!0).filter((e=>e.element.isText()));if(0==i.length)return!1;return i.every((i=>!!i.element.hasMarks()&&(null==t||null==t?i.element.marks.hasOwnProperty(e):i.element.marks[e]==t)))}emit(e,...t){return!!Array.isArray(this.__events[e])&&(this.__events[e].forEach((e=>{e.apply(this,[...t])})),!0)}on(e,t){this.__events[e]||(this.__events[e]=[]),this.__events[e].push(t)}destroy(){this.setDisabled(),Uo.event.off(document,`selectionchange.alex_editor_${this.__guid}`),Uo.event.off(this.$el,"beforeinput.alex_editor compositionstart.alex_editor compositionupdate.alex_editor compositionend.alex_editor keydown.alex_editor cut.alex_editor paste.alex_editor copy.alex_editor dragstart.alex_editor drop.alex_editor focus.alex_editor blur.alex_editor")}}const ir={isList:(e,t=!1)=>"block"==e.type&&"div"==e.parsedom&&e.hasMarks()&&e.marks["data-list"]==(t?"ol":"ul"),toParagraph(e){if(this.isList(e,!0)||this.isList(e,!1)){let t={};for(let i in e.marks)"data-list"!=i&&"data-value"!=i&&(t[i]=e.marks[i]);e.marks=t}e.parsedom=Xo.BLOCK_NODE},toList(e,t=!1){e.parsedom="div",e.hasMarks()||(e.marks={}),e.marks["data-list"]=t?"ol":"ul"}};function sr(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((t=>{const i=e[t],s=typeof i;"object"!==s&&"function"!==s||Object.isFrozen(i)||sr(i)})),e}class nr{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function or(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function rr(e,...t){const i=Object.create(null);for(const s in e)i[s]=e[s];return t.forEach((function(e){for(const t in e)i[t]=e[t]})),i}const lr=e=>!!e.scope;class ar{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=or(e)}openNode(e){if(!lr(e))return;const t=((e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const i=e.split(".");return[`${t}${i.shift()}`,...i.map(((e,t)=>`${e}${"_".repeat(t+1)}`))].join(" ")}return`${t}${e}`})(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){lr(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const cr=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class hr{constructor(){this.rootNode=cr(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=cr({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach((t=>this._walk(e,t))),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every((e=>"string"==typeof e))?e.children=[e.children.join("")]:e.children.forEach((e=>{hr._collapse(e)})))}}class dr extends hr{constructor(e){super(),this.options=e}addText(e){""!==e&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){const i=e.root;t&&(i.scope=`language:${t}`),this.add(i)}toHTML(){return new ar(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function mr(e){return e?"string"==typeof e?e:e.source:null}function ur(e){return gr("(?=",e,")")}function pr(e){return gr("(?:",e,")*")}function fr(e){return gr("(?:",e,")?")}function gr(...e){return e.map((e=>mr(e))).join("")}function yr(...e){const t=function(e){const t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e);return"("+(t.capture?"":"?:")+e.map((e=>mr(e))).join("|")+")"}function br(e){return new RegExp(e.toString()+"|").exec("").length-1}const vr=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function wr(e,{joinWith:t}){let i=0;return e.map((e=>{i+=1;const t=i;let s=mr(e),n="";for(;s.length>0;){const e=vr.exec(s);if(!e){n+=s;break}n+=s.substring(0,e.index),s=s.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?n+="\\"+String(Number(e[1])+t):(n+=e[0],"("===e[0]&&i++)}return n})).map((e=>`(${e})`)).join(t)}const kr="[a-zA-Z]\\w*",Er="[a-zA-Z_]\\w*",xr="\\b\\d+(\\.\\d+)?",Cr="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Sr="\\b(0b[01]+)",Tr={begin:"\\\\[\\s\\S]",relevance:0},$r={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Tr]},Ir={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Tr]},Br=function(e,t,i={}){const s=rr({scope:"comment",begin:e,end:t,contains:[]},i);s.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const n=yr("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return s.contains.push({begin:gr(/[ ]+/,"(",n,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),s},_r=Br("//","$"),Nr=Br("/\\*","\\*/"),Pr=Br("#","$"),zr={scope:"number",begin:xr,relevance:0},Ar={scope:"number",begin:Cr,relevance:0},Or={scope:"number",begin:Sr,relevance:0},Vr={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[Tr,{begin:/\[/,end:/\]/,relevance:0,contains:[Tr]}]}]},Rr={scope:"title",begin:kr,relevance:0},Dr={scope:"title",begin:Er,relevance:0},Mr={begin:"\\.\\s*"+Er,relevance:0};var Lr=Object.freeze({__proto__:null,MATCH_NOTHING_RE:/\b\B/,IDENT_RE:kr,UNDERSCORE_IDENT_RE:Er,NUMBER_RE:xr,C_NUMBER_RE:Cr,BINARY_NUMBER_RE:Sr,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=gr(t,/.*\b/,e.binary,/\b.*/)),rr({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},BACKSLASH_ESCAPE:Tr,APOS_STRING_MODE:$r,QUOTE_STRING_MODE:Ir,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},COMMENT:Br,C_LINE_COMMENT_MODE:_r,C_BLOCK_COMMENT_MODE:Nr,HASH_COMMENT_MODE:Pr,NUMBER_MODE:zr,C_NUMBER_MODE:Ar,BINARY_NUMBER_MODE:Or,REGEXP_MODE:Vr,TITLE_MODE:Rr,UNDERSCORE_TITLE_MODE:Dr,METHOD_GUARD:Mr,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})}});function Hr(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function Fr(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function Wr(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=Hr,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function jr(e,t){Array.isArray(e.illegal)&&(e.illegal=yr(...e.illegal))}function Ur(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function Yr(e,t){void 0===e.relevance&&(e.relevance=1)}const qr=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const i=Object.assign({},e);Object.keys(e).forEach((t=>{delete e[t]})),e.keywords=i.keywords,e.begin=gr(i.beforeMatch,ur(i.begin)),e.starts={relevance:0,contains:[Object.assign(i,{endsParent:!0})]},e.relevance=0,delete i.beforeMatch},Xr=["of","and","for","in","not","or","if","then","parent","list","value"],Kr="keyword";function Zr(e,t,i=Kr){const s=Object.create(null);return"string"==typeof e?n(i,e.split(" ")):Array.isArray(e)?n(i,e):Object.keys(e).forEach((function(i){Object.assign(s,Zr(e[i],t,i))})),s;function n(e,i){t&&(i=i.map((e=>e.toLowerCase()))),i.forEach((function(t){const i=t.split("|");s[i[0]]=[e,Gr(i[0],i[1])]}))}}function Gr(e,t){return t?Number(t):function(e){return Xr.includes(e.toLowerCase())}(e)?0:1}const Qr={},Jr=e=>{},el=(e,t)=>{Qr[`${e}/${t}`]||(Qr[`${e}/${t}`]=!0)},tl=new Error;function il(e,t,{key:i}){let s=0;const n=e[i],o={},r={};for(let l=1;l<=t.length;l++)r[l+s]=n[l],o[l+s]=!0,s+=br(t[l-1]);e[i]=r,e[i]._emit=o,e[i]._multi=!0}function sl(e){!function(e){e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}(e),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Jr("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),tl;if("object"!=typeof e.beginScope||null===e.beginScope)throw Jr("beginScope must be object"),tl;il(e,e.begin,{key:"beginScope"}),e.begin=wr(e.begin,{joinWith:""})}}(e),function(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Jr("skip, excludeEnd, returnEnd not compatible with endScope: {}"),tl;if("object"!=typeof e.endScope||null===e.endScope)throw Jr("endScope must be object"),tl;il(e,e.end,{key:"endScope"}),e.end=wr(e.end,{joinWith:""})}}(e)}function nl(e){function t(t,i){return new RegExp(mr(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(i?"g":""))}class i{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=br(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map((e=>e[1]));this.matcherRe=t(wr(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const i=t.findIndex(((e,t)=>t>0&&void 0!==e)),s=this.matchIndexes[i];return t.splice(0,i),Object.assign(t,s)}}class s{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new i;return this.rules.slice(e).forEach((([e,i])=>t.addRule(e,i))),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let i=t.exec(e);if(this.resumingScanAtSamePosition())if(i&&i.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,i=t.exec(e)}return i&&(this.regexIndex+=i.position+1,this.regexIndex===this.count&&this.considerAll()),i}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=rr(e.classNameAliases||{}),function i(n,o){const r=n;if(n.isCompiled)return r;[Fr,Ur,sl,qr].forEach((e=>e(n,o))),e.compilerExtensions.forEach((e=>e(n,o))),n.__beforeBegin=null,[Wr,jr,Yr].forEach((e=>e(n,o))),n.isCompiled=!0;let l=null;return"object"==typeof n.keywords&&n.keywords.$pattern&&(n.keywords=Object.assign({},n.keywords),l=n.keywords.$pattern,delete n.keywords.$pattern),l=l||/\w+/,n.keywords&&(n.keywords=Zr(n.keywords,e.case_insensitive)),r.keywordPatternRe=t(l,!0),o&&(n.begin||(n.begin=/\B|\b/),r.beginRe=t(r.begin),n.end||n.endsWithParent||(n.end=/\B|\b/),n.end&&(r.endRe=t(r.end)),r.terminatorEnd=mr(r.end)||"",n.endsWithParent&&o.terminatorEnd&&(r.terminatorEnd+=(n.end?"|":"")+o.terminatorEnd)),n.illegal&&(r.illegalRe=t(n.illegal)),n.contains||(n.contains=[]),n.contains=[].concat(...n.contains.map((function(e){return function(e){e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return rr(e,{variants:null},t)})));if(e.cachedVariants)return e.cachedVariants;if(ol(e))return rr(e,{starts:e.starts?rr(e.starts):null});if(Object.isFrozen(e))return rr(e);return e}("self"===e?n:e)}))),n.contains.forEach((function(e){i(e,r)})),n.starts&&i(n.starts,o),r.matcher=function(e){const t=new s;return e.contains.forEach((e=>t.addRule(e.begin,{rule:e,type:"begin"}))),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(r),r}(e)}function ol(e){return!!e&&(e.endsWithParent||ol(e.starts))}class rl extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const ll=or,al=rr,cl=Symbol("nomatch"),hl=function(e){const t=Object.create(null),i=Object.create(null),s=[];let n=!0;const o="Could not find the language '{}', did you forget to load/include a language module?",r={disableAutodetect:!0,name:"Plain text",contains:[]};let l={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:dr};function a(e){return l.noHighlightRe.test(e)}function c(e,t,i){let s="",n="";"object"==typeof t?(s=e,i=t.ignoreIllegals,n=t.language):(el("10.7.0","highlight(lang, code, ...args) has been deprecated."),el("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),n=e,s=t),void 0===i&&(i=!0);const o={code:s,language:n};b("before:highlight",o);const r=o.result?o.result:h(o.language,o.code,i);return r.code=o.code,b("after:highlight",r),r}function h(e,i,s,r){const a=Object.create(null);function c(){if(!S.keywords)return void $.addText(I);let e=0;S.keywordPatternRe.lastIndex=0;let t=S.keywordPatternRe.exec(I),i="";for(;t;){i+=I.substring(e,t.index);const n=E.case_insensitive?t[0].toLowerCase():t[0],o=(s=n,S.keywords[s]);if(o){const[e,s]=o;if($.addText(i),i="",a[n]=(a[n]||0)+1,a[n]<=7&&(B+=s),e.startsWith("_"))i+=t[0];else{const i=E.classNameAliases[e]||e;u(t[0],i)}}else i+=t[0];e=S.keywordPatternRe.lastIndex,t=S.keywordPatternRe.exec(I)}var s;i+=I.substring(e),$.addText(i)}function m(){null!=S.subLanguage?function(){if(""===I)return;let e=null;if("string"==typeof S.subLanguage){if(!t[S.subLanguage])return void $.addText(I);e=h(S.subLanguage,I,!0,T[S.subLanguage]),T[S.subLanguage]=e._top}else e=d(I,S.subLanguage.length?S.subLanguage:null);S.relevance>0&&(B+=e.relevance),$.__addSublanguage(e._emitter,e.language)}():c(),I=""}function u(e,t){""!==e&&($.startScope(t),$.addText(e),$.endScope())}function p(e,t){let i=1;const s=t.length-1;for(;i<=s;){if(!e._emit[i]){i++;continue}const s=E.classNameAliases[e[i]]||e[i],n=t[i];s?u(n,s):(I=n,c(),I=""),i++}}function g(e,t){return e.scope&&"string"==typeof e.scope&&$.openNode(E.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(u(I,E.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),I=""):e.beginScope._multi&&(p(e.beginScope,t),I="")),S=Object.create(e,{parent:{value:S}}),S}function y(e,t,i){let s=function(e,t){const i=e&&e.exec(t);return i&&0===i.index}(e.endRe,i);if(s){if(e["on:end"]){const i=new nr(e);e["on:end"](t,i),i.isMatchIgnored&&(s=!1)}if(s){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return y(e.parent,t,i)}function b(e){return 0===S.matcher.regexIndex?(I+=e[0],1):(P=!0,0)}function v(e){const t=e[0],s=i.substring(e.index),n=y(S,e,s);if(!n)return cl;const o=S;S.endScope&&S.endScope._wrap?(m(),u(t,S.endScope._wrap)):S.endScope&&S.endScope._multi?(m(),p(S.endScope,e)):o.skip?I+=t:(o.returnEnd||o.excludeEnd||(I+=t),m(),o.excludeEnd&&(I=t));do{S.scope&&$.closeNode(),S.skip||S.subLanguage||(B+=S.relevance),S=S.parent}while(S!==n.parent);return n.starts&&g(n.starts,e),o.returnEnd?0:t.length}let w={};function k(t,o){const r=o&&o[0];if(I+=t,null==r)return m(),0;if("begin"===w.type&&"end"===o.type&&w.index===o.index&&""===r){if(I+=i.slice(o.index,o.index+1),!n){const t=new Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=w.rule,t}return 1}if(w=o,"begin"===o.type)return function(e){const t=e[0],i=e.rule,s=new nr(i),n=[i.__beforeBegin,i["on:begin"]];for(const o of n)if(o&&(o(e,s),s.isMatchIgnored))return b(t);return i.skip?I+=t:(i.excludeBegin&&(I+=t),m(),i.returnBegin||i.excludeBegin||(I=t)),g(i,e),i.returnBegin?0:t.length}(o);if("illegal"===o.type&&!s){const e=new Error('Illegal lexeme "'+r+'" for mode "'+(S.scope||"<unnamed>")+'"');throw e.mode=S,e}if("end"===o.type){const e=v(o);if(e!==cl)return e}if("illegal"===o.type&&""===r)return 1;if(N>1e5&&N>3*o.index){throw new Error("potential infinite loop, way more iterations than matches")}return I+=r,r.length}const E=f(e);if(!E)throw Jr(o.replace("{}",e)),new Error('Unknown language: "'+e+'"');const x=nl(E);let C="",S=r||x;const T={},$=new l.__emitter(l);!function(){const e=[];for(let t=S;t!==E;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach((e=>$.openNode(e)))}();let I="",B=0,_=0,N=0,P=!1;try{if(E.__emitTokens)E.__emitTokens(i,$);else{for(S.matcher.considerAll();;){N++,P?P=!1:S.matcher.considerAll(),S.matcher.lastIndex=_;const e=S.matcher.exec(i);if(!e)break;const t=k(i.substring(_,e.index),e);_=e.index+t}k(i.substring(_))}return $.finalize(),C=$.toHTML(),{language:e,value:C,relevance:B,illegal:!1,_emitter:$,_top:S}}catch(z){if(z.message&&z.message.includes("Illegal"))return{language:e,value:ll(i),illegal:!0,relevance:0,_illegalBy:{message:z.message,index:_,context:i.slice(_-100,_+100),mode:z.mode,resultSoFar:C},_emitter:$};if(n)return{language:e,value:ll(i),illegal:!1,relevance:0,errorRaised:z,_emitter:$,_top:S};throw z}}function d(e,i){i=i||l.languages||Object.keys(t);const s=function(e){const t={value:ll(e),illegal:!1,relevance:0,_top:r,_emitter:new l.__emitter(l)};return t._emitter.addText(e),t}(e),n=i.filter(f).filter(y).map((t=>h(t,e,!1)));n.unshift(s);const o=n.sort(((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(f(e.language).supersetOf===t.language)return 1;if(f(t.language).supersetOf===e.language)return-1}return 0})),[a,c]=o,d=a;return d.secondBest=c,d}function m(e){let t=null;const s=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const i=l.languageDetectRe.exec(t);if(i){const e=f(i[1]);return e||o.replace("{}",i[1]),e?i[1]:"no-highlight"}return t.split(/\s+/).find((e=>a(e)||f(e)))}(e);if(a(s))return;if(b("before:highlightElement",{el:e,language:s}),e.children.length>0&&(l.ignoreUnescapedHTML,l.throwUnescapedHTML)){throw new rl("One of your code blocks includes unescaped HTML.",e.innerHTML)}t=e;const n=t.textContent,r=s?c(n,{language:s,ignoreIllegals:!0}):d(n);e.innerHTML=r.value,function(e,t,s){const n=t&&i[t]||s;e.classList.add("hljs"),e.classList.add(`language-${n}`)}(e,s,r.language),e.result={language:r.language,re:r.relevance,relevance:r.relevance},r.secondBest&&(e.secondBest={language:r.secondBest.language,relevance:r.secondBest.relevance}),b("after:highlightElement",{el:e,result:r,text:n})}let u=!1;function p(){if("loading"===document.readyState)return void(u=!0);document.querySelectorAll(l.cssSelector).forEach(m)}function f(e){return e=(e||"").toLowerCase(),t[e]||t[i[e]]}function g(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach((e=>{i[e.toLowerCase()]=t}))}function y(e){const t=f(e);return t&&!t.disableAutodetect}function b(e,t){const i=e;s.forEach((function(e){e[i]&&e[i](t)}))}"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(function(){u&&p()}),!1),Object.assign(e,{highlight:c,highlightAuto:d,highlightAll:p,highlightElement:m,highlightBlock:function(e){return el("10.7.0","highlightBlock will be removed entirely in v12.0"),el("10.7.0","Please use highlightElement now."),m(e)},configure:function(e){l=al(l,e)},initHighlighting:()=>{p(),el("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){p(),el("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(i,s){let o=null;try{o=s(e)}catch(l){if(Jr("Language definition for '{}' could not be registered.".replace("{}",i)),!n)throw l;Jr(l),o=r}o.name||(o.name=i),t[i]=o,o.rawDefinition=s.bind(null,e),o.aliases&&g(o.aliases,{languageName:i})},unregisterLanguage:function(e){delete t[e];for(const t of Object.keys(i))i[t]===e&&delete i[t]},listLanguages:function(){return Object.keys(t)},getLanguage:f,registerAliases:g,autoDetection:y,inherit:al,addPlugin:function(e){!function(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),s.push(e)},removePlugin:function(e){const t=s.indexOf(e);-1!==t&&s.splice(t,1)}}),e.debugMode=function(){n=!1},e.safeMode=function(){n=!0},e.versionString="11.8.0",e.regex={concat:gr,lookahead:ur,either:yr,optional:fr,anyNumberOfTimes:pr};for(const v in Lr)"object"==typeof Lr[v]&&sr(Lr[v]);return Object.assign(e,Lr),e},dl=hl({});dl.newInstance=()=>hl({});var ml=dl;dl.HighlightJS=dl,dl.default=dl;const ul=ml;const pl="[A-Za-z$_][0-9A-Za-z$_]*",fl=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],gl=["true","false","null","undefined","NaN","Infinity"],yl=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],bl=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],vl=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],wl=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],kl=[].concat(vl,yl,bl);var El="[0-9](_*[0-9])*",xl=`\\.(${El})`,Cl="[0-9a-fA-F](_*[0-9a-fA-F])*",Sl={className:"number",variants:[{begin:`(\\b(${El})((${xl})|\\.)?|(${xl}))[eE][+-]?(${El})[fFdD]?\\b`},{begin:`\\b(${El})((${xl})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${xl})[fFdD]?\\b`},{begin:`\\b(${El})[fFdD]\\b`},{begin:`\\b0[xX]((${Cl})\\.?|(${Cl})?\\.(${Cl}))[pP][+-]?(${El})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Cl})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Tl(e,t,i){return-1===i?"":e.replace(t,(s=>Tl(e,t,i-1)))}const $l="[A-Za-z$_][0-9A-Za-z$_]*",Il=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],Bl=["true","false","null","undefined","NaN","Infinity"],_l=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Nl=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Pl=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],zl=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Al=[].concat(Pl,_l,Nl);const Ol=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Vl=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Rl=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Dl=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],Ml=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();const Ll=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Hl=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Fl=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Wl=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],jl=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse(),Ul=Fl.concat(Wl);const Yl=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],ql=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Xl=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Kl=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],Zl=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function Gl(e){return e?"string"==typeof e?e:e.source:null}function Ql(e){return Jl("(?=",e,")")}function Jl(...e){return e.map((e=>Gl(e))).join("")}function ea(...e){const t=function(e){const t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e);return"("+(t.capture?"":"?:")+e.map((e=>Gl(e))).join("|")+")"}const ta=e=>Jl(/\b/,e,/\w$/.test(e)?/\b/:/\B/),ia=["Protocol","Type"].map(ta),sa=["init","self"].map(ta),na=["Any","Self"],oa=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","break","case","catch","class","continue","convenience","default","defer","deinit","didSet","distributed","do","dynamic","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],ra=["false","nil","true"],la=["assignment","associativity","higherThan","left","lowerThan","none","right"],aa=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warn_unqualified_access","#warning"],ca=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],ha=ea(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),da=ea(ha,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),ma=Jl(ha,da,"*"),ua=ea(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),pa=ea(ua,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),fa=Jl(ua,pa,"*"),ga=Jl(/[A-Z]/,pa,"*"),ya=["autoclosure",Jl(/convention\(/,ea("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Jl(/objc\(/,fa,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","testable","UIApplicationMain","unknown","usableFromInline"],ba=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];ul.registerLanguage("plaintext",(function(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}})),ul.registerLanguage("javascript",(function(e){const t=e.regex,i=pl,s="<>",n="</>",o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const i=e[0].length+e.index,s=e.input[i];if("<"===s||","===s)return void t.ignoreMatch();let n;">"===s&&(((e,{after:t})=>{const i="</"+e[0].slice(1);return-1!==e.input.indexOf(i,t)})(e,{after:i})||t.ignoreMatch());const o=e.input.substring(i);((n=o.match(/^\s*=/))||(n=o.match(/^\s+extends\s+/))&&0===n.index)&&t.ignoreMatch()}},r={$pattern:pl,keyword:fl,literal:gl,built_in:kl,"variable.language":wl},l="[0-9](_?[0-9])*",a=`\\.(${l})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${c})((${a})|\\.)?|(${a}))[eE][+-]?(${l})\\b`},{begin:`\\b(${c})\\b((${a})\\b|\\.)?|(${a})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:r,contains:[]},m={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},u={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"css"}},p={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},f={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,d]},g={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:i+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},y=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,m,u,p,f,{match:/\$\d+/},h];d.contains=y.concat({begin:/\{/,end:/\}/,keywords:r,contains:["self"].concat(y)});const b=[].concat(g,d.contains),v=b.concat([{begin:/\(/,end:/\)/,keywords:r,contains:["self"].concat(b)}]),w={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:r,contains:v},k={variants:[{match:[/class/,/\s+/,i,/\s+/,/extends/,/\s+/,t.concat(i,"(",t.concat(/\./,i),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,i],scope:{1:"keyword",3:"title.class"}}]},E={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...yl,...bl]}},x={variants:[{match:[/function/,/\s+/,i,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[w],illegal:/%/},C={match:t.concat(/\b/,(S=[...vl,"super","import"],t.concat("(?!",S.join("|"),")")),i,t.lookahead(/\(/)),className:"title.function",relevance:0};var S;const T={begin:t.concat(/\./,t.lookahead(t.concat(i,/(?![0-9A-Za-z$_(])/))),end:i,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},$={match:[/get|set/,/\s+/,i,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},w]},I="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",B={match:[/const|var|let/,/\s+/,i,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(I)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[w]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:r,exports:{PARAMS_CONTAINS:v,CLASS_REFERENCE:E},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,m,u,p,f,g,{match:/\$\d+/},h,E,{className:"attr",begin:i+t.lookahead(":"),relevance:0},B,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[g,e.REGEXP_MODE,{className:"function",begin:I,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:r,contains:v}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:s,end:n},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},x,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[w,e.inherit(e.TITLE_MODE,{begin:i,className:"title.function"})]},{match:/\.\.\./,relevance:0},T,{match:"\\$"+i,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[w]},C,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},k,$,{match:/\$[(.]/}]}})),ul.registerLanguage("java",(function(e){const t=e.regex,i="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",s=i+Tl("(?:<"+i+"~~~(?:\\s*,\\s*"+i+"~~~)*>)?",/~~~/g,2),n={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},o={className:"meta",begin:"@"+i,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},r={className:"params",begin:/\(/,end:/\)/,keywords:n,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:n,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,i],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,i),/\s+/,i,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,i],className:{1:"keyword",3:"title.class"},contains:[r,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+s+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:n,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:n,relevance:0,contains:[o,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,Sl,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},Sl,o]}})),ul.registerLanguage("typescript",(function(e){const t=function(e){const t=e.regex,i=$l,s="<>",n="</>",o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const i=e[0].length+e.index,s=e.input[i];if("<"===s||","===s)return void t.ignoreMatch();let n;">"===s&&(((e,{after:t})=>{const i="</"+e[0].slice(1);return-1!==e.input.indexOf(i,t)})(e,{after:i})||t.ignoreMatch());const o=e.input.substring(i);((n=o.match(/^\s*=/))||(n=o.match(/^\s+extends\s+/))&&0===n.index)&&t.ignoreMatch()}},r={$pattern:$l,keyword:Il,literal:Bl,built_in:Al,"variable.language":zl},l="[0-9](_?[0-9])*",a=`\\.(${l})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${c})((${a})|\\.)?|(${a}))[eE][+-]?(${l})\\b`},{begin:`\\b(${c})\\b((${a})\\b|\\.)?|(${a})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:r,contains:[]},m={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},u={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"css"}},p={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},f={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,d]},g={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:i+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},y=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,m,u,p,f,{match:/\$\d+/},h];d.contains=y.concat({begin:/\{/,end:/\}/,keywords:r,contains:["self"].concat(y)});const b=[].concat(g,d.contains),v=b.concat([{begin:/\(/,end:/\)/,keywords:r,contains:["self"].concat(b)}]),w={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:r,contains:v},k={variants:[{match:[/class/,/\s+/,i,/\s+/,/extends/,/\s+/,t.concat(i,"(",t.concat(/\./,i),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,i],scope:{1:"keyword",3:"title.class"}}]},E={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[..._l,...Nl]}},x={variants:[{match:[/function/,/\s+/,i,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[w],illegal:/%/},C={match:t.concat(/\b/,(S=[...Pl,"super","import"],t.concat("(?!",S.join("|"),")")),i,t.lookahead(/\(/)),className:"title.function",relevance:0};var S;const T={begin:t.concat(/\./,t.lookahead(t.concat(i,/(?![0-9A-Za-z$_(])/))),end:i,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},$={match:[/get|set/,/\s+/,i,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},w]},I="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",B={match:[/const|var|let/,/\s+/,i,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(I)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[w]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:r,exports:{PARAMS_CONTAINS:v,CLASS_REFERENCE:E},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,m,u,p,f,g,{match:/\$\d+/},h,E,{className:"attr",begin:i+t.lookahead(":"),relevance:0},B,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[g,e.REGEXP_MODE,{className:"function",begin:I,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:r,contains:v}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:s,end:n},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},x,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[w,e.inherit(e.TITLE_MODE,{begin:i,className:"title.function"})]},{match:/\.\.\./,relevance:0},T,{match:"\\$"+i,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[w]},C,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},k,$,{match:/\$[(.]/}]}}(e),i=$l,s=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],n={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[t.exports.CLASS_REFERENCE]},o={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:s},contains:[t.exports.CLASS_REFERENCE]},r={$pattern:$l,keyword:Il.concat(["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"]),literal:Bl,built_in:Al.concat(s),"variable.language":zl},l={className:"meta",begin:"@"+i},a=(e,t,i)=>{const s=e.contains.findIndex((e=>e.label===t));if(-1===s)throw new Error("can not find mode to replace");e.contains.splice(s,1,i)};return Object.assign(t.keywords,r),t.exports.PARAMS_CONTAINS.push(l),t.contains=t.contains.concat([l,n,o]),a(t,"shebang",e.SHEBANG()),a(t,"use_strict",{className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/}),t.contains.find((e=>"func.def"===e.label)).relevance=0,Object.assign(t,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),t})),ul.registerLanguage("html",(function(e){const t=e.regex,i=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),s={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},n={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=e.inherit(n,{begin:/\(/,end:/\)/}),r=e.inherit(e.APOS_STRING_MODE,{className:"string"}),l=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),a={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[\p{L}0-9._:-]+/u,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[s]},{begin:/'/,end:/'/,contains:[s]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[n,l,r,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[n,o,l,r]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},s,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[a],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[a],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(i,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:i,relevance:0,starts:a}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(i,/>/))),contains:[{className:"name",begin:i,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}})),ul.registerLanguage("markdown",(function(e){const t={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},i={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.regex.concat(/\[.+?\]\(/,/[A-Za-z][A-Za-z0-9+.-]*/,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},s={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},n={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},o=e.inherit(s,{contains:[]}),r=e.inherit(n,{contains:[]});s.contains.push(r),n.contains.push(o);let l=[t,i];return[s,n,o,r].forEach((e=>{e.contains=e.contains.concat(l)})),l=l.concat(s,n),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:l},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:l}]}]},t,{className:"bullet",begin:"^[ \t]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},s,n,{className:"quote",begin:"^>\\s+",contains:l,end:"$"},{className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},{begin:"^[-\\*]{3,}",end:"$"},i,{begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]}]}})),ul.registerLanguage("css",(function(e){const t=e.regex,i=(e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}))(e),s=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[i.BLOCK_COMMENT,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},i.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Rl.join("|")+")"},{begin:":(:)?("+Dl.join("|")+")"}]},i.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Ml.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[i.BLOCK_COMMENT,i.HEXCOLOR,i.IMPORTANT,i.CSS_NUMBER_MODE,...s,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...s,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},i.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:Vl.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...s,i.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Ol.join("|")+")\\b"}]}})),ul.registerLanguage("less",(function(e){const t=(e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}))(e),i=Ul,s="[\\w-]+",n="("+s+"|@\\{"+s+"\\})",o=[],r=[],l=function(e){return{className:"string",begin:"~?"+e+".*?"+e}},a=function(e,t,i){return{className:e,begin:t,relevance:i}},c={$pattern:/[a-z-]+/,keyword:"and or not only",attribute:Hl.join(" ")},h={begin:"\\(",end:"\\)",contains:r,keywords:c,relevance:0};r.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,l("'"),l('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,h,a("variable","@@?"+s,10),a("variable","@\\{"+s+"\\}"),a("built_in","~?`[^`]*?`"),{className:"attribute",begin:s+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const d=r.concat({begin:/\{/,end:/\}/,contains:o}),m={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(r)},u={begin:n+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+jl.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:r}}]},p={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:c,returnEnd:!0,contains:r,relevance:0}},f={className:"variable",variants:[{begin:"@"+s+"\\s*:",relevance:15},{begin:"@"+s}],starts:{end:"[;}]",returnEnd:!0,contains:d}},g={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:n,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:"[<='$\"]",relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,m,a("keyword","all\\b"),a("variable","@\\{"+s+"\\}"),{begin:"\\b("+Ll.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,a("selector-tag",n,0),a("selector-id","#"+n),a("selector-class","\\."+n,0),a("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+Fl.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+Wl.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:d},{begin:"!important"},t.FUNCTION_DISPATCH]},y={begin:s+`:(:)?(${i.join("|")})`,returnBegin:!0,contains:[g]};return o.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,p,f,y,u,g,m,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:"[=>'/<($\"]",contains:o}})),ul.registerLanguage("scss",(function(e){const t=(e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}))(e),i=Kl,s=Xl,n="@[a-z-]+",o={className:"variable",begin:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+Yl.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+s.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+i.join("|")+")"},o,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Zl.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,o,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:n,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:ql.join(" ")},contains:[{begin:n,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},o,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}})),ul.registerLanguage("objectivec",(function(e){const t=/[a-zA-Z@][a-zA-Z0-9_]*/,i={$pattern:t,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:{"variable.language":["this","super"],$pattern:t,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},illegal:"</",contains:[{className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+i.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:i,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}})),ul.registerLanguage("swift",(function(e){const t={match:/\s+/,relevance:0},i=e.COMMENT("/\\*","\\*/",{contains:["self"]}),s=[e.C_LINE_COMMENT_MODE,i],n={match:[/\./,ea(...ia,...sa)],className:{2:"keyword"}},o={match:Jl(/\./,ea(...oa)),relevance:0},r=oa.filter((e=>"string"==typeof e)).concat(["_|0"]),l={variants:[{className:"keyword",match:ea(...oa.filter((e=>"string"!=typeof e)).concat(na).map(ta),...sa)}]},a={$pattern:ea(/\b\w+/,/#\w+/),keyword:r.concat(aa),literal:ra},c=[n,o,l],h=[{match:Jl(/\./,ea(...ca)),relevance:0},{className:"built_in",match:Jl(/\b/,ea(...ca),/(?=\()/)}],d={match:/->/,relevance:0},m=[d,{className:"operator",relevance:0,variants:[{match:ma},{match:`\\.(\\.|${da})+`}]}],u="([0-9]_*)+",p="([0-9a-fA-F]_*)+",f={className:"number",relevance:0,variants:[{match:`\\b(${u})(\\.(${u}))?([eE][+-]?(${u}))?\\b`},{match:`\\b0x(${p})(\\.(${p}))?([pP][+-]?(${u}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},g=(e="")=>({className:"subst",variants:[{match:Jl(/\\/,e,/[0\\tnr"']/)},{match:Jl(/\\/,e,/u\{[0-9a-fA-F]{1,8}\}/)}]}),y=(e="")=>({className:"subst",match:Jl(/\\/,e,/[\t ]*(?:[\r\n]|\r\n)/)}),b=(e="")=>({className:"subst",label:"interpol",begin:Jl(/\\/,e,/\(/),end:/\)/}),v=(e="")=>({begin:Jl(e,/"""/),end:Jl(/"""/,e),contains:[g(e),y(e),b(e)]}),w=(e="")=>({begin:Jl(e,/"/),end:Jl(/"/,e),contains:[g(e),b(e)]}),k={className:"string",variants:[v(),v("#"),v("##"),v("###"),w(),w("#"),w("##"),w("###")]},E={match:Jl(/`/,fa,/`/)},x=[E,{className:"variable",match:/\$\d+/},{className:"variable",match:`\\$${pa}+`}],C=[{match:/(@|#(un)?)available/,className:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:ba,contains:[...m,f,k]}]}},{className:"keyword",match:Jl(/@/,ea(...ya))},{className:"meta",match:Jl(/@/,fa)}],S={match:Ql(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Jl(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,pa,"+")},{className:"type",match:ga,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Jl(/\s+&\s+/,Ql(ga)),relevance:0}]},T={begin:/</,end:/>/,keywords:a,contains:[...s,...c,...C,d,S]};S.contains.push(T);const $={begin:/\(/,end:/\)/,relevance:0,keywords:a,contains:["self",{match:Jl(fa,/\s*:/),keywords:"_|0",relevance:0},...s,...c,...h,...m,f,k,...x,...C,S]},I={begin:/</,end:/>/,contains:[...s,S]},B={begin:/\(/,end:/\)/,keywords:a,contains:[{begin:ea(Ql(Jl(fa,/\s*:/)),Ql(Jl(fa,/\s+/,fa,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:fa}]},...s,...c,...m,f,k,...C,S,$],endsParent:!0,illegal:/["']/},_={match:[/func/,/\s+/,ea(E.match,fa,ma)],className:{1:"keyword",3:"title.function"},contains:[I,B,t],illegal:[/\[/,/%/]},N={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[I,B,t],illegal:/\[|%/},P={match:[/operator/,/\s+/,ma],className:{1:"keyword",3:"title"}},z={begin:[/precedencegroup/,/\s+/,ga],className:{1:"keyword",3:"title"},contains:[S],keywords:[...la,...ra],end:/}/};for(const A of k.variants){const e=A.contains.find((e=>"interpol"===e.label));e.keywords=a;const t=[...c,...h,...m,f,k,...x];e.contains=[...t,{begin:/\(/,end:/\)/,contains:["self",...t]}]}return{name:"Swift",keywords:a,contains:[...s,_,N,{beginKeywords:"struct protocol class extension enum actor",end:"\\{",excludeEnd:!0,keywords:a,contains:[e.inherit(e.TITLE_MODE,{className:"title.class",begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/}),...c]},P,z,{beginKeywords:"import",end:/$/,contains:[...s],relevance:0},...c,...h,...m,f,k,...x,...C,S,$]}})),ul.registerLanguage("dart",(function(e){const t={className:"subst",variants:[{begin:"\\$[A-Za-z0-9_]+"}]},i={className:"subst",variants:[{begin:/\$\{/,end:/\}/}],keywords:"true false null this is new super"},s={className:"string",variants:[{begin:"r'''",end:"'''"},{begin:'r"""',end:'"""'},{begin:"r'",end:"'",illegal:"\\n"},{begin:'r"',end:'"',illegal:"\\n"},{begin:"'''",end:"'''",contains:[e.BACKSLASH_ESCAPE,t,i]},{begin:'"""',end:'"""',contains:[e.BACKSLASH_ESCAPE,t,i]},{begin:"'",end:"'",illegal:"\\n",contains:[e.BACKSLASH_ESCAPE,t,i]},{begin:'"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE,t,i]}]};i.contains=[e.C_NUMBER_MODE,s];const n=["Comparable","DateTime","Duration","Function","Iterable","Iterator","List","Map","Match","Object","Pattern","RegExp","Set","Stopwatch","String","StringBuffer","StringSink","Symbol","Type","Uri","bool","double","int","num","Element","ElementList"],o=n.map((e=>`${e}?`));return{name:"Dart",keywords:{keyword:["abstract","as","assert","async","await","base","break","case","catch","class","const","continue","covariant","default","deferred","do","dynamic","else","enum","export","extends","extension","external","factory","false","final","finally","for","Function","get","hide","if","implements","import","in","interface","is","late","library","mixin","new","null","on","operator","part","required","rethrow","return","sealed","set","show","static","super","switch","sync","this","throw","true","try","typedef","var","void","when","while","with","yield"],built_in:n.concat(o).concat(["Never","Null","dynamic","print","document","querySelector","querySelectorAll","window"]),$pattern:/[A-Za-z][A-Za-z0-9_]*\??/},contains:[s,e.COMMENT(/\/\*\*(?!\/)/,/\*\//,{subLanguage:"markdown",relevance:0}),e.COMMENT(/\/{3,} ?/,/$/,{contains:[{subLanguage:"markdown",begin:".",end:"$",relevance:0}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"class",beginKeywords:"class interface",end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},e.C_NUMBER_MODE,{className:"meta",begin:"@[A-Za-z]+"},{begin:"=>"}]}})),ul.registerLanguage("nginx",(function(e){const t=e.regex,i={className:"variable",variants:[{begin:/\$\d+/},{begin:/\$\{\w+\}/},{begin:t.concat(/[$@]/,e.UNDERSCORE_IDENT_RE)}]},s={endsWithParent:!0,keywords:{$pattern:/[a-z_]{2,}|\/dev\/poll/,literal:["on","off","yes","no","true","false","none","blocked","debug","info","notice","warn","error","crit","select","break","last","permanent","redirect","kqueue","rtsig","epoll","poll","/dev/poll"]},relevance:0,illegal:"=>",contains:[e.HASH_COMMENT_MODE,{className:"string",contains:[e.BACKSLASH_ESCAPE,i],variants:[{begin:/"/,end:/"/},{begin:/'/,end:/'/}]},{begin:"([a-z]+):/",end:"\\s",endsWithParent:!0,excludeEnd:!0,contains:[i]},{className:"regexp",contains:[e.BACKSLASH_ESCAPE,i],variants:[{begin:"\\s\\^",end:"\\s|\\{|;",returnEnd:!0},{begin:"~\\*?\\s+",end:"\\s|\\{|;",returnEnd:!0},{begin:"\\*(\\.[a-z\\-]+)+"},{begin:"([a-z\\-]+\\.)+\\*"}]},{className:"number",begin:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{className:"number",begin:"\\b\\d+[kKmMgGdshdwy]?\\b",relevance:0},i]};return{name:"Nginx config",aliases:["nginxconf"],contains:[e.HASH_COMMENT_MODE,{beginKeywords:"upstream location",end:/;|\{/,contains:s.contains,keywords:{section:"upstream location"}},{className:"section",begin:t.concat(e.UNDERSCORE_IDENT_RE+t.lookahead(/\s+\{/)),relevance:0},{begin:t.lookahead(e.UNDERSCORE_IDENT_RE+"\\s"),end:";|\\{",contains:[{className:"attribute",begin:e.UNDERSCORE_IDENT_RE,starts:s}],relevance:0}],illegal:"[^\\s\\}\\{]"}})),ul.registerLanguage("php",(function(e){const t=e.regex,i=/(?![A-Za-z0-9])(?![$])/,s=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,i),n=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,i),o={scope:"variable",match:"\\$+"+s},r={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},l=e.inherit(e.APOS_STRING_MODE,{illegal:null}),a="[ \t\n]",c={scope:"string",variants:[e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(r)}),l,{begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(r),"on:begin":(e,t)=>{t.data._beginMatch=e[1]||e[2]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}},e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/})]},h={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},d=["false","null","true"],m=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],u=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],p={keyword:m,literal:(e=>{const t=[];return e.forEach((e=>{t.push(e),e.toLowerCase()===e?t.push(e.toUpperCase()):t.push(e.toLowerCase())})),t})(d),built_in:u},f=e=>e.map((e=>e.replace(/\|\d+$/,""))),g={variants:[{match:[/new/,t.concat(a,"+"),t.concat("(?!",f(u).join("\\b|"),"\\b)"),n],scope:{1:"keyword",4:"title.class"}}]},y=t.concat(s,"\\b(?!\\()"),b={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),y],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[n,t.concat(/::/,t.lookahead(/(?!class\b)/)),y],scope:{1:"title.class",3:"variable.constant"}},{match:[n,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[n,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},v={scope:"attr",match:t.concat(s,t.lookahead(":"),t.lookahead(/(?!::)/))},w={relevance:0,begin:/\(/,end:/\)/,keywords:p,contains:[v,o,b,e.C_BLOCK_COMMENT_MODE,c,h,g]},k={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",f(m).join("\\b|"),"|",f(u).join("\\b|"),"\\b)"),s,t.concat(a,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[w]};w.contains.push(k);const E=[v,b,e.C_BLOCK_COMMENT_MODE,c,h,g];return{case_insensitive:!1,keywords:p,contains:[{begin:t.concat(/#\[\s*/,n),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:d,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:d,keyword:["new","array"]},contains:["self",...E]},...E,{scope:"meta",match:n}]},e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},{scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},{scope:"variable.language",match:/\$this\b/},o,k,b,{match:[/const/,/\s/,s],scope:{1:"keyword",3:"variable.constant"}},g,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:p,contains:["self",o,b,e.C_BLOCK_COMMENT_MODE,c,h]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},c,h]}})),ul.registerLanguage("python",(function(e){const t=e.regex,i=/[\p{XID_Start}_]\p{XID_Continue}*/u,s=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],n={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:s,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},o={className:"meta",begin:/^(>>>|\.\.\.) /},r={className:"subst",begin:/\{/,end:/\}/,keywords:n,illegal:/#/},l={begin:/\{\{/,relevance:0},a={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,o],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,o],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,o,l,r]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,o,l,r]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,l,r]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,l,r]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},c="[0-9](_?[0-9])*",h=`(\\b(${c}))?\\.(${c})|\\b(${c})\\.`,d=`\\b|${s.join("|")}`,m={className:"number",relevance:0,variants:[{begin:`(\\b(${c})|(${h}))[eE][+-]?(${c})[jJ]?(?=${d})`},{begin:`(${h})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${d})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${d})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${d})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${d})`},{begin:`\\b(${c})[jJ](?=${d})`}]},u={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:n,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},p={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:n,contains:["self",o,m,a,e.HASH_COMMENT_MODE]}]};return r.contains=[a,m,o],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:n,illegal:/(<\/|\?)|=>/,contains:[o,m,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},a,u,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,i],scope:{1:"keyword",3:"title.function"},contains:[p]},{variants:[{match:[/\bclass/,/\s+/,i,/\s*/,/\(\s*/,i,/\s*\)/]},{match:[/\bclass/,/\s+/,i]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[m,p,a]}]}})),ul.configure({cssSelector:"pre",classPrefix:"mvi-hljs-",ignoreUnescapedHTML:!0});const va=["plaintext","javascript","html","css","less","scss","java","markdown","swift","objectivec","typescript","dart","nginx","php","python"],wa={name:"m-editor",emits:["update:modelValue","focus","blur","change","paste-image","paste-video","range-update","after-render"],props:{modelValue:{type:String,default:"<p><br></p>"},autofocus:{type:Boolean,default:!1},placeholder:{type:String,default:""},height:{type:String,default:"8rem"},autoheight:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},border:{type:Boolean,default:!1},activeColor:{type:String,default:"#0b73de",validator:e=>u.common.matchingText(e,"hex")},htmlPaste:{type:Boolean,default:!1},customImagePaste:{type:Boolean,default:!1},customVideoPaste:{type:Boolean,default:!1},renderRules:{type:Array,default:function(){return[]}},highlight:{type:Boolean,default:!1}},data:()=>({codeViewShow:!1,isTable:!1,isPre:!1,isLink:!1,editor:null,compositionFlag:!1,isModelChange:!1,useMenus:!1,canUseMenus:!1,linkAdjusterProps:{show:!1,target:"",newWindow:!1,url:"",element:null,props:{placeholder:"输入地址",targetText:"新窗口打开",removeText:"移除链接",insertText:"插入"}},mediaAdjusterProps:{show:!1,target:"",element:null},tableAdjusterProps:{show:!1,target:"",element:null,props:{insertRowText:"插入行",removeRowText:"删除行",insertColumnText:"插入列",removeColumnText:"删除列"}},preAdjusterProps:{show:!1,target:"",element:null,languages:[{label:"自动识别",value:""},...va],language:""}}),setup:()=>({uid:t.getCurrentInstance().uid}),components:{Icon:$,Checkbox:pe},computed:{cmpValue:{set(e){this.$emit("update:modelValue",e)},get(){return this.modelValue||"<p><br></p>"}},contentStyle(){let e={};return this.autoheight?e.minHeight=this.height:e.height=this.height,e},isEmpty(){return"<p><br></p>"==this.cmpValue&&!this.compositionFlag}},watch:{disabled(e){e?this.editor.setDisabled():this.editor.setEnabled()},cmpValue(e){this.codeViewShow||this.isModelChange||(this.editor.stack=this.editor.parseHtml(e),this.editor.formatElementStack(),this.editor.range.anchor.moveToStart(this.editor.stack[0]),this.editor.range.focus.moveToStart(this.editor.stack[0]),this.editor.domRender(),this.editor.rangeRender())}},mounted(){this.editor=new tr(this.$refs.content,{disabled:this.disabled,value:this.cmpValue,renderRules:[this.orderListHandle,this.codeHandle,this.mediaHandle,this.thParseTdHandle,this.tableHandle,this.preHandle,...this.renderRules],htmlPaste:this.htmlPaste}),this.internalModify(this.editor.value),this.editor.on("change",this.handleContentChange),this.editor.on("focus",this.handleContentFocus),this.editor.on("blur",this.handleContentBlur),this.editor.on("insertParagraph",this.handleInsertParagraph),this.editor.on("deleteInStart",this.handleDelete),this.editor.on("rangeUpdate",this.handleRangeUpdate),this.editor.on("afterRender",this.handleAfterRender),this.editor.on("pasteHtml",this.handlePasteHtml),this.customImagePaste&&this.editor.on("pasteImage",(e=>{this.$emit("paste-image",e)})),this.customVideoPaste&&this.editor.on("pasteVideo",(e=>{this.$emit("paste-video",e)})),this.onScroll(),this.editor.formatElementStack(),this.editor.domRender(),!this.autofocus||this.codeViewShow||this.disabled||this.collapseToEnd()},methods:{contentKeyDown(e){9!=e.keyCode||e.metaKey||e.shiftKey||e.ctrlKey||e.altKey?9!=e.keyCode||e.metaKey||!e.shiftKey||e.ctrlKey||e.altKey||(e.preventDefault(),this.setOutdent()):(e.preventDefault(),this.setIndent())},inputFocus(e){e.currentTarget.style.borderColor=this.activeColor},inputBlur(e){e.currentTarget.style.borderColor=""},autoLayerOffset(e){const t=u.element.getElementBounding(this.$el),i=u.element.getElementBounding(this.$refs[e].$el);t.top>=i.top||t.bottom>=i.bottom?(this.$refs[e].$el.style.bottom=t.bottom+"px",this.$refs[e].$el.style.top="auto"):this.$refs[e].reset()},onScroll(){const e=t=>{u.event.on(t,`scroll.editor_${this.uid}`,(e=>{this.linkAdjusterProps.show=!1,this.mediaAdjusterProps.show=!1,this.tableAdjusterProps.show=!1,this.preAdjusterProps.show=!1})),t.parentNode&&e(t.parentNode)};e(this.$refs.content)},removeScroll(){const e=t=>{u.event.off(t,`scroll.editor_${this.uid}`),t.parentNode&&e(t.parentNode)};e(this.$refs.content)},internalModify(e){this.isModelChange=!0,this.cmpValue=e,this.$nextTick((()=>{this.isModelChange=!1}))},orderListHandle(e){if(!e.isEmpty()&&("ol"!=e.parsedom&&"ul"!=e.parsedom||(e.hasChildren()&&e.children.forEach(((t,i)=>{const s=t.clone();s.parsedom="div",s.type="block",s.hasMarks()||(s.marks={}),s.marks["data-list"]=e.parsedom,"ol"==e.parsedom&&(s.marks["data-value"]=i+1),this.editor.addElementBefore(s,e)})),e.toEmpty()),"block"==e.type&&e.hasMarks()&&"ol"==e.marks["data-list"])){const t=this.editor.getPreviousElement(e);if(t&&t.hasMarks()&&"ol"==t.marks["data-list"]){const i=Number(t.marks["data-value"]);e.marks["data-value"]=i+1}else e.marks["data-value"]=1}},mediaHandle(e){if(!e.isEmpty()){if("img"==e.parsedom){const t={"mvi-editor-element-key":e.key};e.hasMarks()?Object.assign(e.marks,t):e.marks=t}if("video"==e.parsedom){const t={controls:!0,autoplay:!0,muted:!0,"mvi-editor-element-key":e.key};e.hasMarks()?Object.assign(e.marks,t):e.marks=t}if("a"==e.parsedom){const t={"mvi-editor-element-key":e.key};e.hasMarks()?Object.assign(e.marks,t):e.marks=t}}},codeHandle(e){if(!e.isEmpty()&&"code"==e.parsedom){e.parsedom="span";const t={"data-code-style":!0};e.hasMarks()?Object.assign(e.marks,t):e.marks=t}},thParseTdHandle(e){"th"==e.parsedom&&(e.parsedom="td")},tableHandle(e){if("table"==e.parsedom&&!e.isEmpty()){const t={"mvi-editor-element-key":e.key};e.hasMarks()?Object.assign(e.marks,t):e.marks=t;const i=Xo.flatElements(e.children),s=i.filter((e=>"tr"==e.parsedom));let n=i.find((e=>"colgroup"==e.parsedom));if(n)n.children.forEach((e=>{e.hasMarks()?e.marks.width||(e.marks.width="auto"):e.marks={width:"auto"}}));else{n=new Xo("inblock","colgroup",null,null,null);for(let e=s[0].children.length-1;e>=0;e--){const e=new Xo("closed","col",{width:"auto"},null,null);this.editor.addElementTo(e,n)}}e.children=[];const o=new Xo("inblock","tbody",null,null,null);s.reverse().forEach((e=>{this.editor.addElementTo(e,o)})),this.editor.addElementTo(o,e),this.editor.addElementTo(n,e)}},preHandle(e){if((e.isBlock()||e.isInblock())&&e.isPreStyle()&&!e.isEmpty()){const t={"mvi-editor-element-key":e.key};if(e.hasMarks()?Object.assign(e.marks,t):e.marks=t,this.highlight&&e.hasChildren()){let t=e.marks["mvi-hljs-language"]||"";t&&!this.preAdjusterProps.languages.includes(t)&&(t="");const i=Xo.flatElements(e.children).filter((e=>e.isText()&&!e.isEmpty())),s=function(e,t){return t?ul.highlight(e,{language:t,ignoreIllegals:!0}).value:ul.highlightAuto(e).value}(i.reduce(((e,t)=>e+t.textContent),""),t);if(s){const t=this.editor.parseHtml(s);this.updateRangeInPre(e,i,t),e.children=t,t.forEach((t=>{t.parent=e}))}}}},clickEditor(e){if(this.disabled)return;const t=e.target;if(e.preventDefault(),"img"==t.nodeName.toLocaleLowerCase()||"video"==t.nodeName.toLocaleLowerCase()){const e=t.getAttribute("mvi-editor-element-key"),i=this.editor.getElementByKey(e);this.editor.range.anchor.moveToStart(i),this.editor.range.focus.moveToEnd(i),this.editor.rangeRender()}},handleContentChange(e,t){this.disabled||(this.internalModify(e),this.$emit("change",e,t))},handleContentFocus(e){if(!this.disabled){if(this.border&&this.activeColor){this.$refs.content.style.borderColor=this.activeColor;const e=u.color.hex2rgb(this.activeColor);this.$refs.content.style.boxShadow=`0 0 0.16rem rgba(${e[0]},${e[1]},${e[2]},0.5)`}setTimeout((()=>{this.canUseMenus=!0}),0),this.$emit("focus",e)}},handleContentBlur(e){this.disabled||(this.border&&this.activeColor&&(this.$refs.content.style.borderColor="",this.$refs.content.style.boxShadow=""),this.$emit("blur",e))},handleInsertParagraph(e,t){t.isOnlyHasBreak()&&e.isOnlyHasBreak()&&(t.isBlock()||t.convertToBlock(),t.parsedom!=Xo.BLOCK_NODE&&(ir.toParagraph(t),this.editor.range.anchor.moveToStart(t),this.editor.range.focus.moveToStart(t),e.toEmpty()))},handleDelete(e){e.isBlock()&&ir.toParagraph(e)},handleRangeUpdate(e){if(this.disabled)return;this.$emit("range-update",e);const t=this.getCurrentParsedomElement("img"),i=this.getCurrentParsedomElement("a"),s=this.getCurrentParsedomElement("video"),n=this.getCurrentParsedomElement("table"),o=this.getCurrentParsedomElement("pre");this.isTable=!!n,this.isPre=!!o,this.isLink=!!i,setTimeout((()=>{if(t||s){const e=t||s;this.mediaAdjusterProps.target=`[mvi-editor-element-key='${e.key}']`,this.mediaAdjusterProps.element=e,this.mediaAdjusterProps.show=!0,this.linkAdjusterProps.show=!1,this.tableAdjusterProps.show=!1,this.preAdjusterProps.show=!1}else i?(this.linkAdjusterProps.target=`[mvi-editor-element-key='${i.key}']`,this.linkAdjusterProps.url=i.marks.href,this.linkAdjusterProps.newWindow="_blank"==i.marks.target,this.linkAdjusterProps.element=i,this.linkAdjusterProps.show=!0,this.mediaAdjusterProps.show=!1,this.tableAdjusterProps.show=!1,this.preAdjusterProps.show=!1):n?(this.tableAdjusterProps.target=`[mvi-editor-element-key='${n.key}']`,this.tableAdjusterProps.element=n,this.tableAdjusterProps.show=!0,this.mediaAdjusterProps.show=!1,this.linkAdjusterProps.show=!1,this.preAdjusterProps.show=!1):o?(this.preAdjusterProps.target=`[mvi-editor-element-key='${o.key}']`,this.preAdjusterProps.language=o.marks["mvi-hljs-language"]||"",this.preAdjusterProps.element=o,this.preAdjusterProps.show=!0,this.mediaAdjusterProps.show=!1,this.linkAdjusterProps.show=!1,this.tableAdjusterProps.show=!1):(this.tableAdjusterProps.show=!1,this.mediaAdjusterProps.show=!1,this.linkAdjusterProps.show=!1,this.preAdjusterProps.show=!1)}),100)},handleAfterRender(){Xo.flatElements(this.editor.stack).filter((e=>"table"==e.parsedom)).forEach((e=>{Xo.flatElements(e.children).filter((e=>"tr"==e.parsedom)).forEach(((t,i)=>{t.children.forEach(((s,n)=>{this.setTabelColumnResize(e,t,i,s,n)}))}))})),this.preAdjusterProps.show&&this.autoLayerOffset("preLayer"),this.$emit("after-render")},handlePasteHtml(e,t){Xo.flatElements(t).forEach((e=>{if(["table","tr","th","td","tbody","br","blockquote","ol","ul","li","pre","code","label","hr","colgroup"].includes(e.parsedom))if(e.marks=null,e.isBlock()||e.isInblock()){if(e.hasStyles()){let t={};for(let i in e.styles)["text-indent","text-align"].includes(i)&&(t[i]=e.styles[i]);e.styles=t}}else e.styles=null}))},deleteLink(){if(this.disabled)return;const e=this.linkAdjusterProps.element;e.parsedom=Xo.TEXT_NODE,delete e.marks.target,delete e.marks.href,this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender(),this.linkAdjusterProps.show=!1},updateLink(){if(this.disabled)return;if(!this.linkAdjusterProps.url)return;const e=this.linkAdjusterProps.element;e.marks.href=this.linkAdjusterProps.url,this.linkAdjusterProps.newWindow?e.marks.target="_blank":delete e.marks.target,this.editor.formatElementStack(),this.editor.domRender()},setMediaWidth(e){if(this.disabled)return;const t=this.mediaAdjusterProps.element,i={width:e};t.hasStyles()?Object.assign(t.styles,i):t.styles=i,this.editor.range.anchor.moveToEnd(t),this.editor.range.focus.moveToEnd(t),this.editor.domRender(),this.editor.rangeRender(),this.mediaAdjusterProps.show=!1},deleteMedia(){this.disabled||(this.editor.delete(),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender(),this.mediaAdjusterProps.show=!1)},setTabelColumnResize(e,t,i,s,n){if(this.disabled)return;if(n==t.children.length-1)return;const o=e.children.find((e=>"colgroup"==e.parsedom));u.event.off(s._elm,"mousedown"),u.event.off(document.documentElement,`mousemove.editor_table_${e.key}_${i}_${n}_${this.uid} mouseup.editor_table_${e.key}_${i}_${n}_${this.uid}`);let r=!1,l=0;u.event.on(s._elm,"mousedown",(e=>{if(this.disabled)return;const t=u.element.getElementBounding(s._elm);Math.abs(t.left+s._elm.offsetWidth-e.pageX)<u.element.rem2px(.2)?(r=!0,l=e.pageX):r=!1})),u.event.on(document.documentElement,`mousemove.editor_table_${e.key}_${i}_${n}_${this.uid}`,(e=>{this.disabled||r&&(o.children[n].marks.width=""+(s._elm.offsetWidth+e.pageX-l),o.children[n]._elm.setAttribute("width",""+(s._elm.offsetWidth+e.pageX-l)),l=e.pageX)})),u.event.on(document.documentElement,`mouseup.editor_table_${e.key}_${i}_${n}_${this.uid}`,(e=>{if(!this.disabled&&r){const e=Number(o.children[n].marks.width);isNaN(e)||(o.children[n].marks.width=`${Number((e/t._elm.offsetWidth*100).toFixed(2))}%`,this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()),r=!1,l=0}}))},insertParagraphToTable(e){if(this.disabled)return;this.editor.range.anchor.isEqual(this.editor.range.focus)||(this.editor.range.anchor.element=this.editor.range.focus.element,this.editor.range.anchor.offset=this.editor.range.focus.offset);const t=this.tableAdjusterProps.element,i=new Xo("block",Xo.BLOCK_NODE,null,null,null),s=new Xo("closed","br",null,null,null);this.editor.addElementTo(s,i),"up"==e?this.editor.addElementBefore(i,t):this.editor.addElementAfter(i,t),this.editor.range.anchor.moveToEnd(i),this.editor.range.focus.moveToEnd(i),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},addTableRow(){if(this.disabled)return;this.editor.range.anchor.isEqual(this.editor.range.focus)||(this.editor.range.anchor.element=this.editor.range.focus.element,this.editor.range.anchor.offset=this.editor.range.focus.offset);const e=this.getCurrentParsedomElement("tr");if(e){const t=e.clone();t.children.forEach((e=>{e.children=[];const t=new Xo("closed","br",null,null,null);this.editor.addElementTo(t,e)})),this.editor.addElementAfter(t,e),this.editor.formatElementStack(),this.editor.range.anchor.moveToStart(t),this.editor.range.focus.moveToStart(t),this.editor.domRender(),this.editor.rangeRender(),this.autoLayerOffset("tableLayer")}},removeTableRow(){if(this.disabled)return;this.editor.range.anchor.isEqual(this.editor.range.focus)||(this.editor.range.anchor.element=this.editor.range.focus.element,this.editor.range.anchor.offset=this.editor.range.focus.offset);const e=this.getCurrentParsedomElement("tr");if(e){if(1==e.parent.children.length)return void this.deleteTable();const t=this.editor.getPreviousElement(e),i=this.editor.getNextElement(e);e.toEmpty(),this.editor.formatElementStack(),t?(this.editor.range.anchor.moveToEnd(t.children[0]),this.editor.range.focus.moveToEnd(t.children[0])):(this.editor.range.anchor.moveToEnd(i.children[0]),this.editor.range.focus.moveToEnd(i.children[0])),this.editor.domRender(),this.editor.rangeRender(),this.autoLayerOffset("tableLayer")}},addTableColumn(){if(this.disabled)return;this.editor.range.anchor.isEqual(this.editor.range.focus)||(this.editor.range.anchor.element=this.editor.range.focus.element,this.editor.range.anchor.offset=this.editor.range.focus.offset);const e=this.getCurrentParsedomElement("td"),t=this.getCurrentParsedomElement("tbody");if(e&&t){const i=t.children,s=e.parent.children.findIndex((t=>t.isEqual(e)));i.forEach((t=>{const i=e.clone(!1),n=new Xo("closed","br",null,null,null);this.editor.addElementTo(n,i),this.editor.addElementTo(i,t,s+1)})),this.editor.formatElementStack();const n=this.editor.getNextElement(e);this.editor.range.anchor.moveToStart(n),this.editor.range.focus.moveToStart(n),this.editor.domRender(),this.editor.rangeRender()}},removeTableColumn(){if(this.disabled)return;this.editor.range.anchor.isEqual(this.editor.range.focus)||(this.editor.range.anchor.element=this.editor.range.focus.element,this.editor.range.anchor.offset=this.editor.range.focus.offset);const e=this.getCurrentParsedomElement("td"),t=this.getCurrentParsedomElement("tbody");if(e&&t){const i=t.children;if(1==e.parent.children.length)return void this.deleteTable();const s=this.editor.getPreviousElement(e),n=this.editor.getNextElement(e),o=e.parent.children.findIndex((t=>t.isEqual(e)));i.forEach((e=>{e.children[o].toEmpty()})),this.editor.formatElementStack(),s?(this.editor.range.anchor.moveToEnd(s),this.editor.range.focus.moveToEnd(s)):(this.editor.range.anchor.moveToEnd(n),this.editor.range.focus.moveToEnd(n)),this.editor.domRender(),this.editor.rangeRender()}},deleteTable(){if(this.disabled)return;this.editor.range.anchor.isEqual(this.editor.range.focus)||(this.editor.range.anchor.element=this.editor.range.focus.element,this.editor.range.anchor.offset=this.editor.range.focus.offset);this.tableAdjusterProps.element.toEmpty(),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},insertParagraphToPre(e){if(this.disabled)return;this.editor.range.anchor.isEqual(this.editor.range.focus)||(this.editor.range.anchor.element=this.editor.range.focus.element,this.editor.range.anchor.offset=this.editor.range.focus.offset);const t=this.preAdjusterProps.element,i=new Xo("block",Xo.BLOCK_NODE,null,null,null),s=new Xo("closed","br",null,null,null);this.editor.addElementTo(s,i),"up"==e?this.editor.addElementBefore(i,t):this.editor.addElementAfter(i,t),this.editor.range.anchor.moveToEnd(i),this.editor.range.focus.moveToEnd(i),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},selectLanguage(e){if(this.disabled)return;const t=this.preAdjusterProps.element;Object.assign(t.marks,{"mvi-hljs-language":e.value}),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},updateRangeInPre(e,t,i){if(this.editor.range.anchor.element.getBlock().isEqual(e)){const e=t.findIndex((e=>this.editor.range.anchor.element.isEqual(e))),s=t.filter(((t,i)=>i<e)).reduce(((e,t,i)=>e+t.textContent.length),0)+this.editor.range.anchor.offset,n=Xo.flatElements(i).filter((e=>e.isText()&&!e.isEmpty()));let o=0,r=0;for(;o<n.length;){let e=r+n[o].textContent.length;if(s>=r&&s<=e){this.editor.range.anchor.element=n[o],this.editor.range.anchor.offset=s-r;break}o++,r=e}}if(this.editor.range.focus.element.getBlock().isEqual(e)){const e=t.findIndex((e=>this.editor.range.focus.element.isEqual(e))),s=t.filter(((t,i)=>i<e)).reduce(((e,t,i)=>e+t.textContent.length),0)+this.editor.range.focus.offset,n=Xo.flatElements(i).filter((e=>e.isText()&&!e.isEmpty()));let o=0,r=0;for(;o<n.length;){let e=r+n[o].textContent.length;if(s>=r&&s<=e){this.editor.range.focus.element=n[o],this.editor.range.focus.offset=s-r;break}o++,r=e}}},use(e){if(this.useMenus)throw new Error("The editor has already used a menu bar and cannot be used repeatedly");e.instance=this,this.useMenus=!0},getCurrentParsedomElement(e){const t=i=>i.isBlock()?i.parsedom==e?i:null:i.isText()||i.parsedom!=e?t(i.parent):i;if(this.editor.range.anchor.element.isEqual(this.editor.range.focus.element))return t(this.editor.range.anchor.element);const i=this.editor.getElementsByRange(!0,!1).map((e=>t(e.element)));if(i.some((e=>null==e)))return null;if(1==i.length)return i[0];let s=!0;for(let n=1;n<i.length;n++)if(!i[n].isEqual(i[0])){s=!1;break}return s?i[0]:null},collapseToEnd(){this.disabled||(this.editor.collapseToEnd(),this.editor.rangeRender(),u.element.setScrollTop({el:this.$refs.content,number:1e6,time:0}))},collapseToStart(){this.disabled||(this.editor.collapseToStart(),this.editor.rangeRender(),this.$nextTick((()=>{u.element.setScrollTop({el:this.$refs.content,number:0,time:0})})))},insertImage(e){const t=new Xo("closed","img",{src:e},null,null);this.editor.insertElement(t),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},insertVideo(e){const t=new Xo("closed","video",{src:e},null,null);this.editor.insertElement(t);const i=Xo.getSpaceElement(),s=Xo.getSpaceElement();this.editor.addElementAfter(s,t),this.editor.addElementBefore(i,t),this.editor.range.anchor.moveToEnd(s),this.editor.range.focus.moveToEnd(s),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},insertHtml(e){if(!e)return;const t=this.editor.parseHtml(e);t.reverse().forEach(((e,i)=>{0==i?this.editor.insertElement(e):this.editor.addElementBefore(e,t[0])})),this.editor.range.anchor.moveToEnd(t[t.length-1]),this.editor.range.focus.moveToEnd(t[t.length-1]),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},insertText(e){e&&(this.editor.insertText(e),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender())},undo(){const e=this.editor.history.get(-1);e&&(this.editor.stack=e.stack,this.editor.range=e.range,this.editor.formatElementStack(),this.editor.domRender(!0),this.editor.rangeRender())},redo(){const e=this.editor.history.get(1);e&&(this.editor.stack=e.stack,this.editor.range=e.range,this.editor.formatElementStack(),this.editor.domRender(!0),this.editor.rangeRender())},removeFormat(){this.editor.removeTextStyle(),this.editor.removeTextMark(),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},setIndent(){const e=e=>{if(e.hasStyles())if(e.styles.hasOwnProperty("text-indent")){let t=e.styles["text-indent"];t=t.endsWith("em")?parseFloat(t):0,e.styles["text-indent"]=`${t+2}em`}else e.styles["text-indent"]="2em";else e.styles={"text-indent":"2em"}};if(this.editor.range.anchor.isEqual(this.editor.range.focus)){const t=this.editor.range.anchor.element.getBlock(),i=this.editor.range.anchor.element.getInblock();i?i.isPreStyle()?this.editor.insertText("    "):"block"==i.behavior&&e(i):t.isPreStyle()?this.editor.insertText("    "):e(t)}else{this.editor.getElementsByRange(!0,!1).forEach((t=>{const i=t.element.getBlock(),s=t.element.getInblock();s&&"block"==s.behavior?e(s):e(i)}))}this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},setOutdent(){const e=e=>{if(e.hasStyles()&&e.styles.hasOwnProperty("text-indent")){let t=e.styles["text-indent"];t=t.endsWith("em")?parseFloat(t):0,e.styles["text-indent"]=(t-2>=0?t-2:0)+"em"}};if(this.editor.range.anchor.isEqual(this.editor.range.focus)){const t=this.editor.range.anchor.element.getBlock(),i=this.editor.range.anchor.element.getInblock();i&&"block"==i.behavior&&!i.isPreStyle()?e(i):t.isPreStyle()||e(t)}else{this.getElementsByRange(!0,!1).forEach((t=>{const i=t.element.getBlock(),s=t.element.getInblock();s&&"block"==s.behavior?e(s):e(i)}))}this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},insertDivider(){const e=new Xo("block",Xo.BLOCK_NODE,null,null,null),t=new Xo("closed","hr",null,null,null);this.editor.addElementTo(t,e),this.editor.insertElement(e);const i=new Xo("block",Xo.BLOCK_NODE,null,null,null),s=new Xo("closed","br",null,null,null);this.editor.addElementTo(s,i),this.editor.addElementAfter(i,e),this.editor.range.anchor.moveToEnd(i),this.editor.range.focus.moveToEnd(i),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},setCodeStyle(){this.editor.queryTextMark("data-code-style")?this.editor.removeTextMark(["data-code-style"]):this.editor.setTextMark({"data-code-style":"mvi-editor-code"}),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},setBold(){this.editor.queryTextStyle("font-weight","bold")?this.editor.removeTextStyle(["font-weight"]):this.editor.setTextStyle({"font-weight":"bold"}),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},setItalic(){this.editor.queryTextStyle("font-style","italic")?this.editor.removeTextStyle(["font-style"]):this.editor.setTextStyle({"font-style":"italic"}),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},setUnderline(){this.editor.queryTextStyle("text-decoration-line","underline")||this.editor.queryTextStyle("text-decoration","underline")?this.editor.removeTextStyle(["text-decoration-line","text-decoration"]):this.editor.setTextStyle({"text-decoration-line":"underline"}),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},setStrikeThrough(){this.editor.queryTextStyle("text-decoration-line","line-through")||this.editor.queryTextStyle("text-decoration","line-through")?this.editor.removeTextStyle(["text-decoration-line","text-decoration"]):this.editor.setTextStyle({"text-decoration-line":"line-through"}),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},setSub(){this.editor.queryTextStyle("vertical-align","sub")?this.editor.removeTextStyle(["vertical-align"]):this.editor.setTextStyle({"vertical-align":"sub"}),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},setSuper(){this.editor.queryTextStyle("vertical-align","super")?this.editor.removeTextStyle(["vertical-align"]):this.editor.setTextStyle({"vertical-align":"super"}),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},setTitle(e){if(this.editor.range.anchor.isEqual(this.editor.range.focus)){const t=this.editor.range.anchor.element.getBlock();ir.toParagraph(t),t.parsedom=e}else{this.editor.getElementsByRange(!0,!1).forEach((t=>{if(t.element.isBlock())ir.toParagraph(t.element),t.element.parsedom=e;else{const i=t.element.getBlock();ir.toParagraph(i),i.parsedom=e}}))}this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},setFontFamily(e){this.editor.setTextStyle({"font-family":e}),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},setFontSize(e){this.editor.setTextStyle({"font-size":e}),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},setForeColor(e){this.editor.setTextStyle({color:e}),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},setBackColor(e){this.editor.setTextStyle({"background-color":e}),this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},setList(e){if(this.editor.range.anchor.isEqual(this.editor.range.focus)){const t=this.editor.range.anchor.element.getBlock();ir.toParagraph(t),ir.isList(t,e)||ir.toList(t,e)}else{this.editor.getElementsByRange(!0,!1).forEach((t=>{if(t.element.isBlock())ir.toParagraph(t.element),ir.isList(block,e)||ir.toList(t.element,e);else{const i=t.element.getBlock();ir.toParagraph(i),ir.isList(i,e)||ir.toList(i,e)}}))}this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},setJustify(e){if(this.editor.range.anchor.isEqual(this.editor.range.focus)){const t=this.editor.range.anchor.element.getBlock(),i=this.editor.range.anchor.element.getInblock();i?i.hasStyles()?i.styles["text-align"]=e:i.styles={"text-align":e}:t.hasStyles()?t.styles["text-align"]=e:t.styles={"text-align":e}}else{this.editor.getElementsByRange(!0,!1).forEach((t=>{if(t.element.isBlock()||t.element.isInblock())t.element.hasStyles()?t.element.styles["text-align"]=e:t.element.styles={"text-align":e};else{const i=t.element.getBlock(),s=t.element.getInblock();s?s.hasStyles()?s.styles["text-align"]=e:s.styles={"text-align":e}:i.hasStyles()?i.styles["text-align"]=e:i.styles={"text-align":e}}}))}this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},setQuote(){if(this.editor.range.anchor.isEqual(this.editor.range.focus)){const e=this.editor.range.anchor.element.getBlock();ir.toParagraph(e),"blockquote"!=e.parsedom&&(e.parsedom="blockquote")}else{this.editor.getElementsByRange(!0,!1).forEach((e=>{if(e.element.isBlock())ir.toParagraph(e.element),"blockquote"!=block.parsedom&&(e.element.parsedom="blockquote");else{const t=e.element.getBlock();ir.toParagraph(t),"blockquote"!=t.parsedom&&(t.parsedom="blockquote")}}))}this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()},setCodeBlock(){if(this.isPre){const e=this.preAdjusterProps.element;ir.toParagraph(e)}else if(this.editor.range.anchor.isEqual(this.editor.range.focus)){const e=this.editor.range.anchor.element.getBlock();ir.toParagraph(e),e.parsedom="pre";const t=new Xo("block",Xo.BLOCK_NODE,null,null,null),i=new Xo("closed","br",null,null,null);this.editor.addElementTo(i,t),this.editor.addElementAfter(t,e)}else{let e=this.editor.getElementsByRange(!0,!1);this.editor.range.anchor.moveToStart(e[0].element.getBlock()),this.editor.range.focus.moveToEnd(e[e.length-1].element.getBlock());const t=this.editor.getElementsByRange(!0,!0).filter((e=>e.element.isText())),i={};t.forEach((e=>{i[e.element.getBlock().key]?i[e.element.getBlock().key].push(e.element.clone()):i[e.element.getBlock().key]=[e.element.clone()]}));const s=new Xo("block","pre",null,null,null);Object.keys(i).forEach(((e,t)=>{if(t>0){const e=new Xo("text",null,null,null,"\n");s.hasChildren()?this.editor.addElementTo(e,s,s.children.length):this.editor.addElementTo(e,s)}i[e].forEach((e=>{s.hasChildren()?this.editor.addElementTo(e,s,s.children.length):this.editor.addElementTo(e,s)}))})),this.editor.delete(),this.editor.insertElement(s);const n=new Xo("block",Xo.BLOCK_NODE,null,null,null),o=new Xo("closed","br",null,null,null);this.editor.addElementTo(o,n),this.editor.addElementAfter(n,s)}this.editor.formatElementStack(),this.editor.domRender(),this.editor.rangeRender()}},beforeUnmount(){this.removeScroll();const e=u.event.get(document.documentElement);for(let t in e)(t.startsWith("mousemove.editor_")||t.startsWith("mouseup.editor_"))&&u.event.off(document.documentElement,t)}},ka={class:"mvi-editor"},Ea=["value"],xa=["data-placeholder","disabled"],Ca={class:"mvi-editor-layer-link"},Sa=["placeholder"],Ta={class:"mvi-editor-layer-link-footer"},$a={class:"mvi-editor-layer"},Ia={class:"mvi-editor-layer"},Ba={class:"mvi-editor-layer"},_a={key:0,class:"mvi-editor-layer-item"};const Na=T(wa,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Checkbox"),a=t.resolveComponent("m-layer"),c=t.resolveComponent("Icon"),h=t.resolveComponent("m-select");return t.openBlock(),t.createElementBlock("div",ka,[o.codeViewShow?(t.openBlock(),t.createElementBlock("textarea",{key:0,ref:"code",readonly:"",class:"mvi-editor-code",value:r.cmpValue},null,8,Ea)):t.createCommentVNode("",!0),t.createElementVNode("div",{ref:"content","data-placeholder":s.placeholder,class:t.normalizeClass(["mvi-editor-content",s.border?"border":"",r.isEmpty?"empty":""]),style:t.normalizeStyle(r.contentStyle),onCompositionstart:i[0]||(i[0]=e=>o.compositionFlag=!0),onCompositionend:i[1]||(i[1]=e=>o.compositionFlag=!1),onClick:i[2]||(i[2]=(...e)=>r.clickEditor&&r.clickEditor(...e)),disabled:s.disabled||null,onKeydown:i[3]||(i[3]=(...e)=>r.contentKeyDown&&r.contentKeyDown(...e))},null,46,xa),t.createVNode(a,{modelValue:o.linkAdjusterProps.show,"onUpdate:modelValue":i[10]||(i[10]=e=>o.linkAdjusterProps.show=e),fixed:"",target:o.linkAdjusterProps.target,placement:"bottom-start",animation:"mvi-editor-layer-animation",timeout:50,border:"",background:"#fff","border-color":"#eee",offset:"0.05rem",closable:"",ref:"linkLayer",onShowing:i[11]||(i[11]=e=>r.autoLayerOffset("linkLayer"))},{default:t.withCtx((()=>[t.createElementVNode("div",Ca,[t.withDirectives(t.createElementVNode("input",{onChange:i[4]||(i[4]=(...e)=>r.updateLink&&r.updateLink(...e)),ref:"linkUrl",onFocus:i[5]||(i[5]=(...e)=>r.inputFocus&&r.inputFocus(...e)),onBlur:i[6]||(i[6]=(...e)=>r.inputBlur&&r.inputBlur(...e)),"onUpdate:modelValue":i[7]||(i[7]=e=>o.linkAdjusterProps.url=e),placeholder:o.linkAdjusterProps.props.placeholder,type:"text"},null,40,Sa),[[t.vModelText,o.linkAdjusterProps.url,void 0,{trim:!0}]]),t.createElementVNode("div",Ta,[t.createVNode(l,{onChange:r.updateLink,label:o.linkAdjusterProps.props.targetText,placement:"right",size:"0.24rem",color:s.activeColor,modelValue:o.linkAdjusterProps.newWindow,"onUpdate:modelValue":i[8]||(i[8]=e=>o.linkAdjusterProps.newWindow=e)},null,8,["onChange","label","color","modelValue"]),t.createElementVNode("span",{class:"mvi-editor-layer-link-delete",onClick:i[9]||(i[9]=(...e)=>r.deleteLink&&r.deleteLink(...e))},t.toDisplayString(o.linkAdjusterProps.props.removeText),1)])])])),_:1},8,["modelValue","target"]),t.createVNode(a,{modelValue:o.mediaAdjusterProps.show,"onUpdate:modelValue":i[16]||(i[16]=e=>o.mediaAdjusterProps.show=e),fixed:"",target:o.mediaAdjusterProps.target,placement:"bottom-start",animation:"mvi-editor-layer-animation",timeout:50,border:"",background:"#fff","border-color":"#eee",offset:"0.05rem",closable:"",ref:"mediaLayer",onShowing:i[17]||(i[17]=e=>r.autoLayerOffset("mediaLayer"))},{default:t.withCtx((()=>[t.createElementVNode("div",$a,[t.createElementVNode("div",{onClick:i[12]||(i[12]=e=>r.setMediaWidth("20%")),class:"mvi-editor-layer-item"},"20%"),t.createElementVNode("div",{onClick:i[13]||(i[13]=e=>r.setMediaWidth("50%")),class:"mvi-editor-layer-item"},"50%"),t.createElementVNode("div",{onClick:i[14]||(i[14]=e=>r.setMediaWidth("100%")),class:"mvi-editor-layer-item"},"100%"),t.createElementVNode("div",{onClick:i[15]||(i[15]=(...e)=>r.deleteMedia&&r.deleteMedia(...e)),class:"mvi-editor-layer-item"},[t.createVNode(c,{type:"trash-alt"})])])])),_:1},8,["modelValue","target"]),t.createVNode(a,{modelValue:o.tableAdjusterProps.show,"onUpdate:modelValue":i[25]||(i[25]=e=>o.tableAdjusterProps.show=e),fixed:"",target:o.tableAdjusterProps.target,placement:"bottom-start",animation:"mvi-editor-layer-animation",timeout:50,border:"",background:"#fff","border-color":"#eee",offset:"0.05rem",closable:"",ref:"tableLayer",onShowing:i[26]||(i[26]=e=>r.autoLayerOffset("tableLayer"))},{default:t.withCtx((()=>[t.createElementVNode("div",Ia,[t.createElementVNode("div",{onClick:i[18]||(i[18]=e=>r.insertParagraphToTable("up")),class:"mvi-editor-layer-item"},[t.createVNode(c,{style:{transform:"rotate(180deg)"},type:"turn-arrow-text"})]),t.createElementVNode("div",{onClick:i[19]||(i[19]=e=>r.insertParagraphToTable("down")),class:"mvi-editor-layer-item"},[t.createVNode(c,{type:"turn-arrow-text"})]),t.createElementVNode("div",{onClick:i[20]||(i[20]=(...e)=>r.addTableRow&&r.addTableRow(...e)),style:t.normalizeStyle({color:s.activeColor}),class:"mvi-editor-layer-item"},t.toDisplayString(o.tableAdjusterProps.props.insertRowText),5),t.createElementVNode("div",{onClick:i[21]||(i[21]=(...e)=>r.removeTableRow&&r.removeTableRow(...e)),class:"mvi-editor-layer-item"},t.toDisplayString(o.tableAdjusterProps.props.removeRowText),1),t.createElementVNode("div",{onClick:i[22]||(i[22]=(...e)=>r.addTableColumn&&r.addTableColumn(...e)),style:t.normalizeStyle({color:s.activeColor}),class:"mvi-editor-layer-item"},t.toDisplayString(o.tableAdjusterProps.props.insertColumnText),5),t.createElementVNode("div",{onClick:i[23]||(i[23]=(...e)=>r.removeTableColumn&&r.removeTableColumn(...e)),class:"mvi-editor-layer-item"},t.toDisplayString(o.tableAdjusterProps.props.removeColumnText),1),t.createElementVNode("div",{onClick:i[24]||(i[24]=(...e)=>r.deleteTable&&r.deleteTable(...e)),class:"mvi-editor-layer-item"},[t.createVNode(c,{type:"trash-alt"})])])])),_:1},8,["modelValue","target"]),t.createVNode(a,{modelValue:o.preAdjusterProps.show,"onUpdate:modelValue":i[30]||(i[30]=e=>o.preAdjusterProps.show=e),fixed:"",target:o.preAdjusterProps.target,placement:"bottom-start",animation:"mvi-editor-layer-animation",timeout:50,border:"",background:"#fff","border-color":"#eee",offset:"0.05rem",closable:"",ref:"preLayer",onShowing:i[31]||(i[31]=e=>r.autoLayerOffset("preLayer"))},{default:t.withCtx((()=>[t.createElementVNode("div",Ba,[t.createElementVNode("div",{onClick:i[27]||(i[27]=e=>r.insertParagraphToPre("up")),class:"mvi-editor-layer-item"},[t.createVNode(c,{style:{transform:"rotate(180deg)"},type:"turn-arrow-text"})]),t.createElementVNode("div",{onClick:i[28]||(i[28]=e=>r.insertParagraphToPre("down")),class:"mvi-editor-layer-item"},[t.createVNode(c,{type:"turn-arrow-text"})]),s.highlight?(t.openBlock(),t.createElementBlock("div",_a,[t.createVNode(h,{"active-color":s.activeColor,modelValue:o.preAdjusterProps.language,"onUpdate:modelValue":i[29]||(i[29]=e=>o.preAdjusterProps.language=e),options:o.preAdjusterProps.languages,height:"4rem","layer-props":{width:"2.4rem"},icon:"angle-down",onChange:r.selectLanguage},null,8,["active-color","modelValue","options","onChange"])])):t.createCommentVNode("",!0)])])),_:1},8,["modelValue","target"])])}],["__scopeId","data-v-a62d0d9c"]]);Na.install=e=>{e.component(Na.name,Na)};const Pa={placement:"bottom",timeout:200,color:"#333",textColor:"#fff",borderColor:"#333",offset:"0.1rem",zIndex:100,fixed:!1,fixedAuto:!1,width:null,showTriangle:!0,animation:null},za={placement:"bottom-start",offset:"0rem",zIndex:400,fixed:!1,fixedAuto:!1,width:null,timeout:100,showTriangle:!1,animation:null,shadow:!0,border:!0},Aa={multiple:!1,allowedFileType:["jpg","png","JPG","PNG","JPEG","jpeg","gif","GIF","jfif","JFIF","webp","WEBP"],accept:"image",minSize:-1,maxSize:-1,minLength:-1,maxLength:-1},Oa={multiple:!1,allowedFileType:["mp4","MP4","avi","AVI","WAV","wav"],accept:"video",minSize:-1,maxSize:-1,minLength:-1,maxLength:-1};const Va=T({name:"m-editor-menus",data:()=>({instance:null}),emits:["upload-image","upload-video"],provide(){return{menus:this}},props:{useTooltip:{type:Boolean,default:!1},layerProps:{type:Object,default:function(){return{}}},uploadImageProps:{type:Object,default:function(){return{}}},uploadVideoProps:{type:Object,default:function(){return{}}},useBase64:{type:Boolean,default:!0},uploadImageError:{type:Function},uploadVideoError:{type:Function},trigger:{type:String,default:"click",validator:e=>["hover","click"].includes(e)},tooltipProps:{type:Object,default:function(){return{}}},border:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{combinedTooltipProps(){return this.initOption(Pa,this.tooltipProps)},combinedLayerProps(){return this.initOption(za,this.layerProps)},combinedUploadImageProps(){return this.initOption(Aa,this.uploadImageProps)},combinedUploadVideoProps(){return this.initOption(Oa,this.uploadVideoProps)}},setup:()=>({uid:t.getCurrentInstance().uid}),mounted(){u.event.on(document.documentElement,`mousedown.editor_menus_${this.uid}`,(e=>{this.instance&&(u.element.isContains(this.$el,e.target)||u.element.isContains(this.instance.$el,e.target)||this.instance.codeViewShow||(this.instance.canUseMenus=!1))}))},methods:{initOption(e,t){let i={};return Object.assign(i,e),Object.assign(i,t),i}},beforeUnmount(){u.event.off(document.documentElement,`click.editor_menus_${this.uid}`)}},[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-editor-menus",s.border?"border":""])},[t.renderSlot(e.$slots,"default",{},void 0,!0)],2)}],["__scopeId","data-v-d018c9c2"]]);Va.install=e=>{e.component(Va.name,Va)};const Ra=[{name:"undo",type:"default",icon:"undo",title:"撤销"},{name:"redo",type:"default",icon:"redo",title:"重做"},{name:"removeformat",type:"default",icon:"clear",title:"清除格式"},{name:"indent",type:"select",icon:"indent-right",title:"缩进",list:[{label:"增加缩进",value:"indent-right",icon:"indent-right"},{label:"减少缩进",value:"indent-left",icon:"indent-left"}]},{name:"divider",type:"default",icon:"divider",title:"分隔线"},{name:"code",type:"default",icon:"code",title:"代码"},{name:"bold",type:"default",icon:"bold",title:"加粗"},{name:"italic",type:"default",icon:"italic",title:"斜体"},{name:"underline",type:"default",icon:"underline",title:"下划线"},{name:"strikethrough",type:"default",icon:"strikethrough",title:"删除线"},{name:"subscript",type:"default",icon:"subscript",title:"下标"},{name:"superscript",type:"default",icon:"superscript",title:"上标"},{name:"title",type:"display",title:"标题",list:[{label:"一级标题",value:"h1"},{label:"二级标题",value:"h2"},{label:"三级标题",value:"h3"},{label:"四级标题",value:"h4"},{label:"五级标题",value:"h5"},{label:"六级标题",value:"h6"},{label:"正文",value:"p"}],value:"p"},{name:"fontfamily",type:"display",title:"字体",value:"",list:[{label:"默认字体",value:""},"黑体","仿宋","楷体","宋体","Arial","Consolas"]},{name:"fontsize",type:"display",title:"字号",value:"",list:[{label:"默认字号",value:""},{label:"12px",value:"0.24rem"},{label:"16px",value:"0.32rem"},{label:"20px",value:"0.4rem"},{label:"28px",value:"0.56rem"},{label:"36px",value:"0.72rem"},{label:"48px",value:"0.96rem"}]},{name:"forecolor",type:"select",title:"文字颜色",icon:"color-picker",list:["#000000","#505050","#808080","#BBBBBB","#CCCCCC","#EEEEEE","#F7F7F7","#FFFFFF","#EC1A0A","#FF9900","#FFFF00","#07C160","#00FFFF","#0B73DE","#9C00FF","#FF00FF","#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE","#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD","#e45649","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5","#CE0000","#E79439","#EFC631","#50a14f","#4A7B8C","#03A8F3","#634AA5","#A54A7B","#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842","#630000","#7B3900","#986801","#295218","#083139","#003163","#21104A","#4A1031"]},{name:"backcolor",type:"select",title:"背景颜色",icon:"brush",list:["#000000","#505050","#808080","#BBBBBB","#CCCCCC","#EEEEEE","#F7F7F7","#FFFFFF","#EC1A0A","#FF9900","#FFFF00","#07C160","#00FFFF","#0B73DE","#9C00FF","#FF00FF","#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE","#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD","#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5","#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#03A8F3","#634AA5","#A54A7B","#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842","#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]},{name:"ol",type:"default",icon:"ol",title:"有序列表"},{name:"ul",type:"default",icon:"ul",title:"无序列表"},{name:"justify",type:"select",icon:"align-left",title:"对齐方式",list:[{label:"左对齐",value:"left",icon:"align-left"},{label:"居中对齐",value:"center",icon:"align-center"},{label:"右对齐",value:"right",icon:"align-right"},{label:"两端对齐",value:"justify",icon:"align-justify"}]},{name:"quote",type:"default",icon:"quote",title:"引用"},{name:"link",type:"select",icon:"link",title:"插入链接",props:{placeholder:["输入文本","输入地址"],targetText:"新窗口打开",removeText:"移除链接",insertText:"插入"}},{name:"image",icon:"image",title:"插入图片",type:"select",props:{placeholder:"图片地址",insertText:"插入"},list:[{label:"本地上传",value:"upload"},{label:"网络图片",value:"remote"}]},{name:"video",icon:"video",title:"插入视频",type:"select",props:{placeholder:"视频地址",insertText:"插入"},list:[{label:"本地上传",value:"upload"},{label:"网络视频",value:"remote"}]},{name:"table",type:"select",icon:"table-alt",title:"插入表格",props:{insertRowText:"插入行",removeRowText:"删除行",insertColumnText:"插入列",removeColumnText:"删除列",deleteText:"删除表格"}},{name:"codeblock",type:"default",icon:"code-block",title:"代码块"},{name:"empty",type:"default",icon:"trash",title:"清空"},{name:"codeview",type:"default",icon:"eye",title:"源码视图"}],Da=e=>"custom"==e?null:Ra.find((t=>e==t.name)),Ma=function(){const e=[];for(let t=0;t<10;t++){let i=[];for(let e=0;e<10;e++)i.push({x:e+1,y:t+1,inside:!1});e.push(i)}return e},La={name:"m-editor-menu",emits:["custom"],props:{name:{type:String,default:null},type:{type:String,default:function(e){const t=Da(e.name);return t?t.type:"default"},validator:e=>["default","select","display"].includes(e)},icon:{type:[String,Object],default:function(e){const t=Da(e.name);return t?t.icon:null}},list:{type:Array,default:function(e){const t=Da(e.name);return t&&t.list||[]}},title:{type:String,default:function(e){const t=Da(e.name);return t?t.title:""}},value:{type:[String,Number],default:function(e){const t=Da(e.name);return t?t.value:null}},props:{type:Object,default:function(e){const t=Da(e.name);return t&&t.props||{}}},disabled:{type:Boolean,default:!1},customActive:{type:Function}},inject:["menus"],data:()=>({rangeUpdateTimer:null,defaultVal:{},selectedVal:{},layerShow:!1,active:!1,linkParams:{url:"",text:"",target:!1,showText:!0},mediaParams:{tabIndex:0,remoteUrl:""},tableParams:{size:[],grids:Ma()}}),computed:{parseIcon:()=>e=>{let t={spin:!1,type:null,url:null,color:null,size:null};return u.common.isObject(e)?("boolean"==typeof e.spin&&(t.spin=e.spin),"string"==typeof e.type&&(t.type=e.type),"string"==typeof e.url&&(t.url=e.url),"string"==typeof e.color&&(t.color=e.color),"string"==typeof e.size&&(t.size=e.size)):"string"==typeof e&&(t.type=e),t},parseList(){return Array.isArray(this.list)?this.list.map((e=>{let t={};return u.common.isObject(e)?(t.label=e.label,t.value=e.value,t.icon=this.parseIcon(e.icon)):"string"==typeof e&&(t.label=e,t.value=e,t.icon=this.parseIcon(null)),t})):[]},cmpDisabled(){return!!this.disabled||(!!this.menus.disabled||(!this.menus.instance||(!!this.menus.instance.disabled||(!this.menus.instance.canUseMenus||(!(!this.menus.instance.codeViewShow||"codeview"==this.name)||(!(!this.menus.instance.isPre||["codeblock","undo","redo"].includes(this.name))||!(!this.menus.instance.isTable||!["indent","divider","title","ol","ul","codeblock"].includes(this.name))))))))},layerElTag(){return e=>"title"==this.name?e.value:"div"},activeColorStyle(){let e={};return this.cmpDisabled||this.active&&(e.opacity=1,e.color=this.activeColor),e},activeColor(){return this.cmpDisabled?"":this.menus.instance.activeColor?this.menus.instance.activeColor:""},isDefinedMenu(){return!!Da(this.name)},menuColorStyle(){return e=>{let t={};return this.cmpDisabled||this.selectedVal.value==e.value&&(t.borderColor=this.activeColor),t}},uploadOptions(){let e={};return this.cmpDisabled?e:("image"==this.name?e=this.menus.combinedUploadImageProps:"video"==this.name&&(e=this.menus.combinedUploadVideoProps),{...e,select:e=>{this.menus.useBase64?e.forEach((e=>{u.file.dataFileToBase64(e).then((e=>{"image"==this.name?this.menus.instance.insertImage(e):"video"==this.name&&this.menus.instance.insertVideo(e)}))})):"image"==this.name?this.menus.$emit("upload-image",e):"video"==this.name&&this.menus.$emit("upload-video",e),this.hideLayer()},error:(e,t)=>{if("image"==this.name)if("function"==typeof this.menus.uploadImageError)this.menus.uploadImageError(state,t);else{let t="";"suffixError"==e?t="文件后缀不符合":"maxSizeError"==e?t="超出最大文件尺寸限制":"minSizeError"==e?t="文件尺寸没有达到要求的最小值":"maxLengthError"==e?t="文件数量超出限制":"minLengthError"==e&&(t="文件数量没有达到最小值"),kt.msgbox({message:t,animation:"scale"})}else"video"==this.name&&("function"==typeof this.menus.uploadVideoError?this.menus.uploadVideoError(state,message,t):kt.msgbox({message:message,animation:"scale"}));this.hideLayer()}})}},components:{Icon:$,Tooltip:$s,Layer:Es,Checkbox:pe,Tabs:ys,Tab:bs,EditorTag:T({props:{tag:{type:String,default:"div"}},components:{Tag:{render(){return t.h(this.$parent.tag,{},{default:this.$slots.default})}}}},[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Tag");return t.openBlock(),t.createBlock(l,null,{default:t.withCtx((()=>[t.renderSlot(e.$slots,"default")])),_:3})}]])},setup:()=>({uid:t.getCurrentInstance().uid}),watch:{list:{handler:function(e){e&&"display"==this.type&&(null===this.value||void 0===this.value?(this.selectedVal={...this.parseList[0]},this.defaultVal={...this.parseList[0]}):(this.selectedVal=this.parseList.find((e=>e.value==this.value))||{...this.parseList[0]},this.defaultVal=this.parseList.find((e=>e.value==this.value))||{...this.parseList[0]}))},immediate:!0}},mounted(){const e=this.$watch("menus.instance",(t=>{t.editor.on("rangeUpdate",this.handleRangeUpdate),e()}))},methods:{beforeLayerShow(){if("link"==this.name){if(this.linkParams={url:"",text:"",target:!1,showText:!0},this.active){this.linkParams.showText=!1;const e=this.menus.instance.linkAdjusterProps.element;if(e){if(e.hasChildren()){const t=Xo.flatElements(e.children);let i="";t.forEach((e=>{e.isText()&&(i+=e.textContent||"")})),this.linkParams.text=i}e.hasMarks()&&(this.linkParams.url=e.marks.href||"",this.linkParams.target="_blank"==e.marks.target)}}else if(!this.menus.instance.editor.range.anchor.isEqual(this.menus.instance.editor.range.focus)){let e="";this.menus.instance.editor.getElementsByRange(!0,!0).forEach((t=>{t.element.isText()&&(t.offset?e+=t.element.textContent.substring(t.offset[0],t.offset[1]):e+=t.element.textContent||"")})),this.linkParams.text=e}}else if("image"==this.name||"video"==this.name){this.mediaParams.tabIndex=0,this.mediaParams.remoteUrl="";const e=this.$el.querySelectorAll(".mvi-editor-menu-media-upload");if(e.length)for(let t=0;t<e.length;t++){new x(e[t],{...this.uploadOptions}).init()}}else"table"==this.name&&(this.tableParams.grids=Ma())},tabChange(){this.$nextTick((()=>{const e=this.$el.querySelectorAll(".mvi-editor-menu-media-upload");if(e.length)for(let t=0;t<e.length;t++){new x(e[t],{...this.uploadOptions}).init()}}))},inputFocus(e){e.currentTarget.style.borderColor=this.activeColor},inputBlur(e){e.currentTarget.style.borderColor=""},menuHover(e){this.cmpDisabled||"hover"==this.menus.trigger&&("enter"==e?this.showLayer():"leave"==e&&this.hideLayer())},layerClick(e){this.cmpDisabled||(this.isDefinedMenu?this.handleOpt(e):this.$emit("custom",{...e}),this.hideLayer())},menuClick(){this.cmpDisabled||("select"==this.type||"display"==this.type?"click"==this.menus.trigger&&(this.layerShow?this.hideLayer():this.showLayer()):this.isDefinedMenu?this.handleOpt():this.$emit("custom"))},showLayer(){this.cmpDisabled||"select"!=this.type&&"display"!=this.type||(this.layerShow=!0)},hideLayer(){"select"!=this.type&&"display"!=this.type||(this.layerShow=!1)},handleOpt(e){if(this.cmpDisabled)return;const t=this.menus.instance.editor;if("undo"==this.name)this.menus.instance.undo();else if("redo"==this.name)this.menus.instance.redo();else if("removeformat"==this.name)this.menus.instance.removeFormat();else if("indent"==this.name)"indent-right"==e.value?this.menus.instance.setIndent():this.menus.instance.setOutdent();else if("divider"==this.name)this.menus.instance.insertDivider();else if("code"==this.name)this.menus.instance.setCodeStyle();else if("bold"==this.name)this.menus.instance.setBold();else if("italic"==this.name)this.menus.instance.setItalic();else if("underline"==this.name)this.menus.instance.setUnderline();else if("strikethrough"==this.name)this.menus.instance.setStrikeThrough();else if("subscript"==this.name)this.menus.instance.setSub();else if("superscript"==this.name)this.menus.instance.setSuper();else if("title"==this.name)this.menus.instance.setTitle(e.value);else if("fontfamily"==this.name)this.menus.instance.setFontFamily(e.value);else if("fontsize"==this.name)this.menus.instance.setFontSize(e.value);else if("forecolor"==this.name)this.menus.instance.setForeColor(e.value);else if("backcolor"==this.name)this.menus.instance.setBackColor(e.value);else if("ol"==this.name||"ul"==this.name)this.menus.instance.setList("ol"==this.name);else if("justify"==this.name)this.menus.instance.setJustify(e.value);else if("quote"==this.name)this.menus.instance.setQuote();else if("codeblock"==this.name)this.menus.instance.setCodeBlock();else if("empty"==this.name){const e=new Xo("block","p",null,null,null),i=new Xo("closed","br",null,null,null);t.addElementTo(i,e),t.stack=[e],t.range.anchor.moveToStart(i),t.range.focus.moveToStart(i),t.formatElementStack(),t.domRender(),t.rangeRender()}else"codeview"==this.name&&(this.menus.instance.codeViewShow=!this.menus.instance.codeViewShow,this.active=this.menus.instance.codeViewShow)},handleRangeUpdate(e){this.rangeUpdateTimer&&(clearTimeout(this.rangeUpdateTimer),this.rangeUpdateTimer=null),this.rangeUpdateTimer=setTimeout((()=>{const e=this.menus.instance.editor;if("code"==this.name)this.active=e.queryTextMark("data-code-style");else if("bold"==this.name)this.active=e.queryTextStyle("font-weight","bold");else if("italic"==this.name)this.active=e.queryTextStyle("font-style","italic");else if("underline"==this.name)this.active=e.queryTextStyle("text-decoration-line","underline")||e.queryTextStyle("text-decoration","underline");else if("strikethrough"==this.name)this.active=e.queryTextStyle("text-decoration-line","line-through")||e.queryTextStyle("text-decoration","line-through");else if("subscript"==this.name)this.active=e.queryTextStyle("vertical-align","sub");else if("superscript"==this.name)this.active=e.queryTextStyle("vertical-align","super");else if("title"==this.name)if(e.range.anchor.isEqual(e.range.focus))this.selectedVal=this.parseList.find((t=>t.value==e.range.anchor.element.getBlock().parsedom))||{...this.defaultVal};else{const t=e.getElementsByRange(!0,!1);this.selectedVal=this.parseList.find((e=>t.every((t=>t.element.isBlock()?t.element.parsedom==e.value:t.element.getBlock().parsedom==e.value))))||{...this.defaultVal}}else if("fontfamily"==this.name)this.selectedVal=this.parseList.find((t=>e.queryTextStyle("font-family",t.value)))||{...this.defaultVal};else if("fontsize"==this.name)this.selectedVal=this.parseList.find((t=>e.queryTextStyle("font-size",t.value)))||{...this.defaultVal};else if("forecolor"==this.name)this.selectedVal=this.parseList.find((t=>e.queryTextStyle("color",t.value)))||{};else if("backcolor"==this.name)this.selectedVal=this.parseList.find((t=>e.queryTextStyle("background-color",t.value)))||{};else if("ol"==this.name||"ul"==this.name)if(e.range.anchor.isEqual(e.range.focus)){const t=e.range.anchor.element.getBlock();this.active=ir.isList(t,"ol"==this.name)}else{const t=e.getElementsByRange(!0,!1);this.active=t.every((e=>{if(e.element.isBlock())return ir.isList(e.element,"ol"==this.name);{const t=e.element.getBlock();return ir.isList(t,"ol"==this.name)}}))}else if("justify"==this.name)if(e.range.anchor.isEqual(e.range.focus)){const t=e.range.anchor.element.getBlock(),i=e.range.anchor.element.getInblock();this.selectedVal=i?this.parseList.find((e=>i.hasStyles()&&i.styles["text-align"]==e.value))||{}:this.parseList.find((e=>t.hasStyles()&&t.styles["text-align"]==e.value))||{}}else{const t=e.getElementsByRange(!0,!1);this.selectedVal=this.parseList.find((e=>t.every((t=>{if(t.element.isBlock()||t.element.isInblock())return t.element.hasStyles()&&t.element.styles["text-align"]==e.value;const i=t.element.getBlock(),s=t.element.getInblock();return s?s.hasStyles()&&s.styles["text-align"]==e.value:i.hasStyles()&&i.styles["text-align"]==e.value}))))||{}}else if("quote"==this.name)if(e.range.anchor.isEqual(e.range.focus)){const t=e.range.anchor.element.getBlock();this.active="blockquote"==t.parsedom}else{const t=e.getElementsByRange(!0,!1);this.active=t.every((e=>{if(e.element.isBlock())return"blockquote"==e.element.parsedom;return"blockquote"==e.element.getBlock().parsedom}))}else if("link"==this.name)this.active=this.menus.instance.isLink;else if("table"==this.name)this.active=this.menus.instance.isTable;else if("codeblock"==this.name)this.active=this.menus.instance.isPre;else if(!this.isDefinedMenu&&"function"==typeof this.customActive){const e=this.customActive.apply(this,[this.name]);"default"==this.type?this.active=e:"select"==this.type?"boolean"==typeof e?this.active=e:this.selectedVal=this.parseList.find((t=>t.value==e))||{}:"boolean"==typeof e?this.active=e:this.selectedVal=this.parseList.find((t=>t.value==e))||{...this.defaultVal}}}),100)},insertLink(){if(!this.cmpDisabled)if(this.linkParams.url){if(this.active){const e=this.menus.instance.linkAdjusterProps.element;e.marks.href=this.linkParams.url,this.linkParams.target?e.marks.target="_blank":delete e.marks.target}else{this.linkParams.text||(this.linkParams.text=this.linkParams.url);const e={href:this.linkParams.url};this.linkParams.target&&(e.target="_blank");const t=new Xo("inline","a",e,null,null),i=new Xo("text",null,null,null,this.linkParams.text);this.menus.instance.editor.addElementTo(i,t),this.menus.instance.editor.insertElement(t)}this.menus.instance.editor.formatElementStack(),this.menus.instance.editor.domRender(),this.menus.instance.editor.rangeRender(),this.hideLayer()}else this.hideLayer()},deleteLink(){if(this.cmpDisabled)return;const e=this.menus.instance.linkAdjusterProps.element;e.parsedom=Xo.TEXT_NODE,delete e.marks.target,delete e.marks.href,this.menus.instance.editor.formatElementStack(),this.menus.instance.editor.domRender(),this.menus.instance.editor.rangeRender(),this.hideLayer()},insertRemote(){this.cmpDisabled||(this.mediaParams.remoteUrl?("video"==this.name?this.menus.instance.insertVideo(this.mediaParams.remoteUrl):this.menus.instance.insertImage(this.mediaParams.remoteUrl),this.menus.instance.editor.formatElementStack(),this.menus.instance.editor.domRender(),this.menus.instance.editor.rangeRender(),this.hideLayer()):this.hideLayer())},confirmTableSize(){if(this.cmpDisabled)return;const e=this.tableParams.size[1],t=this.tableParams.size[0],i=new Xo("block","table",null,null,null),s=new Xo("inblock","tbody",null,null,null);this.menus.instance.editor.addElementTo(s,i);for(let r=0;r<e;r++){const e=new Xo("inblock","tr",null,null,null);for(let i=0;i<t;i++){const t=new Xo("inblock","td",null,null,null),i=new Xo("closed","br",null,null,null);this.menus.instance.editor.addElementTo(i,t),this.menus.instance.editor.addElementTo(t,e)}this.menus.instance.editor.addElementTo(e,s)}this.menus.instance.editor.insertElement(i);const n=new Xo("block",Xo.BLOCK_NODE,null,null,null),o=new Xo("closed","br",null,null,null);this.menus.instance.editor.addElementTo(o,n),this.menus.instance.editor.addElementAfter(n,i),this.menus.instance.editor.formatElementStack(),this.menus.instance.editor.range.anchor.moveToStart(s),this.menus.instance.editor.range.focus.moveToStart(s),this.menus.instance.editor.domRender(),this.menus.instance.editor.rangeRender(),this.hideLayer()},changeTableSize(e){if(!this.cmpDisabled){this.tableParams.size=[e.x,e.y];for(let t in this.tableParams.grids){const i=this.tableParams.grids[t];for(let s in i)i[s].x<=e.x&&i[s].y<=e.y?this.tableParams.grids[t][s].inside=!0:this.tableParams.grids[t][s].inside=!1}}},addTableRow(){if(this.cmpDisabled)return;this.menus.instance.editor.range.anchor.isEqual(this.menus.instance.editor.range.focus)||(this.menus.instance.editor.range.anchor.element=this.menus.instance.editor.range.focus.element,this.menus.instance.editor.range.anchor.offset=this.menus.instance.editor.range.focus.offset);const e=this.menus.instance.getCurrentParsedomElement("tr");if(e){const t=e.clone();t.children.forEach((e=>{e.children=[];const t=new Xo("closed","br",null,null,null);this.menus.instance.editor.addElementTo(t,e)})),this.menus.instance.editor.addElementAfter(t,e),this.menus.instance.editor.formatElementStack(),this.menus.instance.editor.range.anchor.moveToStart(t),this.menus.instance.editor.range.focus.moveToStart(t),this.menus.instance.editor.domRender(),this.menus.instance.editor.rangeRender()}this.hideLayer()},removeTableRow(){if(this.cmpDisabled)return;this.menus.instance.editor.range.anchor.isEqual(this.menus.instance.editor.range.focus)||(this.menus.instance.editor.range.anchor.element=this.menus.instance.editor.range.focus.element,this.menus.instance.editor.range.anchor.offset=this.menus.instance.editor.range.focus.offset);const e=this.menus.instance.getCurrentParsedomElement("tr");if(e){if(1==e.parent.children.length)return void this.deleteTable();const t=this.menus.instance.editor.getPreviousElement(e),i=this.menus.instance.editor.getNextElement(e);e.toEmpty(),this.menus.instance.editor.formatElementStack(),t?(this.menus.instance.editor.range.anchor.moveToEnd(t.children[0]),this.menus.instance.editor.range.focus.moveToEnd(t.children[0])):(this.menus.instance.editor.range.anchor.moveToEnd(i.children[0]),this.menus.instance.editor.range.focus.moveToEnd(i.children[0])),this.menus.instance.editor.domRender(),this.menus.instance.editor.rangeRender()}this.hideLayer()},addTableColumn(){if(this.cmpDisabled)return;this.menus.instance.editor.range.anchor.isEqual(this.menus.instance.editor.range.focus)||(this.menus.instance.editor.range.anchor.element=this.menus.instance.editor.range.focus.element,this.menus.instance.editor.range.anchor.offset=this.menus.instance.editor.range.focus.offset);const e=this.menus.instance.getCurrentParsedomElement("td"),t=this.menus.instance.getCurrentParsedomElement("tbody");if(e&&t){const i=t.children,s=e.parent.children.findIndex((t=>t.isEqual(e)));i.forEach((t=>{const i=e.clone(!1),n=new Xo("closed","br",null,null,null);this.menus.instance.editor.addElementTo(n,i),this.menus.instance.editor.addElementTo(i,t,s+1)})),this.menus.instance.editor.formatElementStack();const n=this.menus.instance.editor.getNextElement(e);this.menus.instance.editor.range.anchor.moveToStart(n),this.menus.instance.editor.range.focus.moveToStart(n),this.menus.instance.editor.domRender(),this.menus.instance.editor.rangeRender()}this.hideLayer()},removeTableColumn(){if(this.cmpDisabled)return;this.menus.instance.editor.range.anchor.isEqual(this.menus.instance.editor.range.focus)||(this.menus.instance.editor.range.anchor.element=this.menus.instance.editor.range.focus.element,this.menus.instance.editor.range.anchor.offset=this.menus.instance.editor.range.focus.offset);const e=this.menus.instance.getCurrentParsedomElement("td"),t=this.menus.instance.getCurrentParsedomElement("tbody");if(e&&t){const i=t.children;if(1==e.parent.children.length)return void this.deleteTable();const s=this.menus.instance.editor.getPreviousElement(e),n=this.menus.instance.editor.getNextElement(e),o=e.parent.children.findIndex((t=>t.isEqual(e)));i.forEach((e=>{e.children[o].toEmpty()})),this.menus.instance.editor.formatElementStack(),s?(this.menus.instance.editor.range.anchor.moveToEnd(s),this.menus.instance.editor.range.focus.moveToEnd(s)):(this.menus.instance.editor.range.anchor.moveToEnd(n),this.menus.instance.editor.range.focus.moveToEnd(n)),this.menus.instance.editor.domRender(),this.menus.instance.editor.rangeRender()}this.hideLayer()},deleteTable(){if(this.cmpDisabled)return;this.menus.instance.editor.range.anchor.isEqual(this.menus.instance.editor.range.focus)||(this.menus.instance.editor.range.anchor.element=this.menus.instance.editor.range.focus.element,this.menus.instance.editor.range.anchor.offset=this.menus.instance.editor.range.focus.offset);this.menus.instance.tableAdjusterProps.element.toEmpty(),this.menus.instance.editor.formatElementStack(),this.menus.instance.editor.domRender(),this.menus.instance.editor.rangeRender(),this.hideLayer()}}},Ha=["data-id"],Fa=["disabled","data-id"],Wa={key:0,class:"mvi-editor-menu-text"},ja={key:0,class:"mvi-editor-menu-colors"},Ua=["onClick"],Ya={key:1,class:"mvi-editor-menu-table"},qa={class:"mvi-editor-menu-table-operations"},Xa={class:"mvi-editor-menu-table-footer"},Ka={class:"mvi-editor-menu-table-grids"},Za=["onMouseenter"],Ga={key:0,class:"mvi-editor-menu-table-size"},Qa={key:2,class:"mvi-editor-menu-link"},Ja=["disabled","placeholder"],ec=["placeholder"],tc={class:"mvi-editor-menu-link-footer"},ic={class:"mvi-editor-menu-link-operation"},sc={key:3,class:"mvi-editor-menu-media"},nc={key:0,class:"mvi-editor-menu-media-upload"},oc={key:1,class:"mvi-editor-menu-media-remote"},rc=["placeholder"],lc={key:4,class:"mvi-editor-menu-default"},ac=["textContent"];const cc=T(La,[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Icon"),a=t.resolveComponent("Tooltip"),c=t.resolveComponent("Checkbox"),h=t.resolveComponent("Tab"),d=t.resolveComponent("Tabs"),m=t.resolveComponent("EditorTag"),u=t.resolveComponent("Layer");return t.openBlock(),t.createElementBlock("div",{class:"mvi-editor-menu","data-id":`mvi-editor-menu-${n.uid}`,onMouseenter:i[22]||(i[22]=e=>r.menuHover("enter")),onMouseleave:i[23]||(i[23]=e=>r.menuHover("leave"))},[t.createVNode(a,{disabled:!r.menus.useTooltip||!s.title||r.cmpDisabled,title:s.title,trigger:"hover",placement:r.menus.combinedTooltipProps.placement,timeout:r.menus.combinedTooltipProps.timeout,color:r.menus.combinedTooltipProps.color,"text-color":r.menus.combinedTooltipProps.textColor,"border-color":r.menus.combinedTooltipProps.borderColor,offset:r.menus.combinedTooltipProps.offset,"z-index":r.menus.combinedTooltipProps.zIndex,fixed:r.menus.combinedTooltipProps.fixed,"fixed-auto":r.menus.combinedTooltipProps.fixedAuto,width:r.menus.combinedTooltipProps.width,animation:r.menus.combinedTooltipProps.animation,"show-triangle":r.menus.combinedTooltipProps.showTriangle,block:""},{default:t.withCtx((()=>[t.createElementVNode("div",{disabled:r.cmpDisabled||null,class:"mvi-editor-menu-el","data-id":`mvi-editor-menu-el-${n.uid}`,onClick:i[0]||(i[0]=(...e)=>r.menuClick&&r.menuClick(...e)),style:t.normalizeStyle(r.activeColorStyle)},["display"==s.type?(t.openBlock(),t.createElementBlock("span",Wa,t.toDisplayString(o.selectedVal.label),1)):r.parseIcon(s.icon).type||r.parseIcon(s.icon).url?(t.openBlock(),t.createBlock(l,{key:1,type:r.parseIcon(s.icon).type,url:r.parseIcon(s.icon).url,size:r.parseIcon(s.icon).size,color:r.parseIcon(s.icon).color,spin:r.parseIcon(s.icon).spin},null,8,["type","url","size","color","spin"])):t.createCommentVNode("",!0),"select"==s.type||"display"==s.type?(t.openBlock(),t.createBlock(l,{key:2,type:"caret-down",class:"mvi-editor-menu-caret"})):t.createCommentVNode("",!0)],12,Fa)])),_:1},8,["disabled","title","placement","timeout","color","text-color","border-color","offset","z-index","fixed","fixed-auto","width","animation","show-triangle"]),"select"==s.type||"display"==s.type?(t.openBlock(),t.createBlock(u,{key:0,modelValue:o.layerShow,"onUpdate:modelValue":i[21]||(i[21]=e=>o.layerShow=e),ref:"layer",placement:r.menus.combinedLayerProps.placement,"z-index":r.menus.combinedLayerProps.zIndex,fixed:r.menus.combinedLayerProps.fixed,"fixed-auto":r.menus.combinedLayerProps.fixedAuto,offset:r.menus.combinedLayerProps.offset,timeout:r.menus.combinedLayerProps.timeout,"show-triangle":r.menus.combinedLayerProps.showTriangle,animation:r.menus.combinedLayerProps.animation,shadow:r.menus.combinedLayerProps.shadow,border:r.menus.combinedLayerProps.border,width:r.menus.combinedLayerProps.width,closable:"click"==r.menus.trigger,target:`[data-id='mvi-editor-menu-el-${n.uid}']`,root:`[data-id='mvi-editor-menu-${n.uid}']`,onShowing:r.beforeLayerShow},{default:t.withCtx((()=>[e.$slots.layer?t.renderSlot(e.$slots,"layer",{key:0},void 0,!0):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},["forecolor"==s.name||"backcolor"==s.name?(t.openBlock(),t.createElementBlock("div",ja,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.parseList,(e=>(t.openBlock(),t.createElementBlock("div",{class:"mvi-editor-menu-color",style:t.normalizeStyle(r.menuColorStyle(e))},[t.createVNode(a,{disabled:!r.menus.useTooltip||!e.label||r.cmpDisabled,trigger:"hover",title:e.label,placement:r.menus.combinedTooltipProps.placement,timeout:r.menus.combinedTooltipProps.timeout,color:r.menus.combinedTooltipProps.color,"text-color":r.menus.combinedTooltipProps.textColor,"border-color":r.menus.combinedTooltipProps.borderColor,offset:r.menus.combinedTooltipProps.offset,"z-index":r.menus.combinedTooltipProps.zIndex,fixed:r.menus.combinedTooltipProps.fixed,"fixed-auto":r.menus.combinedTooltipProps.fixedAuto,width:r.menus.combinedTooltipProps.width,animation:r.menus.combinedTooltipProps.animation,"show-triangle":r.menus.combinedTooltipProps.showTriangle,block:""},{default:t.withCtx((()=>[t.createElementVNode("div",{style:t.normalizeStyle({backgroundColor:e.value}),onClick:t=>r.layerClick(e),class:"mvi-editor-menu-color-el"},null,12,Ua)])),_:2},1032,["disabled","title","placement","timeout","color","text-color","border-color","offset","z-index","fixed","fixed-auto","width","animation","show-triangle"])],4)))),256))])):"table"==s.name?(t.openBlock(),t.createElementBlock("div",Ya,[o.active?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[t.createElementVNode("div",qa,[t.createElementVNode("div",{onClick:i[1]||(i[1]=(...e)=>r.addTableRow&&r.addTableRow(...e)),style:t.normalizeStyle({color:r.activeColor}),class:"mvi-editor-menu-table-operation"},t.toDisplayString(s.props.insertRowText),5),t.createElementVNode("div",{onClick:i[2]||(i[2]=(...e)=>r.removeTableRow&&r.removeTableRow(...e)),class:"mvi-editor-menu-table-operation"},t.toDisplayString(s.props.removeRowText),1),t.createElementVNode("div",{onClick:i[3]||(i[3]=(...e)=>r.addTableColumn&&r.addTableColumn(...e)),style:t.normalizeStyle({color:r.activeColor}),class:"mvi-editor-menu-table-operation"},t.toDisplayString(s.props.insertColumnText),5),t.createElementVNode("div",{onClick:i[4]||(i[4]=(...e)=>r.removeTableColumn&&r.removeTableColumn(...e)),class:"mvi-editor-menu-table-operation"},t.toDisplayString(s.props.removeColumnText),1)]),t.createElementVNode("div",Xa,[t.createElementVNode("span",{onClick:i[5]||(i[5]=(...e)=>r.deleteTable&&r.deleteTable(...e))},t.toDisplayString(s.props.deleteText),1)])],64)):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(o.tableParams.grids,(e=>(t.openBlock(),t.createElementBlock("div",Ka,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e,(e=>(t.openBlock(),t.createElementBlock("div",{onClick:i[6]||(i[6]=(...e)=>r.confirmTableSize&&r.confirmTableSize(...e)),onMouseenter:t=>r.changeTableSize(e),class:t.normalizeClass(["mvi-editor-menu-table-grid",e.inside?"active":""])},null,42,Za)))),256))])))),256)),o.tableParams.size.length?(t.openBlock(),t.createElementBlock("div",Ga,t.toDisplayString(o.tableParams.size[0])+" × "+t.toDisplayString(o.tableParams.size[1]),1)):t.createCommentVNode("",!0)],64))])):"link"==s.name?(t.openBlock(),t.createElementBlock("div",Qa,[t.withDirectives(t.createElementVNode("input",{disabled:!o.linkParams.showText||null,ref:"linkText",onFocus:i[7]||(i[7]=(...e)=>r.inputFocus&&r.inputFocus(...e)),onBlur:i[8]||(i[8]=(...e)=>r.inputBlur&&r.inputBlur(...e)),"onUpdate:modelValue":i[9]||(i[9]=e=>o.linkParams.text=e),placeholder:s.props.placeholder[0],type:"text"},null,40,Ja),[[t.vModelText,o.linkParams.text,void 0,{trim:!0}]]),t.withDirectives(t.createElementVNode("input",{ref:"linkUrl",onFocus:i[10]||(i[10]=(...e)=>r.inputFocus&&r.inputFocus(...e)),onBlur:i[11]||(i[11]=(...e)=>r.inputBlur&&r.inputBlur(...e)),"onUpdate:modelValue":i[12]||(i[12]=e=>o.linkParams.url=e),placeholder:s.props.placeholder[1],type:"text"},null,40,ec),[[t.vModelText,o.linkParams.url,void 0,{trim:!0}]]),t.createElementVNode("div",tc,[t.createVNode(c,{label:s.props.targetText,placement:"right",size:"0.24rem",color:r.activeColor,modelValue:o.linkParams.target,"onUpdate:modelValue":i[13]||(i[13]=e=>o.linkParams.target=e)},null,8,["label","color","modelValue"]),t.createElementVNode("div",ic,[o.linkParams.showText?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("span",{key:0,class:"mvi-editor-menu-link-delete",onClick:i[14]||(i[14]=(...e)=>r.deleteLink&&r.deleteLink(...e))},t.toDisplayString(s.props.removeText),1)),t.createElementVNode("span",{class:"mvi-editor-menu-link-insert",style:t.normalizeStyle({color:r.activeColor}),onClick:i[15]||(i[15]=(...e)=>r.insertLink&&r.insertLink(...e))},t.toDisplayString(s.props.insertText),5)])])])):"image"==s.name||"video"==s.name?(t.openBlock(),t.createElementBlock("div",sc,[t.createVNode(d,{onChange:r.tabChange,modelValue:o.mediaParams.tabIndex,"onUpdate:modelValue":i[20]||(i[20]=e=>o.mediaParams.tabIndex=e),flex:"flex-start",offset:"0.4rem","active-color":r.activeColor},{default:t.withCtx((()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.parseList,(e=>(t.openBlock(),t.createBlock(h,{title:e.label},{default:t.withCtx((()=>["upload"==e.value?(t.openBlock(),t.createElementBlock("div",nc,[t.createVNode(l,{type:"upload-square"})])):"remote"==e.value?(t.openBlock(),t.createElementBlock("div",oc,[t.withDirectives(t.createElementVNode("input",{onFocus:i[16]||(i[16]=(...e)=>r.inputFocus&&r.inputFocus(...e)),onBlur:i[17]||(i[17]=(...e)=>r.inputBlur&&r.inputBlur(...e)),"onUpdate:modelValue":i[18]||(i[18]=e=>o.mediaParams.remoteUrl=e),placeholder:s.props.placeholder,type:"text"},null,40,rc),[[t.vModelText,o.mediaParams.remoteUrl,void 0,{trim:!0}]]),t.createElementVNode("div",{class:"mvi-editor-menu-media-insert",style:t.normalizeStyle({color:r.activeColor}),onClick:i[19]||(i[19]=(...e)=>r.insertRemote&&r.insertRemote(...e))},t.toDisplayString(s.props.insertText),5)])):t.createCommentVNode("",!0)])),_:2},1032,["title"])))),256))])),_:1},8,["onChange","modelValue","active-color"])])):(t.openBlock(),t.createElementBlock("div",lc,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.parseList,(e=>(t.openBlock(),t.createBlock(m,{tag:r.layerElTag(e),class:t.normalizeClass(["mvi-editor-menu-layer-el",o.selectedVal.value==e.value?"active":""]),onClick:t=>r.layerClick(e)},{default:t.withCtx((()=>[e.icon.type||e.icon.url?(t.openBlock(),t.createBlock(l,{key:0,class:"mvi-editor-menu-layer-icon",type:e.icon.type,url:e.icon.url,spin:e.icon.spin,size:e.icon.size,color:e.icon.color},null,8,["type","url","spin","size","color"])):t.createCommentVNode("",!0),t.createElementVNode("span",{textContent:t.toDisplayString(e.label)},null,8,ac)])),_:2},1032,["tag","class","onClick"])))),256))]))],64))])),_:3},8,["modelValue","placement","z-index","fixed","fixed-auto","offset","timeout","show-triangle","animation","shadow","border","width","closable","target","root","onShowing"])):t.createCommentVNode("",!0)],40,Ha)}],["__scopeId","data-v-a8be3560"]]);cc.install=e=>{e.component(cc.name,cc)};const hc=T({name:"m-row",props:{justify:{type:String,default:"flex-start",validator:e=>["flex-start","flex-end","space-around","space-between"].includes(e)},align:{type:String,default:"flex-start",validator:e=>["flex-start","flex-end","center"].includes(e)},tag:{type:String,default:"div"}},provide(){return{row:this}},computed:{rowStyle(){let e={};return e.justifyContent=this.justify,e.alignItems=this.align,e}},components:{Row:{render(){return t.h(this.$parent.tag,{},{default:this.$slots.default})}}}},[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Row",!0);return t.openBlock(),t.createBlock(l,{class:"mvi-row",style:t.normalizeStyle(r.rowStyle)},{default:t.withCtx((()=>[t.renderSlot(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])}],["__scopeId","data-v-3f4f3a9a"]]);hc.install=e=>{e.component(hc.name,hc)};const dc=T({name:"m-col",props:{span:{type:Number,default:24},offset:{type:Number,default:0},tag:{type:String,default:"div"},xs:{type:[Number,Object],default:null},sm:{type:[Number,Object],default:null},md:{type:[Number,Object],default:null},lg:{type:[Number,Object],default:null},xl:{type:[Number,Object],default:null}},inject:["row"],computed:{colStyle(){let e=[];return this.span&&e.push("mvi-col-"+this.span),this.offset&&e.push("mvi-col-offset-"+this.offset),u.common.isObject(this.xs)?(u.number.isNumber(this.xs.span)&&e.push("mvi-col-xs-"+this.xs.span),u.number.isNumber(this.xs.offset)&&e.push("mvi-col-offset-xs-"+this.xs.offset)):u.number.isNumber(this.xs)&&e.push("mvi-col-xs-"+this.xs),u.common.isObject(this.sm)?(u.number.isNumber(this.sm.span)&&e.push("mvi-col-sm-"+this.sm.span),u.number.isNumber(this.sm.offset)&&e.push("mvi-col-offset-sm-"+this.sm.offset)):u.number.isNumber(this.sm)&&e.push("mvi-col-sm-"+this.sm),u.common.isObject(this.md)?(u.number.isNumber(this.md.span)&&e.push("mvi-col-md-"+this.md.span),u.number.isNumber(this.md.offset)&&e.push("mvi-col-offset-md-"+this.md.offset)):u.number.isNumber(this.md)&&e.push("mvi-col-md-"+this.md),u.common.isObject(this.lg)?(u.number.isNumber(this.lg.span)&&e.push("mvi-col-lg-"+this.lg.span),u.number.isNumber(this.lg.offset)&&e.push("mvi-col-offset-lg-"+this.lg.offset)):u.number.isNumber(this.lg)&&e.push("mvi-col-lg-"+this.lg),u.common.isObject(this.xl)?(u.number.isNumber(this.xl.span)&&e.push("mvi-col-xl-"+this.xl.span),u.number.isNumber(this.xl.offset)&&e.push("mvi-col-offset-xl-"+this.xl.offset)):u.number.isNumber(this.xl)&&e.push("mvi-col-xl-"+this.xl),e}},components:{Col:{render(){return t.h(this.$parent.tag,{},{default:this.$slots.default})}}}},[["render",function(e,i,s,n,o,r){const l=t.resolveComponent("Col",!0);return t.openBlock(),t.createBlock(l,{class:t.normalizeClass(r.colStyle)},{default:t.withCtx((()=>[t.renderSlot(e.$slots,"default",{},void 0,!0)])),_:3},8,["class"])}],["__scopeId","data-v-7098c473"]]);dc.install=e=>{e.component(dc.name,dc)};const mc=T({name:"m-form",props:{width:{type:String,default:null},block:{type:Boolean,default:!1},align:{type:String,default:"center"},labelBlock:{type:Boolean,default:!1},labelWidth:{type:String,default:null},labelOffset:{type:String,default:null}},computed:{formStyle(){return{width:this.block&&this.width?this.width:""}}},provide(){return{form:this}}},[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-form",s.block?"block":""]),style:t.normalizeStyle(r.formStyle)},[t.renderSlot(e.$slots,"default",{},void 0,!0)],6)}],["__scopeId","data-v-318b5f2d"]]);mc.install=e=>{e.component(mc.name,mc)};const uc=["textContent"],pc={key:1,class:"mvi-form-container"};const fc=T({name:"m-form-el",props:{align:{type:String,default:null},width:{type:String,default:null},label:{type:String,default:""},labelWidth:{type:String,default:null},labelOffset:{type:String,default:null}},inject:["form"],computed:{labelCls(){let e=["mvi-form-label"];return this.form.labelBlock&&this.form.block&&e.push("block"),e},labelStyle(){let e={};return this.form.labelBlock||(this.labelWidth?e.width=this.labelWidth:this.form.labelWidth&&(e.width=this.form.labelWidth)),this.labelOffset?this.form.labelBlock?e.marginBottom=this.labelOffset:e.marginRight=this.labelOffset:this.form.labelOffset&&(this.form.labelBlock?e.marginBottom=this.form.labelOffset:e.marginRight=this.form.labelOffset),e},formElStyle(){let e={};return this.width&&(e.width=this.width),this.align?e.alignItems=this.align:this.form.align&&(e.alignItems=this.form.align),e}}},[["render",function(e,i,s,n,o,r){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mvi-form-el",r.form.block?"block":""]),style:t.normalizeStyle(r.formElStyle)},[s.label?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(r.labelCls),textContent:t.toDisplayString(s.label),style:t.normalizeStyle(r.labelStyle)},null,14,uc)):t.createCommentVNode("",!0),e.$slots.default?(t.openBlock(),t.createElementBlock("div",pc,[t.renderSlot(e.$slots,"default",{},void 0,!0)])):t.createCommentVNode("",!0)],6)}],["__scopeId","data-v-5f7982ad"]]);fc.install=e=>{e.component(fc.name,fc)};const gc=e=>{const t={Dap:u,Anchor:p,Resize:g,Drag:y,Prop:b,Scroll:v,Spy:w,Observe:k,Upload:x,Px:C,Ripple:S,Button:_,Icon:$,Cell:V,CellGroup:M,Navbar:U,Tabbar:te,Image:re,Overlay:le,Popup:ae,Checkbox:pe,Radio:we,DatePicker:Oe,DateNativePicker:De,Input:Ue,Modal:Ge,Dialog:ut,Toast:bt,Loading:xe,Msgbox:kt,NumberKeyboard:Pt,Search:Dt,Progress:Ht,Slider:Ut,Stepper:Gt,Switch:ti,Actionsheet:di,Dropdown:bi,Notify:Ei,PullRefresh:$i,SwipeCell:Pi,CircleProgress:Mi,Collapse:Fi,CollapseItem:Xi,Divider:Gi,Roll:Qi,Steps:Ji,Step:ns,Label:os,Swiper:hs,SwiperSlide:ds,Tabs:ys,Tab:bs,Badge:Z,Table:Rs,Calendar:Js,Triangle:ks,Tooltip:$s,ColorPicker:an,ImagePreview:bn,Page:An,LoadingBar:Vn,Picker:Pe,TransitionSlide:Wi,List:Un,Skeleton:Zn,Sign:Gn,Layer:Es,Select:oo,Autocomplete:mo,DateChooser:So,Field:_o,Editor:Na,EditorMenus:Va,EditorMenu:cc,Row:hc,Col:dc,Form:mc,FormEl:fc};Object.values(t).map((t=>{t.install(e)}))},yc="1.7.1",bc={install:gc,version:yc};e.Actionsheet=di,e.AlexElement=Xo,e.Anchor=p,e.Autocomplete=mo,e.Badge=Z,e.Button=_,e.Calendar=Js,e.Cell=V,e.CellGroup=M,e.Checkbox=pe,e.CircleProgress=Mi,e.Col=dc,e.Collapse=Fi,e.CollapseItem=Xi,e.ColorPicker=an,e.Dap=u,e.DateChooser=So,e.DateNativePicker=De,e.DatePicker=Oe,e.Dialog=ut,e.Divider=Gi,e.Drag=y,e.Dropdown=bi,e.Editor=Na,e.EditorDefinedMenuConfig=Ra,e.EditorMenu=cc,e.EditorMenus=Va,e.Field=_o,e.Form=mc,e.FormEl=fc,e.Icon=$,e.Image=re,e.ImagePreview=bn,e.Input=Ue,e.Label=os,e.Layer=Es,e.List=Un,e.Loading=xe,e.LoadingBar=Vn,e.Modal=Ge,e.Msgbox=kt,e.Navbar=U,e.Notify=Ei,e.NumberKeyboard=Pt,e.Observe=k,e.Overlay=le,e.Page=An,e.Picker=Pe,e.Popup=ae,e.Progress=Ht,e.Prop=b,e.PullRefresh=$i,e.Px=C,e.Radio=we,e.Resize=g,e.Ripple=S,e.Roll=Qi,e.Row=hc,e.Scroll=v,e.Search=Dt,e.Select=oo,e.Sign=Gn,e.Skeleton=Zn,e.Slider=Ut,e.Spy=w,e.Step=ns,e.Stepper=Gt,e.Steps=Ji,e.SwipeCell=Pi,e.Swiper=hs,e.SwiperSlide=ds,e.Switch=ti,e.Tab=bs,e.Tabbar=te,e.Table=Rs,e.Tabs=ys,e.Toast=bt,e.Tooltip=$s,e.TransitionSlide=Wi,e.Triangle=ks,e.Upload=x,e.default=bc,e.install=gc,e.version=yc,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
